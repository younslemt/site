<!DOCTYPE html>
<html lang="fr">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NVCZ7J5SD3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NVCZ7J5SD3');
</script>
<meta charset="UTF-8">
<title>Diagnostic Cybers√©curit√© ‚Äì Master Your Metrics</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #f4f6f8, #eef2f6);
  margin: 0;
}

header {
  background-color: #0b1c2d;
  color: white;
  padding: 40px 20px;
  text-align: center;
}

main {
  max-width: 700px;
  margin: 40px auto;
  padding: 20px;
}

.card {
  background: white;
  border-radius: 18px;
  padding: 30px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.08);
  text-align: center;
}

.progress {
  height: 10px;
  background: #e0e0e0;
  border-radius: 20px;
  overflow: hidden;
  margin-bottom: 20px;
}

.progress-bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #6c5ce7, #00cec9);
  transition: width 0.4s ease;
}

.counter {
  font-size: 0.9em;
  color: #666;
  margin-bottom: 20px;
}

.question {
  font-size: 1.3em;
  font-weight: bold;
  margin-bottom: 25px;
}

.choice {
  display: block;
  width: 100%;
  padding: 16px;
  margin: 12px 0;
  border-radius: 14px;
  border: 2px solid #eee;
  background: #f9f9f9;
  font-size: 1.05em;
  cursor: pointer;
  transition: all 0.2s ease;
}

.choice:hover {
  background: #f0efff;
  border-color: #6c5ce7;
}

.temoignage {
  background: #fff;
  padding: 20px;
  border-left: 4px solid #6c5ce7;
  margin-top: 25px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  font-style: italic;
}

footer {
  text-align: center;
  margin-top: 30px;
}
</style>

<script defer src="/_vercel/insights/script.js"></script>
<script defer src="https://vercel.com/insights/script.js"></script>
</head>

<body>

<header>
<h1>Diagnostic Cybers√©curit√©</h1>
<p>√âvaluez la protection r√©elle de vos syst√®mes et de vos donn√©es</p>
</header>

<main>

<div class="card">

  <div class="progress">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div class="counter" id="counter"></div>

  <div class="question" id="question"></div>
  <div id="choices"></div>

  <div id="result"></div>

</div>

<div id="nextStepTimer" style="display:none; margin-top:20px; font-size:0.95em; color:#555;">
  Passage √† la <strong>synth√®se finale</strong> dans
  <strong><span id="countdown">4</span>s</strong>‚Ä¶
</div>

<footer>
<a href="../index.html"
   style="display:inline-block;margin-top:20px;padding:12px 24px;background:#6c5ce7;color:white;text-decoration:none;border-radius:10px;font-weight:bold;">
‚Üê Retour √† l'accueil
</a>
</footer>

</main>

<script>
const questions = [
  {
    text: "Vos collaborateurs sont-ils form√©s et sensibilis√©s aux risques cyber (phishing, mots de passe, e-mails) ?",
    weight: 30
  },
  {
    text: "Utilisez-vous des mots de passe robustes et une authentification √† deux facteurs pour les acc√®s sensibles ?",
    weight: 20
  },
  {
    text: "Vos syst√®mes sont-ils prot√©g√©s par des antivirus, pare-feu et mises √† jour r√©guli√®res ?",
    weight: 20
  },
  {
    text: "Effectuez-vous des sauvegardes automatiques, s√©curis√©es et test√©es de vos donn√©es ?",
    weight: 15
  },
  {
    text: "Disposez-vous d‚Äôun plan de r√©ponse aux incidents cyber avec des responsabilit√©s clairement d√©finies ?",
    weight: 15
  }
];

let index = 0;
let totalScore = 0;
let answers = [];

const questionEl = document.getElementById("question");
const choicesEl = document.getElementById("choices");
const progressBar = document.getElementById("progressBar");
const counter = document.getElementById("counter");
const resultEl = document.getElementById("result");

function loadQuestion() {
  const q = questions[index];
  questionEl.textContent = q.text;
  counter.textContent = `Question ${index + 1} / ${questions.length}`;
  progressBar.style.width = `${(index / questions.length) * 100}%`;
  choicesEl.innerHTML = "";

  [
    { label: "‚ùå Non", value: 0 },
    { label: "‚ö†Ô∏è Partiellement", value: 0.5 },
    { label: "‚úÖ Oui, structur√©", value: 1 }
  ].forEach(opt => {
    const btn = document.createElement("button");
    btn.className = "choice";
    btn.textContent = opt.label;
    btn.onclick = () => {
      const weighted = opt.value * q.weight;
      totalScore += weighted;

      answers.push({
        question: q.text,
        answer: opt.label,
        score: Math.round(weighted)
      });

      index++;
      index < questions.length ? loadQuestion() : showResult();
    };
    choicesEl.appendChild(btn);
  });
}

function showResult() {
  progressBar.style.width = "100%";

  const finalScore = Math.round(totalScore);
  localStorage.setItem("scoreCyber", finalScore);
  localStorage.setItem("answersCyber", JSON.stringify(answers));

  let message =
    finalScore < 30
      ? "üü• Cybers√©curit√© faible ‚Äì exposition √©lev√©e au risque de piratage."
      : finalScore < 70
      ? "üüß Cybers√©curit√© interm√©diaire ‚Äì vuln√©rabilit√©s √† corriger."
      : "üü© Cybers√©curit√© solide ‚Äì vigilance et am√©lioration continue.";

  questionEl.style.display = "none";
  choicesEl.style.display = "none";
  counter.style.display = "none";

  resultEl.innerHTML = `
    <h2>${message}</h2>
    <p><strong>Score Cybers√©curit√© :</strong> ${finalScore} / 100</p>
    <div class="temoignage">
      ‚ÄúNous pensions √™tre prot√©g√©s, mais le facteur humain √©tait notre point faible.‚Äù
      <br><strong>‚Äî Beno√Æt V., Dirigeant PME</strong>
    </div>
  `;

  const timerEl = document.getElementById("nextStepTimer");
  const countdownEl = document.getElementById("countdown");

  timerEl.style.display = "block";
  let timeLeft = 4;
  countdownEl.textContent = timeLeft;

  const interval = setInterval(() => {
    timeLeft--;
    countdownEl.textContent = timeLeft;
    if (timeLeft <= 0) {
      clearInterval(interval);
      window.location.href = "https://master-metrics.vercel.app/synthese.html";
    }
  }, 1000);
}

loadQuestion();
</script>

</body>
</html>


