(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function pA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qm={exports:{}},sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function yA(){if(O_)return sc;O_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:u,ref:o!==void 0?o:null,props:c}}return sc.Fragment=e,sc.jsx=n,sc.jsxs=n,sc}var k_;function vA(){return k_||(k_=1,Qm.exports=yA()),Qm.exports}var y=vA(),Xm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function _A(){if(M_)return Ce;M_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,V={};function Z(O,W,ae){this.props=O,this.context=W,this.refs=V,this.updater=ae||G}Z.prototype.isReactComponent={},Z.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},Z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function X(){}X.prototype=Z.prototype;function U(O,W,ae){this.props=O,this.context=W,this.refs=V,this.updater=ae||G}var ce=U.prototype=new X;ce.constructor=U,B(ce,Z.prototype),ce.isPureReactComponent=!0;var fe=Array.isArray;function ge(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(O,W,ae){var he=ae.ref;return{$$typeof:i,type:O,key:W,ref:he!==void 0?he:null,props:ae}}function L(O,W){return R(O.type,W,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function P(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return W[ae]})}var N=/\/+/g;function Qe(O,W){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):W.toString(36)}function tt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ge,ge):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,W,ae,he,_e){var Ee=typeof O;(Ee==="undefined"||Ee==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(Ee){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case i:case e:Me=!0;break;case b:return Me=O._init,Q(Me(O._payload),W,ae,he,_e)}}if(Me)return _e=_e(O),Me=he===""?"."+Qe(O,0):he,fe(_e)?(ae="",Me!=null&&(ae=Me.replace(N,"$&/")+"/"),Q(_e,W,ae,"",function(Ti){return Ti})):_e!=null&&(M(_e)&&(_e=L(_e,ae+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+Me)),W.push(_e)),1;Me=0;var pt=he===""?".":he+":";if(fe(O))for(var Ie=0;Ie<O.length;Ie++)he=O[Ie],Ee=pt+Qe(he,Ie),Me+=Q(he,W,ae,Ee,_e);else if(Ie=k(O),typeof Ie=="function")for(O=Ie.call(O),Ie=0;!(he=O.next()).done;)he=he.value,Ee=pt+Qe(he,Ie++),Me+=Q(he,W,ae,Ee,_e);else if(Ee==="object"){if(typeof O.then=="function")return Q(tt(O),W,ae,he,_e);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Me}function oe(O,W,ae){if(O==null)return O;var he=[],_e=0;return Q(O,he,"","",function(Ee){return W.call(ae,Ee,_e++)}),he}function te(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var ue=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},se={map:oe,forEach:function(O,W,ae){oe(O,function(){W.apply(this,arguments)},ae)},count:function(O){var W=0;return oe(O,function(){W++}),W},toArray:function(O){return oe(O,function(W){return W})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ce.Activity=w,Ce.Children=se,Ce.Component=Z,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=U,Ce.StrictMode=s,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(O,W,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=B({},O.props),_e=O.key;if(W!=null)for(Ee in W.key!==void 0&&(_e=""+W.key),W)!A.call(W,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&W.ref===void 0||(he[Ee]=W[Ee]);var Ee=arguments.length-2;if(Ee===1)he.children=ae;else if(1<Ee){for(var Me=Array(Ee),pt=0;pt<Ee;pt++)Me[pt]=arguments[pt+2];he.children=Me}return R(O.type,_e,he)},Ce.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ce.createElement=function(O,W,ae){var he,_e={},Ee=null;if(W!=null)for(he in W.key!==void 0&&(Ee=""+W.key),W)A.call(W,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(_e[he]=W[he]);var Me=arguments.length-2;if(Me===1)_e.children=ae;else if(1<Me){for(var pt=Array(Me),Ie=0;Ie<Me;Ie++)pt[Ie]=arguments[Ie+2];_e.children=pt}if(O&&O.defaultProps)for(he in Me=O.defaultProps,Me)_e[he]===void 0&&(_e[he]=Me[he]);return R(O,Ee,_e)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:m,render:O}},Ce.isValidElement=M,Ce.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:te}},Ce.memo=function(O,W){return{$$typeof:p,type:O,compare:W===void 0?null:W}},Ce.startTransition=function(O){var W=C.T,ae={};C.T=ae;try{var he=O(),_e=C.S;_e!==null&&_e(ae,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ge,ue)}catch(Ee){ue(Ee)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),C.T=W}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(O){return C.H.use(O)},Ce.useActionState=function(O,W,ae){return C.H.useActionState(O,W,ae)},Ce.useCallback=function(O,W){return C.H.useCallback(O,W)},Ce.useContext=function(O){return C.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,W){return C.H.useDeferredValue(O,W)},Ce.useEffect=function(O,W){return C.H.useEffect(O,W)},Ce.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(O,W,ae){return C.H.useImperativeHandle(O,W,ae)},Ce.useInsertionEffect=function(O,W){return C.H.useInsertionEffect(O,W)},Ce.useLayoutEffect=function(O,W){return C.H.useLayoutEffect(O,W)},Ce.useMemo=function(O,W){return C.H.useMemo(O,W)},Ce.useOptimistic=function(O,W){return C.H.useOptimistic(O,W)},Ce.useReducer=function(O,W,ae){return C.H.useReducer(O,W,ae)},Ce.useRef=function(O){return C.H.useRef(O)},Ce.useState=function(O){return C.H.useState(O)},Ce.useSyncExternalStore=function(O,W,ae){return C.H.useSyncExternalStore(O,W,ae)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.4",Ce}var j_;function ep(){return j_||(j_=1,Xm.exports=_A()),Xm.exports}var D=ep();const QE=pA(D);var Jm={exports:{}},ac={},Wm={exports:{}},Zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function bA(){return V_||(V_=1,(function(i){function e(Q,oe){var te=Q.length;Q.push(oe);e:for(;0<te;){var ue=te-1>>>1,se=Q[ue];if(0<o(se,oe))Q[ue]=oe,Q[te]=se,te=ue;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var oe=Q[0],te=Q.pop();if(te!==oe){Q[0]=te;e:for(var ue=0,se=Q.length,O=se>>>1;ue<O;){var W=2*(ue+1)-1,ae=Q[W],he=W+1,_e=Q[he];if(0>o(ae,te))he<se&&0>o(_e,ae)?(Q[ue]=_e,Q[he]=te,ue=he):(Q[ue]=ae,Q[W]=te,ue=W);else if(he<se&&0>o(_e,te))Q[ue]=_e,Q[he]=te,ue=he;else break e}}return oe}function o(Q,oe){var te=Q.sortIndex-oe.sortIndex;return te!==0?te:Q.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();i.unstable_now=function(){return u.now()-m}}var g=[],p=[],b=1,w=null,x=3,k=!1,G=!1,B=!1,V=!1,Z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function ce(Q){for(var oe=n(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=Q)s(p),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(p)}}function fe(Q){if(B=!1,ce(Q),!G)if(n(g)!==null)G=!0,ge||(ge=!0,P());else{var oe=n(p);oe!==null&&tt(fe,oe.startTime-Q)}}var ge=!1,C=-1,A=5,R=-1;function L(){return V?!0:!(i.unstable_now()-R<A)}function M(){if(V=!1,ge){var Q=i.unstable_now();R=Q;var oe=!0;try{e:{G=!1,B&&(B=!1,X(C),C=-1),k=!0;var te=x;try{t:{for(ce(Q),w=n(g);w!==null&&!(w.expirationTime>Q&&L());){var ue=w.callback;if(typeof ue=="function"){w.callback=null,x=w.priorityLevel;var se=ue(w.expirationTime<=Q);if(Q=i.unstable_now(),typeof se=="function"){w.callback=se,ce(Q),oe=!0;break t}w===n(g)&&s(g),ce(Q)}else s(g);w=n(g)}if(w!==null)oe=!0;else{var O=n(p);O!==null&&tt(fe,O.startTime-Q),oe=!1}}break e}finally{w=null,x=te,k=!1}oe=void 0}}finally{oe?P():ge=!1}}}var P;if(typeof U=="function")P=function(){U(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Qe=N.port2;N.port1.onmessage=M,P=function(){Qe.postMessage(null)}}else P=function(){Z(M,0)};function tt(Q,oe){C=Z(function(){Q(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var te=x;x=oe;try{return Q()}finally{x=te}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var te=x;x=Q;try{return oe()}finally{x=te}},i.unstable_scheduleCallback=function(Q,oe,te){var ue=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ue+te:ue):te=ue,Q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=te+se,Q={id:b++,callback:oe,priorityLevel:Q,startTime:te,expirationTime:se,sortIndex:-1},te>ue?(Q.sortIndex=te,e(p,Q),n(g)===null&&Q===n(p)&&(B?(X(C),C=-1):B=!0,tt(fe,te-ue))):(Q.sortIndex=se,e(g,Q),G||k||(G=!0,ge||(ge=!0,P()))),Q},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(Q){var oe=x;return function(){var te=x;x=oe;try{return Q.apply(this,arguments)}finally{x=te}}}})(Zm)),Zm}var L_;function EA(){return L_||(L_=1,Wm.exports=bA()),Wm.exports}var eg={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function wA(){if(P_)return nn;P_=1;var i=ep();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:b}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(g,p,null,b)},nn.flushSync=function(g){var p=u.T,b=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=p,s.p=b,s.d.f()}},nn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},nn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},nn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,w=m(b,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:k}):b==="script"&&s.d.X(g,{crossOrigin:w,integrity:x,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},nn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,w=m(b,p.crossOrigin);s.d.L(g,b,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},nn.requestFormReset=function(g){s.d.r(g)},nn.unstable_batchedUpdates=function(g,p){return g(p)},nn.useFormState=function(g,p,b){return u.H.useFormState(g,p,b)},nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var U_;function TA(){if(U_)return eg.exports;U_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),eg.exports=wA(),eg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function xA(){if(z_)return ac;z_=1;var i=EA(),e=ep(),n=TA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function u(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,T=d.child;T;){if(T===a){_=!0,a=d,l=f;break}if(T===l){_=!0,l=d,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=d;break}if(T===l){_=!0,l=f,a=d;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),U=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case Z:return"Profiler";case V:return"StrictMode";case fe:return"Suspense";case ge:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case U:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case ce:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:Qe(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return Qe(t(r))}catch{}}return null}var tt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ue=[],se=-1;function O(t){return{current:t}}function W(t){0>se||(t.current=ue[se],ue[se]=null,se--)}function ae(t,r){se++,ue[se]=t.current,t.current=r}var he=O(null),_e=O(null),Ee=O(null),Me=O(null);function pt(t,r){switch(ae(Ee,r),ae(_e,t),ae(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?t_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=t_(r),t=n_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(he),ae(he,t)}function Ie(){W(he),W(_e),W(Ee)}function Ti(t){t.memoizedState!==null&&ae(Me,t);var r=he.current,a=n_(r,t.type);r!==a&&(ae(_e,t),ae(he,a))}function Wn(t){_e.current===t&&(W(he),W(_e)),Me.current===t&&(W(Me),tc._currentValue=te)}var Zn,xi;function ln(t){if(Zn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Zn=r&&r[1]||"",xi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zn+t+xi}var tl=!1;function Ms(t,r){if(!t||tl)return"";tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var K=$}Reflect.construct(t,[],ne)}else{try{ne.call()}catch($){K=$}t.call(ne.prototype)}}else{try{throw Error()}catch($){K=$}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var I=_.split(`
`),F=T.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===F.length)for(l=I.length-1,d=F.length-1;1<=l&&0<=d&&I[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==F[d]){var J=`
`+I[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=d);break}}}finally{tl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ln(a):""}function nl(t,r){switch(t.tag){case 26:case 27:case 5:return ln(t.type);case 16:return ln("Lazy");case 13:return t.child!==r&&r!==null?ln("Suspense Fallback"):ln("Suspense");case 19:return ln("SuspenseList");case 0:case 15:return Ms(t.type,!1);case 11:return Ms(t.type.render,!1);case 1:return Ms(t.type,!0);case 31:return ln("Activity");default:return""}}function il(t){try{var r="",a=null;do r+=nl(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,Pt=i.unstable_scheduleCallback,Dr=i.unstable_cancelCallback,Xd=i.unstable_shouldYield,Jc=i.unstable_requestPaint,cn=i.unstable_now,js=i.unstable_getCurrentPriorityLevel,rl=i.unstable_ImmediatePriority,sl=i.unstable_UserBlockingPriority,Or=i.unstable_NormalPriority,Jd=i.unstable_LowPriority,Wc=i.unstable_IdlePriority,Zc=i.log,eu=i.unstable_setDisableYieldValue,ei=null,Yt=null;function Vn(t){if(typeof Zc=="function"&&eu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ei,t)}catch{}}var _t=Math.clz32?Math.clz32:nu,tu=Math.log,Ma=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(tu(t)/Ma|0)|0}var Si=256,Vs=262144,Rt=4194304;function Ai(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ri(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=Ai(l):(_&=T,_!==0?d=Ai(_):a||(a=T&~t,a!==0&&(d=Ai(a))))):(T=l&~f,T!==0?d=Ai(T):_!==0?d=Ai(_):a||(a=l&~t,a!==0&&(d=Ai(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function ti(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Wd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function Ci(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ls(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zd(t,r,a,l,d,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-_t(a),ne=1<<J;T[J]=0,I[J]=-1;var K=F[J];if(K!==null)for(F[J]=null,J=0;J<K.length;J++){var $=K[J];$!==null&&($.lane&=-536870913)}a&=~ne}l!==0&&Ps(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~r))}function Ps(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-_t(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function al(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-_t(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function ol(t,r){var a=r&-r;return a=(a&42)!==0?1:Us(a),(a&(t.suspendedLanes|r))!==0?0:a}function Us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function tr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:S_(t.type))}function ni(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var ii=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ii,qt="__reactProps$"+ii,Ni="__reactContainer$"+ii,ja="__reactEvents$"+ii,ef="__reactListeners$"+ii,su="__reactHandles$"+ii,au="__reactResources$"+ii,Ii="__reactMarker$"+ii;function Va(t){delete t[Ct],delete t[qt],delete t[ja],delete t[ef],delete t[su]}function Di(t){var r=t[Ct];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ni]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=c_(t);t!==null;){if(a=t[Ct])return a;t=c_(t)}return r}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[Ct]||t[Ni]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Tn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Oi(t){var r=t[au];return r||(r=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(t){t[Ii]=!0}var ll=new Set,cl={};function ki(t,r){Mi(t,r),Mi(t+"Capture",r)}function Mi(t,r){for(cl[t]=r,t=0;t<r.length;t++)ll.add(r[t])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},dl={};function ou(t){return At.call(dl,t)?!0:At.call(hl,t)?!1:ul.test(t)?dl[t]=!0:(hl[t]=!0,!1)}function La(t,r,a){if(ou(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function xn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function It(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function We(t){if(!t._valueTracker){var r=kr(t)?"checked":"value";t._valueTracker=fl(t,r,""+t[r])}}function zs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=kr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ji(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bs=/[\n"\\]/g;function mn(t){return t.replace(Bs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pa(t,r,a,l,d,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ht(r)):t.value!==""+Ht(r)&&(t.value=""+Ht(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?ml(t,_,Ht(r)):a!=null?ml(t,_,Ht(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ht(T):t.removeAttribute("name")}function lu(t,r,a,l,d,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){We(t);return}a=a!=null?""+Ht(a):"",r=r!=null?""+Ht(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),We(t)}function ml(t,r,a){r==="number"&&ji(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Mr(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function cu(t,r,a){if(r!=null&&(r=""+Ht(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ht(a):""}function jr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(tt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ht(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),We(t)}function gn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||uu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function pl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&gl(t,d,l)}else for(var f in r)r.hasOwnProperty(f)&&gl(t,f,r[f])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return Vr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var yl=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,Vi=null;function qs(t){var r=Ln(t);if(r&&(t=r.stateNode)){var a=t[qt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[qt]||null;if(!d)throw Error(s(90));Pa(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&zs(l)}break e;case"textarea":cu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Mr(t,!!a.multiple,r,!1)}}}var Ba=!1;function Pr(t,r,a){if(Ba)return t(r,a);Ba=!0;try{var l=t(r);return l}finally{if(Ba=!1,(Lr!==null||Vi!==null)&&(rh(),Lr&&(r=Lr,t=Vi,Vi=Lr=null,qs(r),t)))for(r=0;r<t.length;r++)qs(t[r])}}function si(t,r){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(Un)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Hs=!1}var Li=null,vl=null,Fs=null;function _l(){if(Fs)return Fs;var t,r=vl,a=r.length,l,d="value"in Li?Li.value:Li.textContent,f=d.length;for(t=0;t<a&&r[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===d[f-l];l++);return Fs=d.slice(t,1<l?1-l:void 0)}function Gs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function nr(){return!0}function ai(){return!1}function $t(t){function r(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?nr:ai,this.isPropagationStopped=ai,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),r}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=$t(ir),Ur=w({},ir,{view:0,detail:0}),bl=$t(Ur),zr,qa,Ui,Ha=w({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(zr=t.screenX-Ui.screenX,qa=t.screenY-Ui.screenY):qa=zr=0,Ui=t),zr)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),El=$t(Ha),Ks=w({},Ha,{dataTransfer:0}),du=$t(Ks),fu=w({},Ur,{relatedTarget:0}),Ys=$t(fu),wl=w({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=$t(wl),Fa=w({},ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gu=$t(Fa),pu=w({},ir,{data:0}),zi=$t(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=_u[t])?!!r[t]:!1}function Br(){return bu}var un=w({},Ur,{key:function(t){if(t.key){var r=yu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Eu=$t(un),wu=w({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=$t(wu),h=w({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),v=$t(h),E=w({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=$t(E),q=w({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=$t(q),le=w({},ir,{newState:0,oldState:0}),De=$t(le),bt=[9,13,27,32],Ye=Un&&"CompositionEvent"in window,dt=null;Un&&"documentMode"in document&&(dt=document.documentMode);var zn=Un&&"TextEvent"in window&&!dt,Bi=Un&&(!Ye||dt&&8<dt&&11>=dt),oi=" ",li=!1;function $s(t,r){switch(t){case"keyup":return bt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function z1(t,r){switch(t){case"compositionend":return Ga(r);case"keypress":return r.which!==32?null:(li=!0,oi);case"textInput":return t=r.data,t===oi&&li?null:t;default:return null}}function B1(t,r){if(Ka)return t==="compositionend"||!Ye&&$s(t,r)?(t=_l(),Fs=vl=Li=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bi&&r.locale!=="ko"?null:r.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dy(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!q1[t.type]:r==="textarea"}function fy(t,r,a,l){Lr?Vi?Vi.push(l):Vi=[l]:Lr=l,r=hh(r,"onChange"),0<r.length&&(a=new Pi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Tl=null,xl=null;function H1(t){Qv(t,0)}function Tu(t){var r=Tn(t);if(zs(r))return t}function my(t,r){if(t==="change")return r}var gy=!1;if(Un){var tf;if(Un){var nf="oninput"in document;if(!nf){var py=document.createElement("div");py.setAttribute("oninput","return;"),nf=typeof py.oninput=="function"}tf=nf}else tf=!1;gy=tf&&(!document.documentMode||9<document.documentMode)}function yy(){Tl&&(Tl.detachEvent("onpropertychange",vy),xl=Tl=null)}function vy(t){if(t.propertyName==="value"&&Tu(xl)){var r=[];fy(r,xl,t,Pn(t)),Pr(H1,r)}}function F1(t,r,a){t==="focusin"?(yy(),Tl=r,xl=a,Tl.attachEvent("onpropertychange",vy)):t==="focusout"&&yy()}function G1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(xl)}function K1(t,r){if(t==="click")return Tu(r)}function Y1(t,r){if(t==="input"||t==="change")return Tu(r)}function $1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Sn=typeof Object.is=="function"?Object.is:$1;function Sl(t,r){if(Sn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!At.call(r,d)||!Sn(t[d],r[d]))return!1}return!0}function _y(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function by(t,r){var a=_y(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_y(a)}}function Ey(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ey(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function wy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ji(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ji(t.document)}return r}function rf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Q1=Un&&"documentMode"in document&&11>=document.documentMode,Ya=null,sf=null,Al=null,af=!1;function Ty(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||Ya==null||Ya!==ji(l)||(l=Ya,"selectionStart"in l&&rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&Sl(Al,l)||(Al=l,l=hh(sf,"onSelect"),0<l.length&&(r=new Pi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ya)))}function Qs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var $a={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},of={},xy={};Un&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Xs(t){if(of[t])return of[t];if(!$a[t])return t;var r=$a[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in xy)return of[t]=r[a];return t}var Sy=Xs("animationend"),Ay=Xs("animationiteration"),Ry=Xs("animationstart"),X1=Xs("transitionrun"),J1=Xs("transitionstart"),W1=Xs("transitioncancel"),Cy=Xs("transitionend"),Ny=new Map,lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lf.push("scrollEnd");function ci(t,r){Ny.set(t,r),ki(r,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],Qa=0,cf=0;function Su(){for(var t=Qa,r=cf=Qa=0;r<t;){var a=Bn[r];Bn[r++]=null;var l=Bn[r];Bn[r++]=null;var d=Bn[r];Bn[r++]=null;var f=Bn[r];if(Bn[r++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&Iy(a,d,f)}}function Au(t,r,a,l){Bn[Qa++]=t,Bn[Qa++]=r,Bn[Qa++]=a,Bn[Qa++]=l,cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function uf(t,r,a,l){return Au(t,r,a,l),Ru(t)}function Js(t,r){return Au(t,null,null,r),Ru(t)}function Iy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-_t(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function Ru(t){if(50<$l)throw $l=0,_m=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Xa={};function Z1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,r,a,l){return new Z1(t,r,a,l)}function hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sr(t,r){var a=t.alternate;return a===null?(a=An(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Dy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Cu(t,r,a,l,d,f){var _=0;if(l=t,typeof t=="function")hf(t)&&(_=1);else if(typeof t=="string")_=rA(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=An(31,a,r,d),t.elementType=R,t.lanes=f,t;case B:return Ws(a.children,d,f,r);case V:_=8,d|=24;break;case Z:return t=An(12,a,r,d|2),t.elementType=Z,t.lanes=f,t;case fe:return t=An(13,a,r,d),t.elementType=fe,t.lanes=f,t;case ge:return t=An(19,a,r,d),t.elementType=ge,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:_=10;break e;case X:_=9;break e;case ce:_=11;break e;case C:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=An(_,a,r,d),r.elementType=t,r.type=l,r.lanes=f,r}function Ws(t,r,a,l){return t=An(7,t,l,r),t.lanes=a,t}function df(t,r,a){return t=An(6,t,null,r),t.lanes=a,t}function Oy(t){var r=An(18,null,null,0);return r.stateNode=t,r}function ff(t,r,a){return r=An(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ky=new WeakMap;function qn(t,r){if(typeof t=="object"&&t!==null){var a=ky.get(t);return a!==void 0?a:(r={value:t,source:r,stack:il(r)},ky.set(t,r),r)}return{value:t,source:r,stack:il(r)}}var Ja=[],Wa=0,Nu=null,Rl=0,Hn=[],Fn=0,qr=null,qi=1,Hi="";function ar(t,r){Ja[Wa++]=Rl,Ja[Wa++]=Nu,Nu=t,Rl=r}function My(t,r,a){Hn[Fn++]=qi,Hn[Fn++]=Hi,Hn[Fn++]=qr,qr=t;var l=qi;t=Hi;var d=32-_t(l)-1;l&=~(1<<d),a+=1;var f=32-_t(r)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,qi=1<<32-_t(r)+d|a<<d|l,Hi=f+t}else qi=1<<f|a<<d|l,Hi=t}function mf(t){t.return!==null&&(ar(t,1),My(t,1,0))}function gf(t){for(;t===Nu;)Nu=Ja[--Wa],Ja[Wa]=null,Rl=Ja[--Wa],Ja[Wa]=null;for(;t===qr;)qr=Hn[--Fn],Hn[Fn]=null,Hi=Hn[--Fn],Hn[Fn]=null,qi=Hn[--Fn],Hn[Fn]=null}function jy(t,r){Hn[Fn++]=qi,Hn[Fn++]=Hi,Hn[Fn++]=qr,qi=r.id,Hi=r.overflow,qr=t}var Qt=null,ct=null,He=!1,Hr=null,Gn=!1,pf=Error(s(519));function Fr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(qn(r,t)),pf}function Vy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Ct]=t,r[qt]=l,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<Xl.length;a++)Le(Xl[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),lu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),jr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Zv(r.textContent,a)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=ri),r=!0):r=!1,r||Fr(t,!0)}function Ly(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Qt=Qt.return}}function Za(t){if(t!==Qt)return!1;if(!He)return Ly(t),He=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Mm(t.type,t.memoizedProps)),a=!a),a&&ct&&Fr(t),Ly(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=l_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ct=l_(t)}else r===27?(r=ct,rs(t.type)?(t=Um,Um=null,ct=t):ct=r):ct=Qt?Yn(t.stateNode.nextSibling):null;return!0}function Zs(){ct=Qt=null,He=!1}function yf(){var t=Hr;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Hr=null),t}function Cl(t){Hr===null?Hr=[t]:Hr.push(t)}var vf=O(null),ea=null,or=null;function Gr(t,r,a){ae(vf,r._currentValue),r._currentValue=a}function lr(t){t._currentValue=vf.current,W(vf)}function _f(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function bf(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var I=0;I<r.length;I++)if(T.context===r[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),_f(f.return,a,t),l||(_=null);break e}f=T.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),_f(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function eo(t,r,a,l){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=d.type;Sn(d.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(d===Me.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(tc):t=[tc])}d=d.return}t!==null&&bf(r,t,a,l),r.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){ea=t,or=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Py(ea,t)}function Du(t,r){return ea===null&&ta(t),Py(t,r)}function Py(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},or===null){if(t===null)throw Error(s(308));or=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else or=or.next=r;return a}var eS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},tS=i.unstable_scheduleCallback,nS=i.unstable_NormalPriority,Dt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new eS,data:new Map,refCount:0}}function Nl(t){t.refCount--,t.refCount===0&&tS(nS,function(){t.controller.abort()})}var Il=null,wf=0,to=0,no=null;function iS(t,r){if(Il===null){var a=Il=[];wf=0,to=Sm(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,r.then(Uy,Uy),r}function Uy(){if(--wf===0&&Il!==null){no!==null&&(no.status="fulfilled");var t=Il;Il=null,to=0,no=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function rS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var zy=Q.S;Q.S=function(t,r){Tv=cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&iS(t,r),zy!==null&&zy(t,r)};var na=O(null);function Tf(){var t=na.current;return t!==null?t:at.pooledCache}function Ou(t,r){r===null?ae(na,na.current):ae(na,r.pool)}function By(){var t=Tf();return t===null?null:{parent:Dt._currentValue,pool:t}}var io=Error(s(460)),xf=Error(s(474)),ku=Error(s(542)),Mu={then:function(){}};function qy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ri,ri),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Gy(t),t;default:if(typeof r.status=="string")r.then(ri,ri);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Gy(t),t}throw ra=r,io}}function ia(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,io):a}}var ra=null;function Fy(){if(ra===null)throw Error(s(459));var t=ra;return ra=null,t}function Gy(t){if(t===io||t===ku)throw Error(s(483))}var ro=null,Dl=0;function ju(t){var r=Dl;return Dl+=1,ro===null&&(ro=[]),Hy(ro,t,r)}function Ol(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Vu(t,r){throw r.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ky(t){function r(z,j){if(t){var H=z.deletions;H===null?(z.deletions=[j],z.flags|=16):H.push(j)}}function a(z,j){if(!t)return null;for(;j!==null;)r(z,j),j=j.sibling;return null}function l(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function d(z,j){return z=sr(z,j),z.index=0,z.sibling=null,z}function f(z,j,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<j?(z.flags|=67108866,j):H):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,j,H,ee){return j===null||j.tag!==6?(j=df(H,z.mode,ee),j.return=z,j):(j=d(j,H),j.return=z,j)}function I(z,j,H,ee){var we=H.type;return we===B?J(z,j,H.props.children,ee,H.key):j!==null&&(j.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&ia(we)===j.type)?(j=d(j,H.props),Ol(j,H),j.return=z,j):(j=Cu(H.type,H.key,H.props,null,z.mode,ee),Ol(j,H),j.return=z,j)}function F(z,j,H,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=ff(H,z.mode,ee),j.return=z,j):(j=d(j,H.children||[]),j.return=z,j)}function J(z,j,H,ee,we){return j===null||j.tag!==7?(j=Ws(H,z.mode,ee,we),j.return=z,j):(j=d(j,H),j.return=z,j)}function ne(z,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=df(""+j,z.mode,H),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return H=Cu(j.type,j.key,j.props,null,z.mode,H),Ol(H,j),H.return=z,H;case G:return j=ff(j,z.mode,H),j.return=z,j;case A:return j=ia(j),ne(z,j,H)}if(tt(j)||P(j))return j=Ws(j,z.mode,H,null),j.return=z,j;if(typeof j.then=="function")return ne(z,ju(j),H);if(j.$$typeof===U)return ne(z,Du(z,j),H);Vu(z,j)}return null}function K(z,j,H,ee){var we=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return we!==null?null:T(z,j,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case k:return H.key===we?I(z,j,H,ee):null;case G:return H.key===we?F(z,j,H,ee):null;case A:return H=ia(H),K(z,j,H,ee)}if(tt(H)||P(H))return we!==null?null:J(z,j,H,ee,null);if(typeof H.then=="function")return K(z,j,ju(H),ee);if(H.$$typeof===U)return K(z,j,Du(z,H),ee);Vu(z,H)}return null}function $(z,j,H,ee,we){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(H)||null,T(j,z,""+ee,we);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return z=z.get(ee.key===null?H:ee.key)||null,I(j,z,ee,we);case G:return z=z.get(ee.key===null?H:ee.key)||null,F(j,z,ee,we);case A:return ee=ia(ee),$(z,j,H,ee,we)}if(tt(ee)||P(ee))return z=z.get(H)||null,J(j,z,ee,we,null);if(typeof ee.then=="function")return $(z,j,H,ju(ee),we);if(ee.$$typeof===U)return $(z,j,H,Du(j,ee),we);Vu(j,ee)}return null}function pe(z,j,H,ee){for(var we=null,Ge=null,be=j,ke=j=0,Ue=null;be!==null&&ke<H.length;ke++){be.index>ke?(Ue=be,be=null):Ue=be.sibling;var Ke=K(z,be,H[ke],ee);if(Ke===null){be===null&&(be=Ue);break}t&&be&&Ke.alternate===null&&r(z,be),j=f(Ke,j,ke),Ge===null?we=Ke:Ge.sibling=Ke,Ge=Ke,be=Ue}if(ke===H.length)return a(z,be),He&&ar(z,ke),we;if(be===null){for(;ke<H.length;ke++)be=ne(z,H[ke],ee),be!==null&&(j=f(be,j,ke),Ge===null?we=be:Ge.sibling=be,Ge=be);return He&&ar(z,ke),we}for(be=l(be);ke<H.length;ke++)Ue=$(be,z,ke,H[ke],ee),Ue!==null&&(t&&Ue.alternate!==null&&be.delete(Ue.key===null?ke:Ue.key),j=f(Ue,j,ke),Ge===null?we=Ue:Ge.sibling=Ue,Ge=Ue);return t&&be.forEach(function(cs){return r(z,cs)}),He&&ar(z,ke),we}function xe(z,j,H,ee){if(H==null)throw Error(s(151));for(var we=null,Ge=null,be=j,ke=j=0,Ue=null,Ke=H.next();be!==null&&!Ke.done;ke++,Ke=H.next()){be.index>ke?(Ue=be,be=null):Ue=be.sibling;var cs=K(z,be,Ke.value,ee);if(cs===null){be===null&&(be=Ue);break}t&&be&&cs.alternate===null&&r(z,be),j=f(cs,j,ke),Ge===null?we=cs:Ge.sibling=cs,Ge=cs,be=Ue}if(Ke.done)return a(z,be),He&&ar(z,ke),we;if(be===null){for(;!Ke.done;ke++,Ke=H.next())Ke=ne(z,Ke.value,ee),Ke!==null&&(j=f(Ke,j,ke),Ge===null?we=Ke:Ge.sibling=Ke,Ge=Ke);return He&&ar(z,ke),we}for(be=l(be);!Ke.done;ke++,Ke=H.next())Ke=$(be,z,ke,Ke.value,ee),Ke!==null&&(t&&Ke.alternate!==null&&be.delete(Ke.key===null?ke:Ke.key),j=f(Ke,j,ke),Ge===null?we=Ke:Ge.sibling=Ke,Ge=Ke);return t&&be.forEach(function(gA){return r(z,gA)}),He&&ar(z,ke),we}function st(z,j,H,ee){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case k:e:{for(var we=H.key;j!==null;){if(j.key===we){if(we=H.type,we===B){if(j.tag===7){a(z,j.sibling),ee=d(j,H.props.children),ee.return=z,z=ee;break e}}else if(j.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&ia(we)===j.type){a(z,j.sibling),ee=d(j,H.props),Ol(ee,H),ee.return=z,z=ee;break e}a(z,j);break}else r(z,j);j=j.sibling}H.type===B?(ee=Ws(H.props.children,z.mode,ee,H.key),ee.return=z,z=ee):(ee=Cu(H.type,H.key,H.props,null,z.mode,ee),Ol(ee,H),ee.return=z,z=ee)}return _(z);case G:e:{for(we=H.key;j!==null;){if(j.key===we)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){a(z,j.sibling),ee=d(j,H.children||[]),ee.return=z,z=ee;break e}else{a(z,j);break}else r(z,j);j=j.sibling}ee=ff(H,z.mode,ee),ee.return=z,z=ee}return _(z);case A:return H=ia(H),st(z,j,H,ee)}if(tt(H))return pe(z,j,H,ee);if(P(H)){if(we=P(H),typeof we!="function")throw Error(s(150));return H=we.call(H),xe(z,j,H,ee)}if(typeof H.then=="function")return st(z,j,ju(H),ee);if(H.$$typeof===U)return st(z,j,Du(z,H),ee);Vu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(a(z,j.sibling),ee=d(j,H),ee.return=z,z=ee):(a(z,j),ee=df(H,z.mode,ee),ee.return=z,z=ee),_(z)):a(z,j)}return function(z,j,H,ee){try{Dl=0;var we=st(z,j,H,ee);return ro=null,we}catch(be){if(be===io||be===ku)throw be;var Ge=An(29,be,null,z.mode);return Ge.lanes=ee,Ge.return=z,Ge}finally{}}}var sa=Ky(!0),Yy=Ky(!1),Kr=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $r(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Ru(t),Iy(t,null,a),r}return Au(t,l,r,a),Ru(t)}function kl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,al(t,a)}}function Rf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Cf=!1;function Ml(){if(Cf){var t=no;if(t!==null)throw t}}function jl(t,r,a,l){Cf=!1;var d=t.updateQueue;Kr=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var I=T,F=I.next;I.next=null,_===null?f=F:_.next=F,_=I;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=F:T.next=F,J.lastBaseUpdate=I))}if(f!==null){var ne=d.baseState;_=0,J=F=I=null,T=f;do{var K=T.lane&-536870913,$=K!==T.lane;if($?(Pe&K)===K:(l&K)===K){K!==0&&K===to&&(Cf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=t,xe=T;K=r;var st=a;switch(xe.tag){case 1:if(pe=xe.payload,typeof pe=="function"){ne=pe.call(st,ne,K);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=xe.payload,K=typeof pe=="function"?pe.call(st,ne,K):pe,K==null)break e;ne=w({},ne,K);break e;case 2:Kr=!0}}K=T.callback,K!==null&&(t.flags|=64,$&&(t.flags|=8192),$=d.callbacks,$===null?d.callbacks=[K]:$.push(K))}else $={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(F=J=$,I=ne):J=J.next=$,_|=K;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;$=T,T=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);J===null&&(I=ne),d.baseState=I,d.firstBaseUpdate=F,d.lastBaseUpdate=J,f===null&&(d.shared.lanes=0),Zr|=_,t.lanes=_,t.memoizedState=ne}}function $y(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Qy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$y(a[t],r)}var so=O(null),Lu=O(0);function Xy(t,r){t=yr,ae(Lu,t),ae(so,r),yr=t|r.baseLanes}function Nf(){ae(Lu,yr),ae(so,so.current)}function If(){yr=Lu.current,W(so),W(Lu)}var Rn=O(null),Kn=null;function Qr(t){var r=t.alternate;ae(Et,Et.current&1),ae(Rn,t),Kn===null&&(r===null||so.current!==null||r.memoizedState!==null)&&(Kn=t)}function Df(t){ae(Et,Et.current),ae(Rn,t),Kn===null&&(Kn=t)}function Jy(t){t.tag===22?(ae(Et,Et.current),ae(Rn,t),Kn===null&&(Kn=t)):Xr()}function Xr(){ae(Et,Et.current),ae(Rn,Rn.current)}function Cn(t){W(Rn),Kn===t&&(Kn=null),W(Et)}var Et=O(0);function Pu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Lm(a)||Pm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cr=0,Oe=null,it=null,Ot=null,Uu=!1,ao=!1,aa=!1,zu=0,Vl=0,oo=null,sS=0;function yt(){throw Error(s(321))}function Of(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Sn(t[a],r[a]))return!1;return!0}function kf(t,r,a,l,d,f){return cr=f,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?M0:$f,aa=!1,f=a(l,d),aa=!1,ao&&(f=Zy(r,a,l,d)),Wy(t),f}function Wy(t){Q.H=Ul;var r=it!==null&&it.next!==null;if(cr=0,Ot=it=Oe=null,Uu=!1,Vl=0,oo=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Iu(t)&&(kt=!0))}function Zy(t,r,a,l){Oe=t;var d=0;do{if(ao&&(oo=null),Vl=0,ao=!1,25<=d)throw Error(s(301));if(d+=1,Ot=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=j0,f=r(a,l)}while(ao);return f}function aS(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?Ll(r):r,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Oe.flags|=1024),r}function Mf(){var t=zu!==0;return zu=0,t}function jf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Vf(t){if(Uu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Uu=!1}cr=0,Ot=it=Oe=null,ao=!1,Vl=zu=0,oo=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Oe.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function wt(){if(it===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var r=Ot===null?Oe.memoizedState:Ot.next;if(r!==null)Ot=r,it=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ot===null?Oe.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(t){var r=Vl;return Vl+=1,oo===null&&(oo=[]),t=Hy(oo,t,r),r=Oe,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?M0:$f),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ll(t);if(t.$$typeof===U)return Xt(t)}throw Error(s(438,String(t)))}function Lf(t){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Bu(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=L;return r.index++,a}function ur(t,r){return typeof r=="function"?r(t):r}function Hu(t){var r=wt();return Pf(r,it,t)}function Pf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}r.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var T=_=null,I=null,F=r,J=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Pe&ne)===ne:(cr&ne)===ne){var K=F.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===to&&(J=!0);else if((cr&K)===K){F=F.next,K===to&&(J=!0);continue}else ne={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=ne,_=f):I=I.next=ne,Oe.lanes|=K,Zr|=K;ne=F.action,aa&&a(f,ne),f=F.hasEagerState?F.eagerState:a(f,ne)}else K={lane:ne,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=K,_=f):I=I.next=K,Oe.lanes|=ne,Zr|=ne;F=F.next}while(F!==null&&F!==r);if(I===null?_=f:I.next=T,!Sn(f,t.memoizedState)&&(kt=!0,J&&(a=no,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=I,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Uf(t){var r=wt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);Sn(f,r.memoizedState)||(kt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function e0(t,r,a){var l=Oe,d=wt(),f=He;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Sn((it||d).memoizedState,a);if(_&&(d.memoizedState=a,kt=!0),d=d.queue,qf(i0.bind(null,l,d,t),[t]),d.getSnapshot!==r||_||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,lo(9,{destroy:void 0},n0.bind(null,l,d,a,r),null),at===null)throw Error(s(349));f||(cr&127)!==0||t0(l,r,a)}return a}function t0(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Bu(),Oe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function n0(t,r,a,l){r.value=a,r.getSnapshot=l,r0(r)&&s0(t)}function i0(t,r,a){return a(function(){r0(r)&&s0(t)})}function r0(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Sn(t,a)}catch{return!0}}function s0(t){var r=Js(t,2);r!==null&&bn(r,t,2)}function zf(t){var r=hn();if(typeof t=="function"){var a=t;if(t=a(),aa){Vn(!0);try{a()}finally{Vn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:t},r}function a0(t,r,a,l){return t.baseState=a,Pf(t,it,typeof l=="function"?l:ur)}function oS(t,r,a,l,d){if(Ku(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,o0(r,f)):(f.next=a.next,r.pending=a.next=f)}}function o0(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var f=Q.T,_={};Q.T=_;try{var T=a(d,l),I=Q.S;I!==null&&I(_,T),l0(t,r,T)}catch(F){Bf(t,r,F)}finally{f!==null&&_.types!==null&&(f.types=_.types),Q.T=f}}else try{f=a(d,l),l0(t,r,f)}catch(F){Bf(t,r,F)}}function l0(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){c0(t,r,l)},function(l){return Bf(t,r,l)}):c0(t,r,a)}function c0(t,r,a){r.status="fulfilled",r.value=a,u0(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,o0(t,a)))}function Bf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,u0(r),r=r.next;while(r!==l)}t.action=null}function u0(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function h0(t,r){return r}function d0(t,r){if(He){var a=at.formState;if(a!==null){e:{var l=Oe;if(He){if(ct){t:{for(var d=ct,f=Gn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Yn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ct=Yn(d.nextSibling),l=d.data==="F!";break e}}Fr(l)}l=!1}l&&(r=a[0])}}return a=hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h0,lastRenderedState:r},a.queue=l,a=D0.bind(null,Oe,l),l.dispatch=a,l=zf(!1),f=Yf.bind(null,Oe,!1,l.queue),l=hn(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=oS.bind(null,Oe,d,f,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function f0(t){var r=wt();return m0(r,it,t)}function m0(t,r,a){if(r=Pf(t,r,h0)[0],t=Hu(ur)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ll(r)}catch(_){throw _===io?ku:_}else l=r;r=wt();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,lo(9,{destroy:void 0},lS.bind(null,d,a),null)),[l,f,t]}function lS(t,r){t.action=r}function g0(t){var r=wt(),a=it;if(a!==null)return m0(r,a,t);wt(),r=r.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function lo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Bu(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function p0(){return wt().memoizedState}function Fu(t,r,a,l){var d=hn();Oe.flags|=t,d.memoizedState=lo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Gu(t,r,a,l){var d=wt();l=l===void 0?null:l;var f=d.memoizedState.inst;it!==null&&l!==null&&Of(l,it.memoizedState.deps)?d.memoizedState=lo(r,f,a,l):(Oe.flags|=t,d.memoizedState=lo(1|r,f,a,l))}function y0(t,r){Fu(8390656,8,t,r)}function qf(t,r){Gu(2048,8,t,r)}function cS(t){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=Bu(),Oe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function v0(t){var r=wt().memoizedState;return cS({ref:r,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function _0(t,r){return Gu(4,2,t,r)}function b0(t,r){return Gu(4,4,t,r)}function E0(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function w0(t,r,a){a=a!=null?a.concat([t]):null,Gu(4,4,E0.bind(null,r,t),a)}function Hf(){}function T0(t,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Of(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function x0(t,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Of(r,l[1]))return l[0];if(l=t(),aa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,r],l}function Ff(t,r,a){return a===void 0||(cr&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Sv(),Oe.lanes|=t,Zr|=t,a)}function S0(t,r,a,l){return Sn(a,r)?a:so.current!==null?(t=Ff(t,a,l),Sn(t,r)||(kt=!0),t):(cr&42)===0||(cr&1073741824)!==0&&(Pe&261930)===0?(kt=!0,t.memoizedState=a):(t=Sv(),Oe.lanes|=t,Zr|=t,r)}function A0(t,r,a,l,d){var f=oe.p;oe.p=f!==0&&8>f?f:8;var _=Q.T,T={};Q.T=T,Yf(t,!1,r,a);try{var I=d(),F=Q.S;if(F!==null&&F(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=rS(I,l);Pl(t,r,J,Dn(t))}else Pl(t,r,l,Dn(t))}catch(ne){Pl(t,r,{then:function(){},status:"rejected",reason:ne},Dn())}finally{oe.p=f,_!==null&&T.types!==null&&(_.types=T.types),Q.T=_}}function uS(){}function Gf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var d=R0(t).queue;A0(t,d,r,te,a===null?uS:function(){return C0(t),a(l)})}function R0(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:te},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function C0(t){var r=R0(t);r.next===null&&(r=t.alternate.memoizedState),Pl(t,r.next.queue,{},Dn())}function Kf(){return Xt(tc)}function N0(){return wt().memoizedState}function I0(){return wt().memoizedState}function hS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Dn();t=Yr(a);var l=$r(r,t,a);l!==null&&(bn(l,r,a),kl(l,r,a)),r={cache:Ef()},t.payload=r;return}r=r.return}}function dS(t,r,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(t)?O0(r,a):(a=uf(t,r,a,l),a!==null&&(bn(a,t,l),k0(a,r,l)))}function D0(t,r,a){var l=Dn();Pl(t,r,a,l)}function Pl(t,r,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))O0(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,T=f(_,a);if(d.hasEagerState=!0,d.eagerState=T,Sn(T,_))return Au(t,r,d,0),at===null&&Su(),!1}catch{}finally{}if(a=uf(t,r,d,l),a!==null)return bn(a,t,l),k0(a,r,l),!0}return!1}function Yf(t,r,a,l){if(l={lane:2,revertLane:Sm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(r)throw Error(s(479))}else r=uf(t,a,l,2),r!==null&&bn(r,t,2)}function Ku(t){var r=t.alternate;return t===Oe||r!==null&&r===Oe}function O0(t,r){ao=Uu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function k0(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,al(t,a)}}var Ul={readContext:Xt,use:qu,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Ul.useEffectEvent=yt;var M0={readContext:Xt,use:qu,useCallback:function(t,r){return hn().memoizedState=[t,r===void 0?null:r],t},useContext:Xt,useEffect:y0,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Fu(4194308,4,E0.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Fu(4194308,4,t,r)},useInsertionEffect:function(t,r){Fu(4,2,t,r)},useMemo:function(t,r){var a=hn();r=r===void 0?null:r;var l=t();if(aa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=hn();if(a!==void 0){var d=a(r);if(aa){Vn(!0);try{a(r)}finally{Vn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=dS.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var r=hn();return t={current:t},r.memoizedState=t},useState:function(t){t=zf(t);var r=t.queue,a=D0.bind(null,Oe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,r){var a=hn();return Ff(a,t,r)},useTransition:function(){var t=zf(!1);return t=A0.bind(null,Oe,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Oe,d=hn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),at===null)throw Error(s(349));(Pe&127)!==0||t0(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,y0(i0.bind(null,l,f,t),[t]),l.flags|=2048,lo(9,{destroy:void 0},n0.bind(null,l,f,a,r),null),a},useId:function(){var t=hn(),r=at.identifierPrefix;if(He){var a=Hi,l=qi;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=zu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=sS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Kf,useFormState:d0,useActionState:d0,useOptimistic:function(t){var r=hn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Yf.bind(null,Oe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Lf,useCacheRefresh:function(){return hn().memoizedState=hS.bind(null,Oe)},useEffectEvent:function(t){var r=hn(),a={impl:t};return r.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},$f={readContext:Xt,use:qu,useCallback:T0,useContext:Xt,useEffect:qf,useImperativeHandle:w0,useInsertionEffect:_0,useLayoutEffect:b0,useMemo:x0,useReducer:Hu,useRef:p0,useState:function(){return Hu(ur)},useDebugValue:Hf,useDeferredValue:function(t,r){var a=wt();return S0(a,it.memoizedState,t,r)},useTransition:function(){var t=Hu(ur)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:Ll(t),r]},useSyncExternalStore:e0,useId:N0,useHostTransitionStatus:Kf,useFormState:f0,useActionState:f0,useOptimistic:function(t,r){var a=wt();return a0(a,it,t,r)},useMemoCache:Lf,useCacheRefresh:I0};$f.useEffectEvent=v0;var j0={readContext:Xt,use:qu,useCallback:T0,useContext:Xt,useEffect:qf,useImperativeHandle:w0,useInsertionEffect:_0,useLayoutEffect:b0,useMemo:x0,useReducer:Uf,useRef:p0,useState:function(){return Uf(ur)},useDebugValue:Hf,useDeferredValue:function(t,r){var a=wt();return it===null?Ff(a,t,r):S0(a,it.memoizedState,t,r)},useTransition:function(){var t=Uf(ur)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:Ll(t),r]},useSyncExternalStore:e0,useId:N0,useHostTransitionStatus:Kf,useFormState:g0,useActionState:g0,useOptimistic:function(t,r){var a=wt();return it!==null?a0(a,it,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:I0};j0.useEffectEvent=v0;function Qf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:w({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Dn(),d=Yr(l);d.payload=r,a!=null&&(d.callback=a),r=$r(t,d,l),r!==null&&(bn(r,t,l),kl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Dn(),d=Yr(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=$r(t,d,l),r!==null&&(bn(r,t,l),kl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Dn(),l=Yr(a);l.tag=2,r!=null&&(l.callback=r),r=$r(t,l,a),r!==null&&(bn(r,t,a),kl(r,t,a))}};function V0(t,r,a,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):r.prototype&&r.prototype.isPureReactComponent?!Sl(a,l)||!Sl(d,f):!0}function L0(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Xf.enqueueReplaceState(r,r.state,null)}function oa(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=w({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function P0(t){xu(t)}function U0(t){console.error(t)}function z0(t){xu(t)}function Yu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function B0(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Jf(t,r,a){return a=Yr(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(t,r)},a}function q0(t){return t=Yr(t),t.tag=3,t}function H0(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){B0(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){B0(r,a,l),typeof d!="function"&&(es===null?es=new Set([this]):es.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function fS(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&eo(r,a,d,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?sh():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Mu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),wm(t,l,d)),!1;case 22:return a.flags|=65536,l===Mu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),wm(t,l,d)),!1}throw Error(s(435,a.tag))}return wm(t,l,d),sh(),!1}if(He)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==pf&&(t=Error(s(422),{cause:l}),Cl(qn(t,a)))):(l!==pf&&(r=Error(s(423),{cause:l}),Cl(qn(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=qn(l,a),d=Jf(t.stateNode,l,d),Rf(t,d),vt!==4&&(vt=2)),!1;var f=Error(s(520),{cause:l});if(f=qn(f,a),Yl===null?Yl=[f]:Yl.push(f),vt!==4&&(vt=2),r===null)return!0;l=qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Jf(a.stateNode,l,t),Rf(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(es===null||!es.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=q0(d),H0(d,t,a,l),Rf(a,d),!1}a=a.return}while(a!==null);return!1}var Wf=Error(s(461)),kt=!1;function Jt(t,r,a,l){r.child=t===null?Yy(r,null,a,l):sa(r,t.child,a,l)}function F0(t,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ta(r),l=kf(t,r,a,_,f,d),T=Mf(),t!==null&&!kt?(jf(t,r,d),hr(t,r,d)):(He&&T&&mf(r),r.flags|=1,Jt(t,r,l,d),r.child)}function G0(t,r,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!hf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,K0(t,r,f,l,d)):(t=Cu(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!am(t,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(_,l)&&t.ref===r.ref)return hr(t,r,d)}return r.flags|=1,t=sr(f,l),t.ref=r.ref,t.return=r,r.child=t}function K0(t,r,a,l,d){if(t!==null){var f=t.memoizedProps;if(Sl(f,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=f,am(t,d))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,hr(t,r,d)}return Zf(t,r,a,l,d)}function Y0(t,r,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return $0(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(r,f!==null?f.cachePool:null),f!==null?Xy(r,f):Nf(),Jy(r);else return l=r.lanes=536870912,$0(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Ou(r,f.cachePool),Xy(r,f),Xr(),r.memoizedState=null):(t!==null&&Ou(r,null),Nf(),Xr());return Jt(t,r,d,a),r.child}function zl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $0(t,r,a,l,d){var f=Tf();return f=f===null?null:{parent:Dt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ou(r,null),Nf(),Jy(r),t!==null&&eo(t,r,l,!0),r.childLanes=d,null}function $u(t,r){return r=Xu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Q0(t,r,a){return sa(r,t.child,null,a),t=$u(r,r.pendingProps),t.flags|=2,Cn(r),r.memoizedState=null,t}function mS(t,r,a){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=$u(r,l),r.lanes=536870912,zl(null,t);if(Df(r),(t=ct)?(t=o_(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:qr!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},a=Oy(t),a.return=r,r.child=a,Qt=r,ct=null)):t=null,t===null)throw Fr(r);return r.lanes=536870912,null}return $u(r,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Df(r),d)if(r.flags&256)r.flags&=-257,r=Q0(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(kt||eo(t,r,a,!1),d=(a&t.childLanes)!==0,kt||d){if(l=at,l!==null&&(_=ol(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Js(t,_),bn(l,t,_),Wf;sh(),r=Q0(t,r,a)}else t=f.treeContext,ct=Yn(_.nextSibling),Qt=r,He=!0,Hr=null,Gn=!1,t!==null&&jy(r,t),r=$u(r,l),r.flags|=4096;return r}return t=sr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Qu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Zf(t,r,a,l,d){return ta(r),a=kf(t,r,a,l,void 0,d),l=Mf(),t!==null&&!kt?(jf(t,r,d),hr(t,r,d)):(He&&l&&mf(r),r.flags|=1,Jt(t,r,a,d),r.child)}function X0(t,r,a,l,d,f){return ta(r),r.updateQueue=null,a=Zy(r,l,a,d),Wy(t),l=Mf(),t!==null&&!kt?(jf(t,r,f),hr(t,r,f)):(He&&l&&mf(r),r.flags|=1,Jt(t,r,a,f),r.child)}function J0(t,r,a,l,d){if(ta(r),r.stateNode===null){var f=Xa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Xt(_)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Sf(r),_=a.contextType,f.context=typeof _=="object"&&_!==null?Xt(_):Xa,f.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qf(r,a,_,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Xf.enqueueReplaceState(f,f.state,null),jl(r,l,f,d),Ml(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var T=r.memoizedProps,I=oa(a,T);f.props=I;var F=f.context,J=a.contextType;_=Xa,typeof J=="object"&&J!==null&&(_=Xt(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||F!==_)&&L0(r,f,l,_),Kr=!1;var K=r.memoizedState;f.state=K,jl(r,l,f,d),Ml(),F=r.memoizedState,T||K!==F||Kr?(typeof ne=="function"&&(Qf(r,a,ne,l),F=r.memoizedState),(I=Kr||V0(r,a,I,l,K,F,_))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),f.props=l,f.state=F,f.context=_,l=I):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Af(t,r),_=r.memoizedProps,J=oa(a,_),f.props=J,ne=r.pendingProps,K=f.context,F=a.contextType,I=Xa,typeof F=="object"&&F!==null&&(I=Xt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==ne||K!==I)&&L0(r,f,l,I),Kr=!1,K=r.memoizedState,f.state=K,jl(r,l,f,d),Ml();var $=r.memoizedState;_!==ne||K!==$||Kr||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof T=="function"&&(Qf(r,a,T,l),$=r.memoizedState),(J=Kr||V0(r,a,J,l,K,$,I)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,I)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),f.props=l,f.state=$,f.context=I,l=J):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Qu(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=sa(r,t.child,null,d),r.child=sa(r,null,a,d)):Jt(t,r,a,d),r.memoizedState=f.state,t=r.child):t=hr(t,r,d),t}function W0(t,r,a,l){return Zs(),r.flags|=256,Jt(t,r,a,l),r.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(t){return{baseLanes:t,cachePool:By()}}function nm(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=In),t}function Z0(t,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(He){if(d?Qr(r):Xr(),(t=ct)?(t=o_(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:qr!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},a=Oy(t),a.return=r,r.child=a,Qt=r,ct=null)):t=null,t===null)throw Fr(r);return Pm(t)?r.lanes=32:r.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(Xr(),d=r.mode,T=Xu({mode:"hidden",children:T},d),l=Ws(l,d,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,l=r.child,l.memoizedState=tm(a),l.childLanes=nm(t,_,a),r.memoizedState=em,zl(null,l)):(Qr(r),im(r,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)r.flags&256?(Qr(r),r.flags&=-257,r=rm(t,r,a)):r.memoizedState!==null?(Xr(),r.child=t.child,r.flags|=128,r=null):(Xr(),T=l.fallback,d=r.mode,l=Xu({mode:"visible",children:l.children},d),T=Ws(T,d,a,null),T.flags|=2,l.return=r,T.return=r,l.sibling=T,r.child=l,sa(r,t.child,null,a),l=r.child,l.memoizedState=tm(a),l.childLanes=nm(t,_,a),r.memoizedState=em,r=zl(null,l));else if(Qr(r),Pm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,Cl({value:l,source:null,stack:null}),r=rm(t,r,a)}else if(kt||eo(t,r,a,!1),_=(a&t.childLanes)!==0,kt||_){if(_=at,_!==null&&(l=ol(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Js(t,l),bn(_,t,l),Wf;Lm(T)||sh(),r=rm(t,r,a)}else Lm(T)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,ct=Yn(T.nextSibling),Qt=r,He=!0,Hr=null,Gn=!1,t!==null&&jy(r,t),r=im(r,l.children),r.flags|=4096);return r}return d?(Xr(),T=l.fallback,d=r.mode,I=t.child,F=I.sibling,l=sr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?T=sr(F,T):(T=Ws(T,d,a,null),T.flags|=2),T.return=r,l.return=r,l.sibling=T,r.child=l,zl(null,l),l=r.child,T=t.child.memoizedState,T===null?T=tm(a):(d=T.cachePool,d!==null?(I=Dt._currentValue,d=d.parent!==I?{parent:I,pool:I}:d):d=By(),T={baseLanes:T.baseLanes|a,cachePool:d}),l.memoizedState=T,l.childLanes=nm(t,_,a),r.memoizedState=em,zl(t.child,l)):(Qr(r),a=t.child,t=a.sibling,a=sr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function im(t,r){return r=Xu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Xu(t,r){return t=An(22,t,null,r),t.lanes=0,t}function rm(t,r,a){return sa(r,t.child,null,a),t=im(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function ev(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),_f(t.return,r,a)}function sm(t,r,a,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function tv(t,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=Et.current,T=(_&2)!==0;if(T?(_=_&1|2,r.flags|=128):_&=1,ae(Et,_),Jt(t,r,l,a),l=He?Rl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ev(t,a,r);else if(t.tag===19)ev(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&Pu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),sm(r,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Pu(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}sm(r,!0,a,null,f,l);break;case"together":sm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function hr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Zr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(eo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=sr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=sr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function am(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function gS(t,r,a){switch(r.tag){case 3:pt(r,r.stateNode.containerInfo),Gr(r,Dt,t.memoizedState.cache),Zs();break;case 27:case 5:Ti(r);break;case 4:pt(r,r.stateNode.containerInfo);break;case 10:Gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Df(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Z0(t,r,a):(Qr(r),t=hr(t,r,a),t!==null?t.sibling:null);Qr(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(eo(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return tv(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(Et,Et.current),l)break;return null;case 22:return r.lanes=0,Y0(t,r,a,r.pendingProps);case 24:Gr(r,Dt,t.memoizedState.cache)}return hr(t,r,a)}function nv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!am(t,a)&&(r.flags&128)===0)return kt=!1,gS(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,He&&(r.flags&1048576)!==0&&My(r,Rl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ia(r.elementType),r.type=t,typeof t=="function")hf(t)?(l=oa(t,l),r.tag=1,r=J0(null,r,t,l,a)):(r.tag=0,r=Zf(null,r,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===ce){r.tag=11,r=F0(null,r,t,l,a);break e}else if(d===C){r.tag=14,r=G0(null,r,t,l,a);break e}}throw r=Qe(t)||t,Error(s(306,r,""))}}return r;case 0:return Zf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=oa(l,r.pendingProps),J0(t,r,l,d,a);case 3:e:{if(pt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,Af(t,r),jl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Gr(r,Dt,l),l!==f.cache&&bf(r,[Dt],a,!0),Ml(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=W0(t,r,l,a);break e}else if(l!==d){d=qn(Error(s(424)),r),Cl(d),r=W0(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Yn(t.firstChild),Qt=r,He=!0,Hr=null,Gn=!0,a=Yy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zs(),l===d){r=hr(t,r,a);break e}Jt(t,r,l,a)}r=r.child}return r;case 26:return Qu(t,r),t===null?(a=f_(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,t=r.pendingProps,l=dh(Ee.current).createElement(a),l[Ct]=r,l[qt]=t,Wt(l,a,t),Nt(l),r.stateNode=l):r.memoizedState=f_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ti(r),t===null&&He&&(l=r.stateNode=u_(r.type,r.pendingProps,Ee.current),Qt=r,Gn=!0,d=ct,rs(r.type)?(Um=d,ct=Yn(l.firstChild)):ct=d),Jt(t,r,r.pendingProps.children,a),Qu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&He&&((d=l=ct)&&(l=GS(l,r.type,r.pendingProps,Gn),l!==null?(r.stateNode=l,Qt=r,ct=Yn(l.firstChild),Gn=!1,d=!0):d=!1),d||Fr(r)),Ti(r),d=r.type,f=r.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Mm(d,f)?l=null:_!==null&&Mm(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=kf(t,r,aS,null,null,a),tc._currentValue=d),Qu(t,r),Jt(t,r,l,a),r.child;case 6:return t===null&&He&&((t=a=ct)&&(a=KS(a,r.pendingProps,Gn),a!==null?(r.stateNode=a,Qt=r,ct=null,t=!0):t=!1),t||Fr(r)),null;case 13:return Z0(t,r,a);case 4:return pt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=sa(r,null,l,a):Jt(t,r,l,a),r.child;case 11:return F0(t,r,r.type,r.pendingProps,a);case 7:return Jt(t,r,r.pendingProps,a),r.child;case 8:return Jt(t,r,r.pendingProps.children,a),r.child;case 12:return Jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Gr(r,r.type,l.value),Jt(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,ta(r),d=Xt(d),l=l(d),r.flags|=1,Jt(t,r,l,a),r.child;case 14:return G0(t,r,r.type,r.pendingProps,a);case 15:return K0(t,r,r.type,r.pendingProps,a);case 19:return tv(t,r,a);case 31:return mS(t,r,a);case 22:return Y0(t,r,a,r.pendingProps);case 24:return ta(r),l=Xt(Dt),t===null?(d=Tf(),d===null&&(d=at,f=Ef(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},Sf(r),Gr(r,Dt,d)):((t.lanes&a)!==0&&(Af(t,r),jl(r,null,null,a),Ml()),d=t.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Gr(r,Dt,l)):(l=f.cache,Gr(r,Dt,l),l!==d.cache&&bf(r,[Dt],a,!0))),Jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function dr(t){t.flags|=4}function om(t,r,a,l,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Nv())t.flags|=8192;else throw ra=Mu,xf}else t.flags&=-16777217}function iv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v_(r))if(Nv())t.flags|=8192;else throw ra=Mu,xf}function Ju(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?iu():536870912,t.lanes|=r,fo|=r)}function Bl(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function pS(t,r,a){var l=r.pendingProps;switch(gf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),lr(Dt),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Za(r)?dr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,yf())),ut(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(dr(r),f!==null?(ut(r),iv(r,f)):(ut(r),om(r,d,null,l,a))):f?f!==t.memoizedState?(dr(r),ut(r),iv(r,f)):(ut(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&dr(r),ut(r),om(r,d,t,l,a)),null;case 27:if(Wn(r),a=Ee.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&dr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}t=he.current,Za(r)?Vy(r):(t=u_(d,l,a),r.stateNode=t,dr(r))}return ut(r),null;case 5:if(Wn(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&dr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(f=he.current,Za(r))Vy(r);else{var _=dh(Ee.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[Ct]=r,f[qt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=f;e:switch(Wt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&dr(r)}}return ut(r),om(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&dr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ee.current,Za(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=Qt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Ct]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zv(t.nodeValue,a)),t||Fr(r,!0)}else t=dh(t).createTextNode(l),t[Ct]=r,r.stateNode=t}return ut(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Za(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ct]=r}else Zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),t=!1}else a=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Cn(r),r):(Cn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ut(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Za(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ct]=r}else Zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),d=!1}else d=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Cn(r),r):(Cn(r),null)}return Cn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Ju(r,r.updateQueue),ut(r),null);case 4:return Ie(),t===null&&Nm(r.stateNode.containerInfo),ut(r),null;case 10:return lr(r.type),ut(r),null;case 19:if(W(Et),l=r.memoizedState,l===null)return ut(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)Bl(l,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Pu(t),f!==null){for(r.flags|=128,Bl(l,!1),t=f.updateQueue,r.updateQueue=t,Ju(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Dy(a,t),a=a.sibling;return ae(Et,Et.current&1|2),He&&ar(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&cn()>nh&&(r.flags|=128,d=!0,Bl(l,!1),r.lanes=4194304)}else{if(!d)if(t=Pu(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,Ju(r,t),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return ut(r),null}else 2*cn()-l.renderingStartTime>nh&&a!==536870912&&(r.flags|=128,d=!0,Bl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=cn(),t.sibling=null,a=Et.current,ae(Et,d?a&1|2:a&1),He&&ar(r,l.treeForkCount),t):(ut(r),null);case 22:case 23:return Cn(r),If(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Ju(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&W(na),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),lr(Dt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function yS(t,r){switch(gf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return lr(Dt),Ie(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Wn(r),null;case 31:if(r.memoizedState!==null){if(Cn(r),r.alternate===null)throw Error(s(340));Zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Cn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return W(Et),null;case 4:return Ie(),null;case 10:return lr(r.type),null;case 22:case 23:return Cn(r),If(),t!==null&&W(na),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return lr(Dt),null;case 25:return null;default:return null}}function rv(t,r){switch(gf(r),r.tag){case 3:lr(Dt),Ie();break;case 26:case 27:case 5:Wn(r);break;case 4:Ie();break;case 31:r.memoizedState!==null&&Cn(r);break;case 13:Cn(r);break;case 19:W(Et);break;case 10:lr(r.type);break;case 22:case 23:Cn(r),If(),t!==null&&W(na);break;case 24:lr(Dt)}}function ql(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(T){et(r,r.return,T)}}function Jr(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,d=r;var I=a,F=T;try{F()}catch(J){et(d,I,J)}}}l=l.next}while(l!==f)}}catch(J){et(r,r.return,J)}}function sv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Qy(r,a)}catch(l){et(t,t.return,l)}}}function av(t,r,a){a.props=oa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,r,l)}}function Hl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){et(t,r,d)}}function Fi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){et(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){et(t,r,d)}else a.current=null}function ov(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){et(t,t.return,d)}}function lm(t,r,a){try{var l=t.stateNode;US(l,t.type,a,r),l[qt]=r}catch(d){et(t,t.return,d)}}function lv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rs(t.type)||t.tag===4}function cm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function um(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ri));else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(um(t,r,a),t=t.sibling;t!==null;)um(t,r,a),t=t.sibling}function Wu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Wu(t,r,a),t=t.sibling;t!==null;)Wu(t,r,a),t=t.sibling}function cv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Wt(r,l,a),r[Ct]=t,r[qt]=a}catch(f){et(t,t.return,f)}}var fr=!1,Mt=!1,hm=!1,uv=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function vS(t,r){if(t=t.containerInfo,Om=_h,t=wy(t),rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,I=-1,F=0,J=0,ne=t,K=null;t:for(;;){for(var $;ne!==a||d!==0&&ne.nodeType!==3||(T=_+d),ne!==f||l!==0&&ne.nodeType!==3||(I=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),($=ne.firstChild)!==null;)K=ne,ne=$;for(;;){if(ne===t)break t;if(K===a&&++F===d&&(T=_),K===f&&++J===l&&(I=_),($=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=$}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(km={focusedElem:t,selectionRange:a},_h=!1,Ft=r;Ft!==null;)if(r=Ft,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ft=t;else for(;Ft!==null;){switch(r=Ft,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pe=oa(a.type,d);t=l.getSnapshotBeforeUpdate(pe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){et(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Vm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ft=t;break}Ft=r.return}}function hv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gr(t,a),l&4&&ql(5,a);break;case 1:if(gr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){et(a,a.return,_)}else{var d=oa(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){et(a,a.return,_)}}l&64&&sv(a),l&512&&Hl(a,a.return);break;case 3:if(gr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Qy(t,r)}catch(_){et(a,a.return,_)}}break;case 27:r===null&&l&4&&cv(a);case 26:case 5:gr(t,a),r===null&&l&4&&ov(a),l&512&&Hl(a,a.return);break;case 12:gr(t,a);break;case 31:gr(t,a),l&4&&mv(t,a);break;case 13:gr(t,a),l&4&&gv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=RS.bind(null,a),YS(t,a))));break;case 22:if(l=a.memoizedState!==null||fr,!l){r=r!==null&&r.memoizedState!==null||Mt,d=fr;var f=Mt;fr=l,(Mt=r)&&!f?pr(t,a,(a.subtreeFlags&8772)!==0):gr(t,a),fr=d,Mt=f}break;case 30:break;default:gr(t,a)}}function dv(t){var r=t.alternate;r!==null&&(t.alternate=null,dv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Va(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,pn=!1;function mr(t,r,a){for(a=a.child;a!==null;)fv(t,r,a),a=a.sibling}function fv(t,r,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ei,a)}catch{}switch(a.tag){case 26:Mt||Fi(a,r),mr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Fi(a,r);var l=ft,d=pn;rs(a.type)&&(ft=a.stateNode,pn=!1),mr(t,r,a),Wl(a.stateNode),ft=l,pn=d;break;case 5:Mt||Fi(a,r);case 6:if(l=ft,d=pn,ft=null,mr(t,r,a),ft=l,pn=d,ft!==null)if(pn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(f){et(a,r,f)}else try{ft.removeChild(a.stateNode)}catch(f){et(a,r,f)}break;case 18:ft!==null&&(pn?(t=ft,s_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Eo(t)):s_(ft,a.stateNode));break;case 4:l=ft,d=pn,ft=a.stateNode.containerInfo,pn=!0,mr(t,r,a),ft=l,pn=d;break;case 0:case 11:case 14:case 15:Jr(2,a,r),Mt||Jr(4,a,r),mr(t,r,a);break;case 1:Mt||(Fi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&av(a,r,l)),mr(t,r,a);break;case 21:mr(t,r,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,mr(t,r,a),Mt=l;break;default:mr(t,r,a)}}function mv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Eo(t)}catch(a){et(r,r.return,a)}}}function gv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Eo(t)}catch(a){et(r,r.return,a)}}function _S(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new uv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new uv),r;default:throw Error(s(435,t.tag))}}function Zu(t,r){var a=_S(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var d=CS.bind(null,t,l);l.then(d,d)}})}function yn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(rs(T.type)){ft=T.stateNode,pn=!1;break e}break;case 5:ft=T.stateNode,pn=!1;break e;case 3:case 4:ft=T.stateNode.containerInfo,pn=!0;break e}T=T.return}if(ft===null)throw Error(s(160));fv(f,_,d),ft=null,pn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)pv(r,t),r=r.sibling}var ui=null;function pv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(r,t),vn(t),l&4&&(Jr(3,t,t.return),ql(3,t),Jr(5,t,t.return));break;case 1:yn(r,t),vn(t),l&512&&(Mt||a===null||Fi(a,a.return)),l&64&&fr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ui;if(yn(r,t),vn(t),l&512&&(Mt||a===null||Fi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Ii]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Wt(f,l,a),f[Ct]=t,Nt(f),l=f;break e;case"link":var _=p_("link","href",d).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=d.createElement(l),Wt(f,l,a),d.head.appendChild(f);break;case"meta":if(_=p_("meta","content",d).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=d.createElement(l),Wt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ct]=t,Nt(f),l=f}t.stateNode=l}else y_(d,t.type,t.stateNode);else t.stateNode=g_(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?y_(d,t.type,t.stateNode):g_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&lm(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(r,t),vn(t),l&512&&(Mt||a===null||Fi(a,a.return)),a!==null&&l&4&&lm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,t),vn(t),l&512&&(Mt||a===null||Fi(a,a.return)),t.flags&32){d=t.stateNode;try{gn(d,"")}catch(pe){et(t,t.return,pe)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,lm(t,d,a!==null?a.memoizedProps:d)),l&1024&&(hm=!0);break;case 6:if(yn(r,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(pe){et(t,t.return,pe)}}break;case 3:if(gh=null,d=ui,ui=fh(r.containerInfo),yn(r,t),ui=d,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(pe){et(t,t.return,pe)}hm&&(hm=!1,yv(t));break;case 4:l=ui,ui=fh(t.stateNode.containerInfo),yn(r,t),vn(t),ui=l;break;case 12:yn(r,t),vn(t);break;case 31:yn(r,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 13:yn(r,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(th=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=fr,J=Mt;if(fr=F||d,Mt=J||I,yn(r,t),Mt=J,fr=F,vn(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||I||fr||Mt||la(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(f=I.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var ne=I.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(pe){et(I,I.return,pe)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(pe){et(I,I.return,pe)}}}else if(r.tag===18){if(a===null){I=r;try{var $=I.stateNode;d?a_($,!0):a_(I.stateNode,!1)}catch(pe){et(I,I.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zu(t,a))));break;case 19:yn(r,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 30:break;case 21:break;default:yn(r,t),vn(t)}}function vn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(lv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=cm(t);Wu(t,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var T=cm(t);Wu(t,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,F=cm(t);um(t,F,I);break;default:throw Error(s(161))}}catch(J){et(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function yv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;yv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function gr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)hv(t,r.alternate,r),r=r.sibling}function la(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Jr(4,r,r.return),la(r);break;case 1:Fi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&av(r,r.return,a),la(r);break;case 27:Wl(r.stateNode);case 26:case 5:Fi(r,r.return),la(r);break;case 22:r.memoizedState===null&&la(r);break;case 30:la(r);break;default:la(r)}t=t.sibling}}function pr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,f=r,_=f.flags;switch(f.tag){case 0:case 11:case 15:pr(d,f,a),ql(4,f);break;case 1:if(pr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){et(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)$y(I[d],T)}catch(F){et(l,l.return,F)}}a&&_&64&&sv(f),Hl(f,f.return);break;case 27:cv(f);case 26:case 5:pr(d,f,a),a&&l===null&&_&4&&ov(f),Hl(f,f.return);break;case 12:pr(d,f,a);break;case 31:pr(d,f,a),a&&_&4&&mv(d,f);break;case 13:pr(d,f,a),a&&_&4&&gv(d,f);break;case 22:f.memoizedState===null&&pr(d,f,a),Hl(f,f.return);break;case 30:break;default:pr(d,f,a)}r=r.sibling}}function dm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Nl(a))}function fm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Nl(t))}function hi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vv(t,r,a,l),r=r.sibling}function vv(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:hi(t,r,a,l),d&2048&&ql(9,r);break;case 1:hi(t,r,a,l);break;case 3:hi(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Nl(t)));break;case 12:if(d&2048){hi(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){et(r,r.return,I)}}else hi(t,r,a,l);break;case 31:hi(t,r,a,l);break;case 13:hi(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,_=r.alternate,r.memoizedState!==null?f._visibility&2?hi(t,r,a,l):Fl(t,r):f._visibility&2?hi(t,r,a,l):(f._visibility|=2,co(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&dm(_,r);break;case 24:hi(t,r,a,l),d&2048&&fm(r.alternate,r);break;default:hi(t,r,a,l)}}function co(t,r,a,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,_=r,T=a,I=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:co(f,_,T,I,d),ql(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?co(f,_,T,I,d):Fl(f,_):(J._visibility|=2,co(f,_,T,I,d)),d&&F&2048&&dm(_.alternate,_);break;case 24:co(f,_,T,I,d),d&&F&2048&&fm(_.alternate,_);break;default:co(f,_,T,I,d)}r=r.sibling}}function Fl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:Fl(a,l),d&2048&&dm(l.alternate,l);break;case 24:Fl(a,l),d&2048&&fm(l.alternate,l);break;default:Fl(a,l)}r=r.sibling}}var Gl=8192;function uo(t,r,a){if(t.subtreeFlags&Gl)for(t=t.child;t!==null;)_v(t,r,a),t=t.sibling}function _v(t,r,a){switch(t.tag){case 26:uo(t,r,a),t.flags&Gl&&t.memoizedState!==null&&sA(a,ui,t.memoizedState,t.memoizedProps);break;case 5:uo(t,r,a);break;case 3:case 4:var l=ui;ui=fh(t.stateNode.containerInfo),uo(t,r,a),ui=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,uo(t,r,a),Gl=l):uo(t,r,a));break;default:uo(t,r,a)}}function bv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Kl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ft=l,wv(l,t)}bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ev(t),t=t.sibling}function Ev(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&Jr(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,eh(t)):Kl(t);break;default:Kl(t)}}function eh(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ft=l,wv(l,t)}bv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Jr(8,r,r.return),eh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,eh(r));break;default:eh(r)}t=t.sibling}}function wv(t,r){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Jr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=t;Ft!==null;){l=Ft;var d=l.sibling,f=l.return;if(dv(l),l===a){Ft=null;break e}if(d!==null){d.return=f,Ft=d;break e}Ft=f}}}var bS={getCacheForType:function(t){var r=Xt(Dt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Xt(Dt).controller.signal}},ES=typeof WeakMap=="function"?WeakMap:Map,$e=0,at=null,Ve=null,Pe=0,Ze=0,Nn=null,Wr=!1,ho=!1,mm=!1,yr=0,vt=0,Zr=0,ca=0,gm=0,In=0,fo=0,Yl=null,_n=null,pm=!1,th=0,Tv=0,nh=1/0,ih=null,es=null,Ut=0,ts=null,mo=null,vr=0,ym=0,vm=null,xv=null,$l=0,_m=null;function Dn(){return($e&2)!==0&&Pe!==0?Pe&-Pe:Q.T!==null?Sm():ru()}function Sv(){if(In===0)if((Pe&536870912)===0||He){var t=Vs;Vs<<=1,(Vs&3932160)===0&&(Vs=262144),In=t}else In=536870912;return t=Rn.current,t!==null&&(t.flags|=32),In}function bn(t,r,a){(t===at&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(go(t,0),ns(t,Pe,In,!1)),Ls(t,a),(($e&2)===0||t!==at)&&(t===at&&(($e&2)===0&&(ca|=a),vt===4&&ns(t,Pe,In,!1)),Gi(t))}function Av(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ti(t,r),d=l?xS(t,r):Em(t,r,!0),f=l;do{if(d===0){ho&&!l&&ns(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!wS(a)){d=Em(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;d=Yl;var I=T.current.memoizedState.isDehydrated;if(I&&(go(T,_).flags|=256),_=Em(T,_,!1),_!==2){if(mm&&!I){T.errorRecoveryDisabledLanes|=f,ca|=f,d=4;break e}f=_n,_n=d,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){go(t,0),ns(t,r,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ns(l,r,In,!Wr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=th+300-cn(),10<d)){if(ns(l,r,In,!Wr),Ri(l,0,!0)!==0)break e;vr=r,l.timeoutHandle=i_(Rv.bind(null,l,a,_n,ih,pm,r,In,ca,fo,Wr,f,"Throttled",-0,0),d);break e}Rv(l,a,_n,ih,pm,r,In,ca,fo,Wr,f,null,-0,0)}}break}while(!0);Gi(t)}function Rv(t,r,a,l,d,f,_,T,I,F,J,ne,K,$){if(t.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},_v(r,f,ne);var pe=(f&62914560)===f?th-cn():(f&4194048)===f?Tv-cn():0;if(pe=aA(ne,pe),pe!==null){vr=f,t.cancelPendingCommit=pe(jv.bind(null,t,r,f,a,l,d,_,T,I,J,ne,null,K,$)),ns(t,f,_,!F);return}}jv(t,r,f,a,l,d,_,T,I)}function wS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Sn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ns(t,r,a,l){r&=~gm,r&=~ca,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var f=31-_t(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&Ps(t,a,r)}function rh(){return($e&6)===0?(Ql(0),!1):!0}function bm(){if(Ve!==null){if(Ze===0)var t=Ve.return;else t=Ve,or=ea=null,Vf(t),ro=null,Dl=0,t=Ve;for(;t!==null;)rv(t.alternate,t),t=t.return;Ve=null}}function go(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),vr=0,bm(),at=t,Ve=a=sr(t.current,null),Pe=r,Ze=0,Nn=null,Wr=!1,ho=ti(t,r),mm=!1,fo=In=gm=ca=Zr=vt=0,_n=Yl=null,pm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-_t(l),f=1<<d;r|=t[d],l&=~f}return yr=r,Su(),a}function Cv(t,r){Oe=null,Q.H=Ul,r===io||r===ku?(r=Fy(),Ze=3):r===xf?(r=Fy(),Ze=4):Ze=r===Wf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Nn=r,Ve===null&&(vt=1,Yu(t,qn(r,t.current)))}function Nv(){var t=Rn.current;return t===null?!0:(Pe&4194048)===Pe?Kn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Kn:!1}function Iv(){var t=Q.H;return Q.H=Ul,t===null?Ul:t}function Dv(){var t=Q.A;return Q.A=bS,t}function sh(){vt=4,Wr||(Pe&4194048)!==Pe&&Rn.current!==null||(ho=!0),(Zr&134217727)===0&&(ca&134217727)===0||at===null||ns(at,Pe,In,!1)}function Em(t,r,a){var l=$e;$e|=2;var d=Iv(),f=Dv();(at!==t||Pe!==r)&&(ih=null,go(t,r)),r=!1;var _=vt;e:do try{if(Ze!==0&&Ve!==null){var T=Ve,I=Nn;switch(Ze){case 8:bm(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var F=Ze;if(Ze=0,Nn=null,po(t,T,I,F),a&&ho){_=0;break e}break;default:F=Ze,Ze=0,Nn=null,po(t,T,I,F)}}TS(),_=vt;break}catch(J){Cv(t,J)}while(!0);return r&&t.shellSuspendCounter++,or=ea=null,$e=l,Q.H=d,Q.A=f,Ve===null&&(at=null,Pe=0,Su()),_}function TS(){for(;Ve!==null;)Ov(Ve)}function xS(t,r){var a=$e;$e|=2;var l=Iv(),d=Dv();at!==t||Pe!==r?(ih=null,nh=cn()+500,go(t,r)):ho=ti(t,r);e:do try{if(Ze!==0&&Ve!==null){r=Ve;var f=Nn;t:switch(Ze){case 1:Ze=0,Nn=null,po(t,r,f,1);break;case 2:case 9:if(qy(f)){Ze=0,Nn=null,kv(r);break}r=function(){Ze!==2&&Ze!==9||at!==t||(Ze=7),Gi(t)},f.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:qy(f)?(Ze=0,Nn=null,kv(r)):(Ze=0,Nn=null,po(t,r,f,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var T=Ve;if(_?v_(_):T.stateNode.complete){Ze=0,Nn=null;var I=T.sibling;if(I!==null)Ve=I;else{var F=T.return;F!==null?(Ve=F,ah(F)):Ve=null}break t}}Ze=0,Nn=null,po(t,r,f,5);break;case 6:Ze=0,Nn=null,po(t,r,f,6);break;case 8:bm(),vt=6;break e;default:throw Error(s(462))}}SS();break}catch(J){Cv(t,J)}while(!0);return or=ea=null,Q.H=l,Q.A=d,$e=a,Ve!==null?0:(at=null,Pe=0,Su(),vt)}function SS(){for(;Ve!==null&&!Xd();)Ov(Ve)}function Ov(t){var r=nv(t.alternate,t,yr);t.memoizedProps=t.pendingProps,r===null?ah(t):Ve=r}function kv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=X0(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=X0(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Vf(r);default:rv(a,r),r=Ve=Dy(r,yr),r=nv(a,r,yr)}t.memoizedProps=t.pendingProps,r===null?ah(t):Ve=r}function po(t,r,a,l){or=ea=null,Vf(r),ro=null,Dl=0;var d=r.return;try{if(fS(t,d,r,a,Pe)){vt=1,Yu(t,qn(a,t.current)),Ve=null;return}}catch(f){if(d!==null)throw Ve=d,f;vt=1,Yu(t,qn(a,t.current)),Ve=null;return}r.flags&32768?(He||l===1?t=!0:ho||(Pe&536870912)!==0?t=!1:(Wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mv(r,t)):ah(r)}function ah(t){var r=t;do{if((r.flags&32768)!==0){Mv(r,Wr);return}t=r.return;var a=pS(r.alternate,r,yr);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);vt===0&&(vt=5)}function Mv(t,r){do{var a=yS(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);vt=6,Ve=null}function jv(t,r,a,l,d,f,_,T,I){t.cancelPendingCommit=null;do oh();while(Ut!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=cf,Zd(t,a,f,_,T,I),t===at&&(Ve=at=null,Pe=0),mo=r,ts=t,vr=a,ym=f,vm=d,xv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NS(Or,function(){return zv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=oe.p,oe.p=2,_=$e,$e|=4;try{vS(t,r,a)}finally{$e=_,oe.p=d,Q.T=l}}Ut=1,Vv(),Lv(),Pv()}}function Vv(){if(Ut===1){Ut=0;var t=ts,r=mo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var d=$e;$e|=4;try{pv(r,t);var f=km,_=wy(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Ey(T.ownerDocument.documentElement,T)){if(I!==null&&rf(T)){var F=I.start,J=I.end;if(J===void 0&&(J=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(J,T.value.length);else{var ne=T.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var $=K.getSelection(),pe=T.textContent.length,xe=Math.min(I.start,pe),st=I.end===void 0?xe:Math.min(I.end,pe);!$.extend&&xe>st&&(_=st,st=xe,xe=_);var z=by(T,xe),j=by(T,st);if(z&&j&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var H=ne.createRange();H.setStart(z.node,z.offset),$.removeAllRanges(),xe>st?($.addRange(H),$.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),$.addRange(H))}}}}for(ne=[],$=T;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var ee=ne[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}_h=!!Om,km=Om=null}finally{$e=d,oe.p=l,Q.T=a}}t.current=r,Ut=2}}function Lv(){if(Ut===2){Ut=0;var t=ts,r=mo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var d=$e;$e|=4;try{hv(t,r.alternate,r)}finally{$e=d,oe.p=l,Q.T=a}}Ut=3}}function Pv(){if(Ut===4||Ut===3){Ut=0,Jc();var t=ts,r=mo,a=vr,l=xv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,mo=ts=null,Uv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(es=null),tr(a),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ei,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,d=oe.p,oe.p=2,Q.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{Q.T=r,oe.p=d}}(vr&3)!==0&&oh(),Gi(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===_m?$l++:($l=0,_m=t):$l=0,Ql(0)}}function Uv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Nl(r)))}function oh(){return Vv(),Lv(),Pv(),zv()}function zv(){if(Ut!==5)return!1;var t=ts,r=ym;ym=0;var a=tr(vr),l=Q.T,d=oe.p;try{oe.p=32>a?32:a,Q.T=null,a=vm,vm=null;var f=ts,_=vr;if(Ut=0,mo=ts=null,vr=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,Ev(f.current),vv(f,f.current,_,a),$e=T,Ql(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ei,f)}catch{}return!0}finally{oe.p=d,Q.T=l,Uv(t,r)}}function Bv(t,r,a){r=qn(a,r),r=Jf(t.stateNode,r,2),t=$r(t,r,2),t!==null&&(Ls(t,2),Gi(t))}function et(t,r,a){if(t.tag===3)Bv(t,t,a);else for(;r!==null;){if(r.tag===3){Bv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(es===null||!es.has(l))){t=qn(a,t),a=q0(2),l=$r(r,a,2),l!==null&&(H0(a,l,r,t),Ls(l,2),Gi(l));break}}r=r.return}}function wm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ES;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(mm=!0,d.add(a),t=AS.bind(null,t,r,a),r.then(t,t))}function AS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(Pe&a)===a&&(vt===4||vt===3&&(Pe&62914560)===Pe&&300>cn()-th?($e&2)===0&&go(t,0):gm|=a,fo===Pe&&(fo=0)),Gi(t)}function qv(t,r){r===0&&(r=iu()),t=Js(t,r),t!==null&&(Ls(t,r),Gi(t))}function RS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),qv(t,a)}function CS(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),qv(t,a)}function NS(t,r){return Pt(t,r)}var lh=null,yo=null,Tm=!1,ch=!1,xm=!1,is=0;function Gi(t){t!==yo&&t.next===null&&(yo===null?lh=yo=t:yo=yo.next=t),ch=!0,Tm||(Tm=!0,DS())}function Ql(t,r){if(!xm&&ch){xm=!0;do for(var a=!1,l=lh;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=d&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Kv(l,f))}else f=Pe,f=Ri(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ti(l,f)||(a=!0,Kv(l,f));l=l.next}while(a);xm=!1}}function IS(){Hv()}function Hv(){ch=Tm=!1;var t=0;is!==0&&BS()&&(t=is);for(var r=cn(),a=null,l=lh;l!==null;){var d=l.next,f=Fv(l,r);f===0?(l.next=null,a===null?lh=d:a.next=d,d===null&&(yo=a)):(a=l,(t!==0||(f&3)!==0)&&(ch=!0)),l=d}Ut!==0&&Ut!==5||Ql(t),is!==0&&(is=0)}function Fv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-_t(f),T=1<<_,I=d[_];I===-1?((T&a)===0||(T&l)!==0)&&(d[_]=Wd(T,r)):I<=r&&(t.expiredLanes|=T),f&=~T}if(r=at,a=Pe,a=Ri(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ti(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Dr(l),tr(a)){case 2:case 8:a=sl;break;case 32:a=Or;break;case 268435456:a=Wc;break;default:a=Or}return l=Gv.bind(null,t),a=Pt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function Gv(t,r){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(oh()&&t.callbackNode!==a)return null;var l=Pe;return l=Ri(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Av(t,l,r),Fv(t,cn()),t.callbackNode!=null&&t.callbackNode===a?Gv.bind(null,t):null)}function Kv(t,r){if(oh())return null;Av(t,r,!0)}function DS(){HS(function(){($e&6)!==0?Pt(rl,IS):Hv()})}function Sm(){if(is===0){var t=to;t===0&&(t=Si,Si<<=1,(Si&261888)===0&&(Si=256)),is=t}return is}function Yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function $v(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function OS(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=Yv((d[qt]||null).action),_=l.submitter;_&&(r=(r=_[qt]||null)?Yv(r.formAction):_.getAttribute("formAction"),r!==null&&(f=r,_=null));var T=new Pi("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var I=_?$v(d,_):new FormData(d);Gf(a,{pending:!0,data:I,method:d.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=_?$v(d,_):new FormData(d),Gf(a,{pending:!0,data:I,method:d.method,action:f},f,I))},currentTarget:d}]})}}for(var Am=0;Am<lf.length;Am++){var Rm=lf[Am],kS=Rm.toLowerCase(),MS=Rm[0].toUpperCase()+Rm.slice(1);ci(kS,"on"+MS)}ci(Sy,"onAnimationEnd"),ci(Ay,"onAnimationIteration"),ci(Ry,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(X1,"onTransitionRun"),ci(J1,"onTransitionStart"),ci(W1,"onTransitionCancel"),ci(Cy,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function Qv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,F=T.currentTarget;if(T=T.listener,I!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=F;try{f(d)}catch(J){xu(J)}d.currentTarget=null,f=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,F=T.currentTarget,T=T.listener,I!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=F;try{f(d)}catch(J){xu(J)}d.currentTarget=null,f=I}}}}function Le(t,r){var a=r[ja];a===void 0&&(a=r[ja]=new Set);var l=t+"__bubble";a.has(l)||(Xv(r,t,2,!1),a.add(l))}function Cm(t,r,a){var l=0;r&&(l|=4),Xv(a,t,l,r)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Nm(t){if(!t[uh]){t[uh]=!0,ll.forEach(function(a){a!=="selectionchange"&&(jS.has(a)||Cm(a,!1,t),Cm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[uh]||(r[uh]=!0,Cm("selectionchange",!1,r))}}function Xv(t,r,a,l){switch(S_(r)){case 2:var d=cA;break;case 8:d=uA;break;default:d=Fm}a=d.bind(null,r,a,t),d=void 0,!Hs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function Im(t,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===d)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;T!==null;){if(_=Di(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=f=_;continue e}T=T.parentNode}}l=l.return}Pr(function(){var F=f,J=Pn(a),ne=[];e:{var K=Ny.get(t);if(K!==void 0){var $=Pi,pe=t;switch(t){case"keypress":if(Gs(a)===0)break e;case"keydown":case"keyup":$=Eu;break;case"focusin":pe="focus",$=Ys;break;case"focusout":pe="blur",$=Ys;break;case"beforeblur":case"afterblur":$=Ys;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=El;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case Sy:case Ay:case Ry:$=mu;break;case Cy:$=S;break;case"scroll":case"scrollend":$=bl;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=rr;break;case"toggle":case"beforetoggle":$=De}var xe=(r&4)!==0,st=!xe&&(t==="scroll"||t==="scrollend"),z=xe?K!==null?K+"Capture":null:K;xe=[];for(var j=F,H;j!==null;){var ee=j;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||z===null||(ee=si(j,z),ee!=null&&xe.push(Jl(j,ee,H))),st)break;j=j.return}0<xe.length&&(K=new $(K,pe,null,a,J),ne.push({event:K,listeners:xe}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",K&&a!==yl&&(pe=a.relatedTarget||a.fromElement)&&(Di(pe)||pe[Ni]))break e;if(($||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,$?(pe=a.relatedTarget||a.toElement,$=F,pe=pe?Di(pe):null,pe!==null&&(st=c(pe),xe=pe.tag,pe!==st||xe!==5&&xe!==27&&xe!==6)&&(pe=null)):($=null,pe=F),$!==pe)){if(xe=El,ee="onMouseLeave",z="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(xe=rr,ee="onPointerLeave",z="onPointerEnter",j="pointer"),st=$==null?K:Tn($),H=pe==null?K:Tn(pe),K=new xe(ee,j+"leave",$,a,J),K.target=st,K.relatedTarget=H,ee=null,Di(J)===F&&(xe=new xe(z,j+"enter",pe,a,J),xe.target=H,xe.relatedTarget=st,ee=xe),st=ee,$&&pe)t:{for(xe=VS,z=$,j=pe,H=0,ee=z;ee;ee=xe(ee))H++;ee=0;for(var we=j;we;we=xe(we))ee++;for(;0<H-ee;)z=xe(z),H--;for(;0<ee-H;)j=xe(j),ee--;for(;H--;){if(z===j||j!==null&&z===j.alternate){xe=z;break t}z=xe(z),j=xe(j)}xe=null}else xe=null;$!==null&&Jv(ne,K,$,xe,!1),pe!==null&&st!==null&&Jv(ne,st,pe,xe,!0)}}e:{if(K=F?Tn(F):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Ge=my;else if(dy(K))if(gy)Ge=Y1;else{Ge=G1;var be=F1}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&Ua(F.elementType)&&(Ge=my):Ge=K1;if(Ge&&(Ge=Ge(t,F))){fy(ne,Ge,a,J);break e}be&&be(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&ml(K,"number",K.value)}switch(be=F?Tn(F):window,t){case"focusin":(dy(be)||be.contentEditable==="true")&&(Ya=be,sf=F,Al=null);break;case"focusout":Al=sf=Ya=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Ty(ne,a,J);break;case"selectionchange":if(Q1)break;case"keydown":case"keyup":Ty(ne,a,J)}var ke;if(Ye)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ka?$s(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Bi&&a.locale!=="ko"&&(Ka||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ka&&(ke=_l()):(Li=J,vl="value"in Li?Li.value:Li.textContent,Ka=!0)),be=hh(F,Ue),0<be.length&&(Ue=new zi(Ue,t,null,a,J),ne.push({event:Ue,listeners:be}),ke?Ue.data=ke:(ke=Ga(a),ke!==null&&(Ue.data=ke)))),(ke=zn?z1(t,a):B1(t,a))&&(Ue=hh(F,"onBeforeInput"),0<Ue.length&&(be=new zi("onBeforeInput","beforeinput",null,a,J),ne.push({event:be,listeners:Ue}),be.data=ke)),OS(ne,t,F,a,J)}Qv(ne,r)})}function Jl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function hh(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=si(t,a),d!=null&&l.unshift(Jl(t,d,f)),d=si(t,r),d!=null&&l.push(Jl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function VS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jv(t,r,a,l,d){for(var f=r._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,F=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||F===null||(I=F,d?(F=si(a,f),F!=null&&_.unshift(Jl(a,F,I))):d||(F=si(a,f),F!=null&&_.push(Jl(a,F,I)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var LS=/\r\n?/g,PS=/\u0000|\uFFFD/g;function Wv(t){return(typeof t=="string"?t:""+t).replace(LS,`
`).replace(PS,"")}function Zv(t,r){return r=Wv(r),Wv(t)===r}function rt(t,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&gn(t,""+l);break;case"className":xn(t,"class",l);break;case"tabIndex":xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(t,a,l);break;case"style":pl(t,l,f);break;case"data":if(r!=="object"){xn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&rt(t,r,"name",d.name,d,null),rt(t,r,"formEncType",d.formEncType,d,null),rt(t,r,"formMethod",d.formMethod,d,null),rt(t,r,"formTarget",d.formTarget,d,null)):(rt(t,r,"encType",d.encType,d,null),rt(t,r,"method",d.method,d,null),rt(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=za(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ri);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),La(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":La(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hu.get(a)||a,La(t,a,l))}}function Dm(t,r,a,l,d,f){switch(a){case"style":pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=t[qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):La(t,a,l)}}}function Wt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,f,_,a,null)}}d&&rt(t,r,"srcSet",a.srcSet,a,null),l&&rt(t,r,"src",a.src,a,null);return;case"input":Le("invalid",t);var T=f=_=d=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":d=J;break;case"type":_=J;break;case"checked":I=J;break;case"defaultChecked":F=J;break;case"value":f=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:rt(t,r,l,J,a,null)}}lu(t,f,T,I,F,_,d,!1);return;case"select":Le("invalid",t),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:rt(t,r,d,T,a,null)}r=f,a=_,t.multiple=!!l,r!=null?Mr(t,!!l,r,!1):a!=null&&Mr(t,!!l,a,!0);return;case"textarea":Le("invalid",t),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:rt(t,r,_,T,a,null)}jr(t,l,d,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,r,I,l,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Xl.length;l++)Le(Xl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,F,l,a,null)}return;default:if(Ua(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Dm(t,r,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&rt(t,r,T,l,a,null))}function US(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,T=null,I=null,F=null,J=null;for($ in a){var ne=a[$];if(a.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=ne;default:l.hasOwnProperty($)||rt(t,r,$,null,l,ne)}}for(var K in l){var $=l[K];if(ne=a[K],l.hasOwnProperty(K)&&($!=null||ne!=null))switch(K){case"type":f=$;break;case"name":d=$;break;case"checked":F=$;break;case"defaultChecked":J=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==ne&&rt(t,r,K,$,l,ne)}}Pa(t,_,T,I,F,J,f,d);return;case"select":$=_=T=K=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(f)||rt(t,r,f,null,l,I)}for(d in l)if(f=l[d],I=a[d],l.hasOwnProperty(d)&&(f!=null||I!=null))switch(d){case"value":K=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==I&&rt(t,r,d,f,l,I)}r=T,a=_,l=$,K!=null?Mr(t,!!a,K,!1):!!l!=!!a&&(r!=null?Mr(t,!!a,r,!0):Mr(t,!!a,a?[]:"",!1));return;case"textarea":$=K=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,r,T,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":K=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&rt(t,r,_,d,l,f)}cu(t,K,$);return;case"option":for(var pe in a)if(K=a[pe],a.hasOwnProperty(pe)&&K!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:rt(t,r,pe,null,l,K)}for(I in l)if(K=l[I],$=a[I],l.hasOwnProperty(I)&&K!==$&&(K!=null||$!=null))switch(I){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:rt(t,r,I,K,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)K=a[xe],a.hasOwnProperty(xe)&&K!=null&&!l.hasOwnProperty(xe)&&rt(t,r,xe,null,l,K);for(F in l)if(K=l[F],$=a[F],l.hasOwnProperty(F)&&K!==$&&(K!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:rt(t,r,F,K,l,$)}return;default:if(Ua(r)){for(var st in a)K=a[st],a.hasOwnProperty(st)&&K!==void 0&&!l.hasOwnProperty(st)&&Dm(t,r,st,void 0,l,K);for(J in l)K=l[J],$=a[J],!l.hasOwnProperty(J)||K===$||K===void 0&&$===void 0||Dm(t,r,J,K,l,$);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&rt(t,r,z,null,l,K);for(ne in l)K=l[ne],$=a[ne],!l.hasOwnProperty(ne)||K===$||K==null&&$==null||rt(t,r,ne,K,l,$)}function e_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,T=d.duration;if(f&&T&&e_(_)){for(_=0,T=d.responseEnd,l+=1;l<a.length;l++){var I=a[l],F=I.startTime;if(F>T)break;var J=I.transferSize,ne=I.initiatorType;J&&e_(ne)&&(I=I.responseEnd,_+=J*(I<T?1:(T-F)/(I-F)))}if(--l,r+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Om=null,km=null;function dh(t){return t.nodeType===9?t:t.ownerDocument}function t_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Mm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var jm=null;function BS(){var t=window.event;return t&&t.type==="popstate"?t===jm?!1:(jm=t,!0):(jm=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(FS)}:i_;function FS(t){setTimeout(function(){throw t})}function rs(t){return t==="head"}function s_(t,r){var a=r,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),Eo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Wl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[Ii]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Wl(t.ownerDocument.body);a=d}while(a);Eo(r)}function a_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Vm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vm(a),Va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function GS(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ii])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function KS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function o_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Yn(t.nextSibling),t===null))return null;return t}function Lm(t){return t.data==="$?"||t.data==="$~"}function Pm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function YS(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Um=null;function l_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Yn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function c_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function u_(t,r,a){switch(r=dh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Wl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Va(t)}var $n=new Map,h_=new Set;function fh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _r=oe.d;oe.d={f:$S,r:QS,D:XS,C:JS,L:WS,m:ZS,X:tA,S:eA,M:nA};function $S(){var t=_r.f(),r=rh();return t||r}function QS(t){var r=Ln(t);r!==null&&r.tag===5&&r.type==="form"?C0(r):_r.r(t)}var vo=typeof document>"u"?null:document;function d_(t,r,a){var l=vo;if(l&&typeof r=="string"&&r){var d=mn(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),h_.has(d)||(h_.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Wt(r,"link",t),Nt(r),l.head.appendChild(r)))}}function XS(t){_r.D(t),d_("dns-prefetch",t,null)}function JS(t,r){_r.C(t,r),d_("preconnect",t,r)}function WS(t,r,a){_r.L(t,r,a);var l=vo;if(l&&t&&r){var d='link[rel="preload"][as="'+mn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+mn(a.imageSizes)+'"]')):d+='[href="'+mn(t)+'"]';var f=d;switch(r){case"style":f=_o(t);break;case"script":f=bo(t)}$n.has(f)||(t=w({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),$n.set(f,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(Zl(f))||r==="script"&&l.querySelector(ec(f))||(r=l.createElement("link"),Wt(r,"link",t),Nt(r),l.head.appendChild(r)))}}function ZS(t,r){_r.m(t,r);var a=vo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=bo(t)}if(!$n.has(f)&&(t=w({rel:"modulepreload",href:t},r),$n.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ec(f)))return}l=a.createElement("link"),Wt(l,"link",t),Nt(l),a.head.appendChild(l)}}}function eA(t,r,a){_r.S(t,r,a);var l=vo;if(l&&t){var d=Oi(l).hoistableStyles,f=_o(t);r=r||"default";var _=d.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Zl(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":r},a),(a=$n.get(f))&&zm(t,a);var I=_=l.createElement("link");Nt(I),Wt(I,"link",t),I._p=new Promise(function(F,J){I.onload=F,I.onerror=J}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},d.set(f,_)}}}function tA(t,r){_r.X(t,r);var a=vo;if(a&&t){var l=Oi(a).hoistableScripts,d=bo(t),f=l.get(d);f||(f=a.querySelector(ec(d)),f||(t=w({src:t,async:!0},r),(r=$n.get(d))&&Bm(t,r),f=a.createElement("script"),Nt(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function nA(t,r){_r.M(t,r);var a=vo;if(a&&t){var l=Oi(a).hoistableScripts,d=bo(t),f=l.get(d);f||(f=a.querySelector(ec(d)),f||(t=w({src:t,async:!0,type:"module"},r),(r=$n.get(d))&&Bm(t,r),f=a.createElement("script"),Nt(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function f_(t,r,a,l){var d=(d=Ee.current)?fh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=_o(a.href),a=Oi(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_o(a.href);var f=Oi(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(Zl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),f||iA(d,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bo(a),a=Oi(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _o(t){return'href="'+mn(t)+'"'}function Zl(t){return'link[rel="stylesheet"]['+t+"]"}function m_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function iA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Wt(r,"link",a),Nt(r),t.head.appendChild(r))}function bo(t){return'[src="'+mn(t)+'"]'}function ec(t){return"script[async]"+t}function g_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+mn(a.href)+'"]');if(l)return r.instance=l,Nt(l),l;var d=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),Wt(l,"style",d),mh(l,a.precedence,t),r.instance=l;case"stylesheet":d=_o(a.href);var f=t.querySelector(Zl(d));if(f)return r.state.loading|=4,r.instance=f,Nt(f),f;l=m_(a),(d=$n.get(d))&&zm(l,d),f=(t.ownerDocument||t).createElement("link"),Nt(f);var _=f;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Wt(f,"link",l),r.state.loading|=4,mh(f,a.precedence,t),r.instance=f;case"script":return f=bo(a.src),(d=t.querySelector(ec(f)))?(r.instance=d,Nt(d),d):(l=a,(d=$n.get(f))&&(l=w({},a),Bm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Nt(d),Wt(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,mh(l,a.precedence,t));return r.instance}function mh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function zm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Bm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var gh=null;function p_(t,r,a){if(gh===null){var l=new Map,d=gh=new Map;d.set(a,l)}else d=gh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[Ii]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function y_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function rA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function v_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sA(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=_o(l.href),f=r.querySelector(Zl(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ph.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,Nt(f);return}f=r.ownerDocument||r,l=m_(l),(d=$n.get(d))&&zm(l,d),f=f.createElement("link"),Nt(f);var _=f;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Wt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ph.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var qm=0;function aA(t,r){return t.stylesheets&&t.count===0&&vh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&vh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&qm===0&&(qm=62500*zS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>qm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yh=null;function vh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yh=new Map,r.forEach(oA,t),yh=null,ph.call(t))}function oA(t,r){if(!(r.state.loading&4)){var a=yh.get(t);if(a)var l=a.get(null);else{a=new Map,yh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=r.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=ph.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var tc={$$typeof:U,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function lA(t,r,a,l,d,f,_,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function __(t,r,a,l,d,f,_,T,I,F,J,ne){return t=new lA(t,r,a,_,I,F,J,ne,T),r=1,f===!0&&(r|=24),f=An(3,null,null,r),t.current=f,f.stateNode=t,r=Ef(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Sf(f),t}function b_(t){return t?(t=Xa,t):Xa}function E_(t,r,a,l,d,f){d=b_(d),l.context===null?l.context=d:l.pendingContext=d,l=Yr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=$r(t,l,r),a!==null&&(bn(a,t,r),kl(a,t,r))}function w_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Hm(t,r){w_(t,r),(t=t.alternate)&&w_(t,r)}function T_(t){if(t.tag===13||t.tag===31){var r=Js(t,67108864);r!==null&&bn(r,t,67108864),Hm(t,67108864)}}function x_(t){if(t.tag===13||t.tag===31){var r=Dn();r=Us(r);var a=Js(t,r);a!==null&&bn(a,t,r),Hm(t,r)}}var _h=!0;function cA(t,r,a,l){var d=Q.T;Q.T=null;var f=oe.p;try{oe.p=2,Fm(t,r,a,l)}finally{oe.p=f,Q.T=d}}function uA(t,r,a,l){var d=Q.T;Q.T=null;var f=oe.p;try{oe.p=8,Fm(t,r,a,l)}finally{oe.p=f,Q.T=d}}function Fm(t,r,a,l){if(_h){var d=Gm(l);if(d===null)Im(t,r,l,bh,a),A_(t,l);else if(dA(d,t,r,a,l))l.stopPropagation();else if(A_(t,l),r&4&&-1<hA.indexOf(t)){for(;d!==null;){var f=Ln(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Ai(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-_t(_);T.entanglements[1]|=I,_&=~I}Gi(f),($e&6)===0&&(nh=cn()+500,Ql(0))}}break;case 31:case 13:T=Js(f,2),T!==null&&bn(T,f,2),rh(),Hm(f,2)}if(f=Gm(l),f===null&&Im(t,r,l,bh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Im(t,r,l,null,a)}}function Gm(t){return t=Pn(t),Km(t)}var bh=null;function Km(t){if(bh=null,t=Di(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=u(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return bh=t,null}function S_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case rl:return 2;case sl:return 8;case Or:case Jd:return 32;case Wc:return 268435456;default:return 32}default:return 32}}var Ym=!1,ss=null,as=null,os=null,nc=new Map,ic=new Map,ls=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(t,r){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":nc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(r.pointerId)}}function rc(t,r,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Ln(r),r!==null&&T_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function dA(t,r,a,l,d){switch(r){case"focusin":return ss=rc(ss,t,r,a,l,d),!0;case"dragenter":return as=rc(as,t,r,a,l,d),!0;case"mouseover":return os=rc(os,t,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return nc.set(f,rc(nc.get(f)||null,t,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,ic.set(f,rc(ic.get(f)||null,t,r,a,l,d)),!0}return!1}function R_(t){var r=Di(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){t.blockedOn=r,ni(t.priority,function(){x_(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,ni(t.priority,function(){x_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Gm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yl=l,a.target.dispatchEvent(l),yl=null}else return r=Ln(a),r!==null&&T_(r),t.blockedOn=a,!1;r.shift()}return!0}function C_(t,r,a){Eh(t)&&a.delete(r)}function fA(){Ym=!1,ss!==null&&Eh(ss)&&(ss=null),as!==null&&Eh(as)&&(as=null),os!==null&&Eh(os)&&(os=null),nc.forEach(C_),ic.forEach(C_)}function wh(t,r){t.blockedOn===r&&(t.blockedOn=null,Ym||(Ym=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fA)))}var Th=null;function N_(t){Th!==t&&(Th=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Th===t&&(Th=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(Km(l||a)===null)continue;break}var f=Ln(a);f!==null&&(t.splice(r,3),r-=3,Gf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Eo(t){function r(I){return wh(I,t)}ss!==null&&wh(ss,t),as!==null&&wh(as,t),os!==null&&wh(os,t),nc.forEach(r),ic.forEach(r);for(var a=0;a<ls.length;a++){var l=ls[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ls.length&&(a=ls[0],a.blockedOn===null);)R_(a),a.blockedOn===null&&ls.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[qt]||null;if(typeof f=="function")_||N_(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[qt]||null)T=_.formAction;else if(Km(d)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),N_(a)}}}function I_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function $m(t){this._internalRoot=t}xh.prototype.render=$m.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Dn();E_(a,l,t,r,null,null)},xh.prototype.unmount=$m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;E_(t.current,2,null,t,null,null),rh(),r[Ni]=null}};function xh(t){this._internalRoot=t}xh.prototype.unstable_scheduleHydration=function(t){if(t){var r=ru();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ls.length&&r!==0&&r<ls[a].priority;a++);ls.splice(a,0,t),a===0&&R_(t)}};var D_=e.version;if(D_!=="19.2.4")throw Error(s(527,D_,"19.2.4"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var mA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{ei=Sh.inject(mA),Yt=Sh}catch{}}return ac.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",d=P0,f=U0,_=z0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=__(t,1,!1,null,null,a,l,null,d,f,_,I_),t[Ni]=r.current,Nm(t),new $m(r)},ac.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=P0,_=U0,T=z0,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=__(t,1,!0,r,a??null,l,d,I,f,_,T,I_),r.context=b_(null),a=r.current,l=Dn(),l=Us(l),d=Yr(l),d.callback=null,$r(a,d,l),a=l,r.current.lanes=a,Ls(r,a),Gi(r),t[Ni]=r.current,Nm(t),new xh(r)},ac.version="19.2.4",ac}var B_;function SA(){if(B_)return Jm.exports;B_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jm.exports=xA(),Jm.exports}var AA=SA();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q_="popstate";function RA(i={}){function e(s,o){let{pathname:c,search:u,hash:m}=s.location;return xg("",{pathname:c,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Tc(o)}return NA(e,n,null,i)}function mt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CA(){return Math.random().toString(36).substring(2,10)}function H_(i,e){return{usr:i.state,key:i.key,idx:e}}function xg(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:n,key:e&&e.key||s||CA()}}function Tc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Bo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function NA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,m="POP",g=null,p=b();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function b(){return(u.state||{idx:null}).idx}function w(){m="POP";let V=b(),Z=V==null?null:V-p;p=V,g&&g({action:m,location:B.location,delta:Z})}function x(V,Z){m="PUSH";let X=xg(B.location,V,Z);p=b()+1;let U=H_(X,p),ce=B.createHref(X);try{u.pushState(U,"",ce)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(ce)}c&&g&&g({action:m,location:B.location,delta:1})}function k(V,Z){m="REPLACE";let X=xg(B.location,V,Z);p=b();let U=H_(X,p),ce=B.createHref(X);u.replaceState(U,"",ce),c&&g&&g({action:m,location:B.location,delta:0})}function G(V){return IA(V)}let B={get action(){return m},get location(){return i(o,u)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(q_,w),g=V,()=>{o.removeEventListener(q_,w),g=null}},createHref(V){return e(o,V)},createURL:G,encodeLocation(V){let Z=G(V);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:x,replace:k,go(V){return u.go(V)}};return B}function IA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Tc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function XE(i,e,n="/"){return DA(i,e,n,!1)}function DA(i,e,n,s){let o=typeof e=="string"?Bo(e):e,c=Sr(o.pathname||"/",n);if(c==null)return null;let u=JE(i);OA(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let p=HA(c);m=BA(u[g],p,s)}return m}function JE(i,e=[],n=[],s="",o=!1){let c=(u,m,g=o,p)=>{let b={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&g)return;mt(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let w=Tr([s,b.relativePath]),x=n.concat(b);u.children&&u.children.length>0&&(mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),JE(u.children,e,x,w,g)),!(u.path==null&&!u.index)&&e.push({path:w,score:UA(w,u.index),routesMeta:x})};return i.forEach((u,m)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))c(u,m);else for(let p of WE(u.path))c(u,m,!0,p)}),e}function WE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=WE(s.join("/")),m=[];return m.push(...u.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...u),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function OA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:zA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var kA=/^:[\w-]+$/,MA=3,jA=2,VA=1,LA=10,PA=-2,F_=i=>i==="*";function UA(i,e){let n=i.split("/"),s=n.length;return n.some(F_)&&(s+=PA),e&&(s+=jA),n.filter(o=>!F_(o)).reduce((o,c)=>o+(kA.test(c)?MA:c===""?VA:LA),s)}function zA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function BA(i,e,n=!1){let{routesMeta:s}=i,o={},c="/",u=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,b=c==="/"?e:e.slice(c.length)||"/",w=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},b),x=g.route;if(!w&&p&&n&&!s[s.length-1].route.index&&(w=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Tr([c,w.pathname]),pathnameBase:YA(Tr([c,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(c=Tr([c,w.pathnameBase]))}return u}function $h(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=qA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:b,isOptional:w},x)=>{if(b==="*"){let G=m[x]||"";u=c.slice(0,c.length-G.length).replace(/(.)\/+$/,"$1")}const k=m[x];return w&&!k?p[b]=void 0:p[b]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:i}}function qA(i,e=!1,n=!0){gi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function HA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Sr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var FA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function GA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Bo(i):i,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=G_(n.substring(1),"/"):c=G_(n,e)):c=e,{pathname:c,search:$A(s),hash:QA(o)}}function G_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function tg(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tp(i){let e=KA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function np(i,e,n,s=!1){let o;typeof i=="string"?o=Bo(i):(o={...i},mt(!o.pathname||!o.pathname.includes("?"),tg("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),tg("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),tg("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=n;else{let w=e.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),w-=1;o.pathname=x.join("/")}m=w>=0?e[w]:"/"}let g=GA(o,m),p=u&&u!=="/"&&u.endsWith("/"),b=(c||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||b)&&(g.pathname+="/"),g}var Tr=i=>i.join("/").replace(/\/\/+/g,"/"),YA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,QA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,XA=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function JA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function WA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ew(i,e){let n=i;if(typeof n!="string"||!FA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(ZE)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=Sr(u.pathname,e);u.origin===c.origin&&m!=null?n=m+u.search+u.hash:o=!0}catch{gi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tw=["POST","PUT","PATCH","DELETE"];new Set(tw);var ZA=["GET",...tw];new Set(ZA);var qo=D.createContext(null);qo.displayName="DataRouter";var _d=D.createContext(null);_d.displayName="DataRouterState";var eR=D.createContext(!1),nw=D.createContext({isTransitioning:!1});nw.displayName="ViewTransition";var tR=D.createContext(new Map);tR.displayName="Fetchers";var nR=D.createContext(null);nR.displayName="Await";var Mn=D.createContext(null);Mn.displayName="Navigation";var Vc=D.createContext(null);Vc.displayName="Location";var bi=D.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var ip=D.createContext(null);ip.displayName="RouteError";var iw="REACT_ROUTER_ERROR",iR="REDIRECT",rR="ROUTE_ERROR_RESPONSE";function sR(i){if(i.startsWith(`${iw}:${iR}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function aR(i){if(i.startsWith(`${iw}:${rR}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new XA(e.status,e.statusText,e.data)}catch{}}function oR(i,{relative:e}={}){mt(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(Mn),{hash:o,pathname:c,search:u}=Lc(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Tr([n,c])),s.createHref({pathname:m,search:u,hash:o})}function Ho(){return D.useContext(Vc)!=null}function er(){return mt(Ho(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Vc).location}var rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sw(i){D.useContext(Mn).static||D.useLayoutEffect(i)}function bd(){let{isDataRoute:i}=D.useContext(bi);return i?wR():lR()}function lR(){mt(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(qo),{basename:e,navigator:n}=D.useContext(Mn),{matches:s}=D.useContext(bi),{pathname:o}=er(),c=JSON.stringify(tp(s)),u=D.useRef(!1);return sw(()=>{u.current=!0}),D.useCallback((g,p={})=>{if(gi(u.current,rw),!u.current)return;if(typeof g=="number"){n.go(g);return}let b=np(g,JSON.parse(c),o,p.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Tr([e,b.pathname])),(p.replace?n.replace:n.push)(b,p.state,p)},[e,n,c,o,i])}var cR=D.createContext(null);function uR(i){let e=D.useContext(bi).outlet;return D.useMemo(()=>e&&D.createElement(cR.Provider,{value:i},e),[e,i])}function Lc(i,{relative:e}={}){let{matches:n}=D.useContext(bi),{pathname:s}=er(),o=JSON.stringify(tp(n));return D.useMemo(()=>np(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function hR(i,e){return aw(i,e)}function aw(i,e,n,s,o){var X;mt(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(Mn),{matches:u}=D.useContext(bi),m=u[u.length-1],g=m?m.params:{},p=m?m.pathname:"/",b=m?m.pathnameBase:"/",w=m&&m.route;{let U=w&&w.path||"";lw(p,!w||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let x=er(),k;if(e){let U=typeof e=="string"?Bo(e):e;mt(b==="/"||((X=U.pathname)==null?void 0:X.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${U.pathname}" was given in the \`location\` prop.`),k=U}else k=x;let G=k.pathname||"/",B=G;if(b!=="/"){let U=b.replace(/^\//,"").split("/");B="/"+G.replace(/^\//,"").split("/").slice(U.length).join("/")}let V=XE(i,{pathname:B});gi(w||V!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),gi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=pR(V&&V.map(U=>Object.assign({},U,{params:Object.assign({},g,U.params),pathname:Tr([b,c.encodeLocation?c.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?b:Tr([b,c.encodeLocation?c.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),u,n,s,o);return e&&Z?D.createElement(Vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},Z):Z}function dR(){let i=ER(),e=JA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,u)}var fR=D.createElement(dR,null),ow=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=aR(i.digest);n&&(i=n)}let e=i!==void 0?D.createElement(bi.Provider,{value:this.props.routeContext},D.createElement(ip.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?D.createElement(mR,{error:i},e):e}};ow.contextType=eR;var ng=new WeakMap;function mR({children:i,error:e}){let{basename:n}=D.useContext(Mn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=sR(e.digest);if(s){let o=ng.get(e);if(o)throw o;let c=ew(s.location,n);if(ZE&&!ng.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw ng.set(e,u),u}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function gR({routeContext:i,match:e,children:n}){let s=D.useContext(qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(bi.Provider,{value:i},n)}function pR(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,u=n==null?void 0:n.errors;if(u!=null){let b=c.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);mt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,b+1))}let m=!1,g=-1;if(n)for(let b=0;b<c.length;b++){let w=c[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=b),w.route.id){let{loaderData:x,errors:k}=n,G=w.route.loader&&!x.hasOwnProperty(w.route.id)&&(!k||k[w.route.id]===void 0);if(w.route.lazy||G){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let p=n&&s?(b,w)=>{var x,k;s(b,{location:n.location,params:((k=(x=n.matches)==null?void 0:x[0])==null?void 0:k.params)??{},unstable_pattern:WA(n.matches),errorInfo:w})}:void 0;return c.reduceRight((b,w,x)=>{let k,G=!1,B=null,V=null;n&&(k=u&&w.route.id?u[w.route.id]:void 0,B=w.route.errorElement||fR,m&&(g<0&&x===0?(lw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,V=null):g===x&&(G=!0,V=w.route.hydrateFallbackElement||null)));let Z=e.concat(c.slice(0,x+1)),X=()=>{let U;return k?U=B:G?U=V:w.route.Component?U=D.createElement(w.route.Component,null):w.route.element?U=w.route.element:U=b,D.createElement(gR,{match:w,routeContext:{outlet:b,matches:Z,isDataRoute:n!=null},children:U})};return n&&(w.route.ErrorBoundary||w.route.errorElement||x===0)?D.createElement(ow,{location:n.location,revalidation:n.revalidation,component:B,error:k,children:X(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:p}):X()},null)}function rp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yR(i){let e=D.useContext(qo);return mt(e,rp(i)),e}function vR(i){let e=D.useContext(_d);return mt(e,rp(i)),e}function _R(i){let e=D.useContext(bi);return mt(e,rp(i)),e}function sp(i){let e=_R(i),n=e.matches[e.matches.length-1];return mt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function bR(){return sp("useRouteId")}function ER(){var s;let i=D.useContext(ip),e=vR("useRouteError"),n=sp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function wR(){let{router:i}=yR("useNavigate"),e=sp("useNavigate"),n=D.useRef(!1);return sw(()=>{n.current=!0}),D.useCallback(async(o,c={})=>{gi(n.current,rw),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var K_={};function lw(i,e,n){!e&&!K_[i]&&(K_[i]=!0,gi(!1,n))}D.memo(TR);function TR({routes:i,future:e,state:n,onError:s}){return aw(i,void 0,n,s,e)}function da({to:i,replace:e,state:n,relative:s}){mt(Ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Mn);gi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(bi),{pathname:u}=er(),m=bd(),g=np(i,tp(c),u,s==="path"),p=JSON.stringify(g);return D.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function xR(i){return uR(i.context)}function Gt(i){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){mt(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=D.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[m,o,c,u]);typeof n=="string"&&(n=Bo(n));let{pathname:p="/",search:b="",hash:w="",state:x=null,key:k="default"}=n,G=D.useMemo(()=>{let B=Sr(p,m);return B==null?null:{location:{pathname:B,search:b,hash:w,state:x,key:k},navigationType:s}},[m,p,b,w,x,k,s]);return gi(G!=null,`<Router basename="${m}"> is not able to match the URL "${p}${b}${w}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:D.createElement(Mn.Provider,{value:g},D.createElement(Vc.Provider,{children:e,value:G}))}function AR({children:i,location:e}){return hR(Sg(i),e)}function Sg(i,e=[]){let n=[];return D.Children.forEach(i,(s,o)=>{if(!D.isValidElement(s))return;let c=[...e,o];if(s.type===D.Fragment){n.push.apply(n,Sg(s.props.children,c));return}mt(s.type===Gt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Sg(s.props.children,c)),n.push(u)}),n}var Vh="get",Lh="application/x-www-form-urlencoded";function Ed(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function RR(i){return Ed(i)&&i.tagName.toLowerCase()==="button"}function CR(i){return Ed(i)&&i.tagName.toLowerCase()==="form"}function NR(i){return Ed(i)&&i.tagName.toLowerCase()==="input"}function IR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function DR(i,e){return i.button===0&&(!e||e==="_self")&&!IR(i)}var Ah=null;function OR(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var kR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ig(i){return i!=null&&!kR.has(i)?(gi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lh}"`),null):i}function MR(i,e){let n,s,o,c,u;if(CR(i)){let m=i.getAttribute("action");s=m?Sr(m,e):null,n=i.getAttribute("method")||Vh,o=ig(i.getAttribute("enctype"))||Lh,c=new FormData(i)}else if(RR(i)||NR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Sr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Vh,o=ig(i.getAttribute("formenctype"))||ig(m.getAttribute("enctype"))||Lh,c=new FormData(m,i),!OR()){let{name:p,type:b,value:w}=i;if(b==="image"){let x=p?`${p}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else p&&c.append(p,w)}}else{if(Ed(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vh,s=null,o=Lh,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ap(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function jR(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Sr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function VR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function PR(i,e,n){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await VR(c,n);return u.links?u.links():[]}return[]}));return qR(s.flat(1).filter(LR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Y_(i,e,n,s,o,c){let u=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var b;return n[p].pathname!==g.pathname||((b=n[p].route.path)==null?void 0:b.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,p)=>u(g,p)||m(g,p)):c==="data"?e.filter((g,p)=>{var w;let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(u(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function UR(i,e,{includeHydrateFallback:n}={}){return zR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function zR(i){return[...new Set(i)]}function BR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function qR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(BR(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function cw(){let i=D.useContext(qo);return ap(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function HR(){let i=D.useContext(_d);return ap(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var op=D.createContext(void 0);op.displayName="FrameworkContext";function uw(){let i=D.useContext(op);return ap(i,"You must render this element inside a <HydratedRouter> element"),i}function FR(i,e){let n=D.useContext(op),[s,o]=D.useState(!1),[c,u]=D.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:b,onTouchStart:w}=e,x=D.useRef(null);D.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let B=Z=>{Z.forEach(X=>{u(X.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return x.current&&V.observe(x.current),()=>{V.disconnect()}}},[i]),D.useEffect(()=>{if(s){let B=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(B)}}},[s]);let k=()=>{o(!0)},G=()=>{o(!1),u(!1)};return n?i!=="intent"?[c,x,{}]:[c,x,{onFocus:oc(m,k),onBlur:oc(g,G),onMouseEnter:oc(p,k),onMouseLeave:oc(b,G),onTouchStart:oc(w,k)}]:[!1,x,{}]}function oc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function GR({page:i,...e}){let{router:n}=cw(),s=D.useMemo(()=>XE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?D.createElement(YR,{page:i,matches:s,...e}):null}function KR(i){let{manifest:e,routeModules:n}=uw(),[s,o]=D.useState([]);return D.useEffect(()=>{let c=!1;return PR(i,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,n]),s}function YR({page:i,matches:e,...n}){let s=er(),{future:o,manifest:c,routeModules:u}=uw(),{basename:m}=cw(),{loaderData:g,matches:p}=HR(),b=D.useMemo(()=>Y_(i,e,p,c,s,"data"),[i,e,p,c,s]),w=D.useMemo(()=>Y_(i,e,p,c,s,"assets"),[i,e,p,c,s]),x=D.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let B=new Set,V=!1;if(e.forEach(X=>{var ce;let U=c.routes[X.route.id];!U||!U.hasLoader||(!b.some(fe=>fe.route.id===X.route.id)&&X.route.id in g&&((ce=u[X.route.id])!=null&&ce.shouldRevalidate)||U.hasClientLoader?V=!0:B.add(X.route.id))}),B.size===0)return[];let Z=jR(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return V&&B.size>0&&Z.searchParams.set("_routes",e.filter(X=>B.has(X.route.id)).map(X=>X.route.id).join(",")),[Z.pathname+Z.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,c,b,e,i,u]),k=D.useMemo(()=>UR(w,c),[w,c]),G=KR(w);return D.createElement(D.Fragment,null,x.map(B=>D.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),k.map(B=>D.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),G.map(({key:B,link:V})=>D.createElement("link",{key:B,nonce:n.nonce,...V,crossOrigin:V.crossOrigin??n.crossOrigin})))}function $R(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var QR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QR&&(window.__reactRouterVersion="7.13.0")}catch{}function XR({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=D.useRef();o.current==null&&(o.current=RA({window:s,v5Compat:!0}));let c=o.current,[u,m]=D.useState({action:c.action,location:c.location}),g=D.useCallback(p=>{n===!1?m(p):D.startTransition(()=>m(p))},[n]);return D.useLayoutEffect(()=>c.listen(g),[c,g]),D.createElement(SR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n})}var hw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fa=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:m,target:g,to:p,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:x,...k},G){let{basename:B,unstable_useTransitions:V}=D.useContext(Mn),Z=typeof p=="string"&&hw.test(p),X=ew(p,B);p=X.to;let U=oR(p,{relative:o}),[ce,fe,ge]=FR(s,k),C=e2(p,{replace:u,state:m,target:g,preventScrollReset:b,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:x,unstable_useTransitions:V});function A(L){e&&e(L),L.defaultPrevented||C(L)}let R=D.createElement("a",{...k,...ge,href:X.absoluteURL||U,onClick:X.isExternal||c?e:A,ref:$R(G,fe),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return ce&&!Z?D.createElement(D.Fragment,null,R,D.createElement(GR,{page:U})):R});fa.displayName="Link";var JR=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:m,children:g,...p},b){let w=Lc(u,{relative:p.relative}),x=er(),k=D.useContext(_d),{navigator:G,basename:B}=D.useContext(Mn),V=k!=null&&s2(w)&&m===!0,Z=G.encodeLocation?G.encodeLocation(w).pathname:w.pathname,X=x.pathname,U=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(X=X.toLowerCase(),U=U?U.toLowerCase():null,Z=Z.toLowerCase()),U&&B&&(U=Sr(U,B)||U);const ce=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let fe=X===Z||!o&&X.startsWith(Z)&&X.charAt(ce)==="/",ge=U!=null&&(U===Z||!o&&U.startsWith(Z)&&U.charAt(Z.length)==="/"),C={isActive:fe,isPending:ge,isTransitioning:V},A=fe?e:void 0,R;typeof s=="function"?R=s(C):R=[s,fe?"active":null,ge?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(C):c;return D.createElement(fa,{...p,"aria-current":A,className:R,ref:b,style:L,to:u,viewTransition:m},typeof g=="function"?g(C):g)});JR.displayName="NavLink";var WR=D.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:u=Vh,action:m,onSubmit:g,relative:p,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:x,...k},G)=>{let{unstable_useTransitions:B}=D.useContext(Mn),V=i2(),Z=r2(m,{relative:p}),X=u.toLowerCase()==="get"?"get":"post",U=typeof m=="string"&&hw.test(m),ce=fe=>{if(g&&g(fe),fe.defaultPrevented)return;fe.preventDefault();let ge=fe.nativeEvent.submitter,C=(ge==null?void 0:ge.getAttribute("formmethod"))||u,A=()=>V(ge||fe.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:c,relative:p,preventScrollReset:b,viewTransition:w,unstable_defaultShouldRevalidate:x});B&&n!==!1?D.startTransition(()=>A()):A()};return D.createElement("form",{ref:G,method:X,action:Z,onSubmit:s?g:ce,...k,"data-discover":!U&&i==="render"?"true":void 0})});WR.displayName="Form";function ZR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dw(i){let e=D.useContext(qo);return mt(e,ZR(i)),e}function e2(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=bd(),b=er(),w=Lc(i,{relative:c});return D.useCallback(x=>{if(DR(x,e)){x.preventDefault();let k=n!==void 0?n:Tc(b)===Tc(w),G=()=>p(i,{replace:k,state:s,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m});g?D.startTransition(()=>G()):G()}},[b,p,w,n,s,e,i,o,c,u,m,g])}var t2=0,n2=()=>`__${String(++t2)}__`;function i2(){let{router:i}=dw("useSubmit"),{basename:e}=D.useContext(Mn),n=bR(),s=i.fetch,o=i.navigate;return D.useCallback(async(c,u={})=>{let{action:m,method:g,encType:p,formData:b,body:w}=MR(c,e);if(u.navigate===!1){let x=u.fetcherKey||n2();await s(x,n,u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:b,body:w,formMethod:u.method||g,formEncType:u.encType||p,flushSync:u.flushSync})}else await o(u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:b,body:w,formMethod:u.method||g,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,o,e,n])}function r2(i,{relative:e}={}){let{basename:n}=D.useContext(Mn),s=D.useContext(bi);mt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Lc(i||".",{relative:e})},u=er();if(i==null){c.search=u.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let b=m.toString();c.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Tr([n,c.pathname])),Tc(c)}function s2(i,{relative:e}={}){let n=D.useContext(nw);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dw("useViewTransitionState"),o=Lc(i,{relative:e});if(!n.isTransitioning)return!1;let c=Sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return $h(o.pathname,u)!=null||$h(o.pathname,c)!=null}const a2=()=>{};var $_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},o2=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],u=i[n++],m=i[n++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],u=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,m=u?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,b=c>>2,w=(c&3)<<4|m>>4;let x=(m&15)<<2|p>>6,k=p&63;g||(k=64,u||(x=64)),s.push(n[b],n[w],n[x],n[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(fw(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):o2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||p==null||w==null)throw new l2;const x=c<<2|m>>4;if(s.push(x),p!==64){const k=m<<4&240|p>>2;if(s.push(k),w!==64){const G=p<<6&192|w;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class l2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c2=function(i){const e=fw(i);return mw.encodeByteArray(e,!0)},Qh=function(i){return c2(i).replace(/\./g,"")},gw=function(i){try{return mw.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=()=>u2().__FIREBASE_DEFAULTS__,d2=()=>{if(typeof process>"u"||typeof $_>"u")return;const i=$_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},f2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&gw(i[1]);return e&&JSON.parse(e)},wd=()=>{try{return a2()||h2()||d2()||f2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},pw=i=>{var e,n;return(n=(e=wd())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},m2=i=>{const e=pw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yw=()=>{var i;return(i=wd())==null?void 0:i.config},vw=i=>{var e;return(e=wd())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _w(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Qh(JSON.stringify(n)),Qh(JSON.stringify(u)),""].join(".")}const yc={};function y2(){const i={prod:[],emulator:[]};for(const e of Object.keys(yc))yc[e]?i.emulator.push(e):i.prod.push(e);return i}function v2(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Q_=!1;function bw(i,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||yc[i]===e||yc[i]||Q_)return;yc[i]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",c=y2().prod.length>0;function u(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,k){x.setAttribute("width","24"),x.setAttribute("id",k),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Q_=!0,u()},x}function b(x,k){x.setAttribute("id",k),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=v2(s),k=n("text"),G=document.getElementById(k)||document.createElement("span"),B=n("learnmore"),V=document.getElementById(B)||document.createElement("a"),Z=n("preprendIcon"),X=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const U=x.element;m(U),b(V,B);const ce=p();g(X,Z),U.append(X,G,V,ce),document.body.appendChild(U)}c?(G.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function b2(){var e;const i=(e=wd())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function w2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T2(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function x2(){return!b2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cp(){try{return typeof indexedDB=="object"}catch{return!1}}function up(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}function Ew(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="FirebaseError";class Ei extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=S2,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?A2(c,s):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new Ei(o,m,s)}}function A2(i,e){return i.replace(R2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const R2=/\{\$([^}]+)}/g;function C2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ts(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],u=e[o];if(X_(c)&&X_(u)){if(!Ts(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function X_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function dc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function N2(i,e){const n=new I2(i,e);return n.subscribe.bind(n)}class I2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");D2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=rg),o.error===void 0&&(o.error=rg),o.complete===void 0&&(o.complete=rg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function rg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=1e3,k2=2,M2=14400*1e3,j2=.5;function J_(i,e=O2,n=k2){const s=e*Math.pow(n,i),o=Math.round(j2*s*(Math.random()-.5)*2);return Math.min(M2,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(i){return i&&i._delegate?i._delegate:i}class pi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new g2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P2(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&u.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:L2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L2(i){return i===ha?void 0:i}function P2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const z2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},B2=ze.INFO,q2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},H2=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=q2[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Td{constructor(e){this.name=e,this._logLevel=B2,this._logHandler=H2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const F2=(i,e)=>e.some(n=>i instanceof n);let W_,Z_;function G2(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K2(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ww=new WeakMap,Ag=new WeakMap,Tw=new WeakMap,sg=new WeakMap,hp=new WeakMap;function Y2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{n(vs(i.result)),o()},u=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&ww.set(n,i)}).catch(()=>{}),hp.set(e,i),e}function $2(i){if(Ag.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});Ag.set(i,e)}let Rg={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ag.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Tw.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Q2(i){Rg=i(Rg)}function X2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(ag(this),e,...n);return Tw.set(s,e.sort?e.sort():[e]),vs(s)}:K2().includes(i)?function(...e){return i.apply(ag(this),e),vs(ww.get(this))}:function(...e){return vs(i.apply(ag(this),e))}}function J2(i){return typeof i=="function"?X2(i):(i instanceof IDBTransaction&&$2(i),F2(i,G2())?new Proxy(i,Rg):i)}function vs(i){if(i instanceof IDBRequest)return Y2(i);if(sg.has(i))return sg.get(i);const e=J2(i);return e!==i&&(sg.set(i,e),hp.set(e,i)),e}const ag=i=>hp.get(i);function xw(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),m=vs(u);return s&&u.addEventListener("upgradeneeded",g=>{s(vs(u.result),g.oldVersion,g.newVersion,vs(u.transaction),g)}),n&&u.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const W2=["get","getKey","getAll","getAllKeys","count"],Z2=["put","add","delete","clear"],og=new Map;function eb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(og.get(e))return og.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Z2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||W2.includes(n)))return;const c=async function(u,...m){const g=this.transaction(u,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return og.set(e,c),c}Q2(i=>({...i,get:(e,n,s)=>eb(e,n)||i.get(e,n,s),has:(e,n)=>!!eb(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cg="@firebase/app",tb="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Td("@firebase/app"),nC="@firebase/app-compat",iC="@firebase/analytics-compat",rC="@firebase/analytics",sC="@firebase/app-check-compat",aC="@firebase/app-check",oC="@firebase/auth",lC="@firebase/auth-compat",cC="@firebase/database",uC="@firebase/data-connect",hC="@firebase/database-compat",dC="@firebase/functions",fC="@firebase/functions-compat",mC="@firebase/installations",gC="@firebase/installations-compat",pC="@firebase/messaging",yC="@firebase/messaging-compat",vC="@firebase/performance",_C="@firebase/performance-compat",bC="@firebase/remote-config",EC="@firebase/remote-config-compat",wC="@firebase/storage",TC="@firebase/storage-compat",xC="@firebase/firestore",SC="@firebase/ai",AC="@firebase/firestore-compat",RC="firebase",CC="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",NC={[Cg]:"fire-core",[nC]:"fire-core-compat",[rC]:"fire-analytics",[iC]:"fire-analytics-compat",[aC]:"fire-app-check",[sC]:"fire-app-check-compat",[oC]:"fire-auth",[lC]:"fire-auth-compat",[cC]:"fire-rtdb",[uC]:"fire-data-connect",[hC]:"fire-rtdb-compat",[dC]:"fire-fn",[fC]:"fire-fn-compat",[mC]:"fire-iid",[gC]:"fire-iid-compat",[pC]:"fire-fcm",[yC]:"fire-fcm-compat",[vC]:"fire-perf",[_C]:"fire-perf-compat",[bC]:"fire-rc",[EC]:"fire-rc-compat",[wC]:"fire-gcs",[TC]:"fire-gcs-compat",[xC]:"fire-fst",[AC]:"fire-fst-compat",[SC]:"fire-vertex","fire-js":"fire-js",[RC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,IC=new Map,Ig=new Map;function nb(i,e){try{i.container.addComponent(e)}catch(n){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Wi(i){const e=i.name;if(Ig.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,i);for(const n of Xh.values())nb(n,i);for(const n of IC.values())nb(n,i);return!0}function Aa(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function di(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Sa("app","Firebase",DC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=CC;function Sw(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Ng,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(n||(n=yw()),!n)throw _s.create("no-options");const c=Xh.get(o);if(c){if(Ts(n,c.options)&&Ts(s,c.config))return c;throw _s.create("duplicate-app",{appName:o})}const u=new U2(o);for(const g of Ig.values())u.addComponent(g);const m=new OC(n,s,u);return Xh.set(o,m),m}function dp(i=Ng){const e=Xh.get(i);if(!e&&i===Ng&&yw())return Sw();if(!e)throw _s.create("no-app",{appName:i});return e}function Xn(i,e,n){let s=NC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(u.join(" "));return}Wi(new pi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="firebase-heartbeat-database",MC=1,xc="firebase-heartbeat-store";let lg=null;function Aw(){return lg||(lg=xw(kC,MC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),lg}async function jC(i){try{const n=(await Aw()).transaction(xc),s=await n.objectStore(xc).get(Rw(i));return await n.done,s}catch(e){if(e instanceof Ei)Ar.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ar.warn(n.message)}}}async function ib(i,e){try{const s=(await Aw()).transaction(xc,"readwrite");await s.objectStore(xc).put(e,Rw(i)),await s.done}catch(n){if(n instanceof Ei)Ar.warn(n.message);else{const s=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ar.warn(s.message)}}}function Rw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=1024,LC=30;class PC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=rb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>LC){const u=BC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ar.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rb(),{heartbeatsToSend:s,unsentEntries:o}=UC(this._heartbeatsCache.heartbeats),c=Qh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Ar.warn(n),""}}}function rb(){return new Date().toISOString().substring(0,10)}function UC(i,e=VC){const n=[];let s=i.slice();for(const o of i){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),sb(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cp()?up().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ib(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ib(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sb(i){return Qh(JSON.stringify({version:2,heartbeats:i})).length}function BC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(i){Wi(new pi("platform-logger",e=>new eC(e),"PRIVATE")),Wi(new pi("heartbeat",e=>new PC(e),"PRIVATE")),Xn(Cg,tb,i),Xn(Cg,tb,"esm2020"),Xn("fire-js","")}qC("");function Cw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HC=Cw,Nw=new Sa("auth","Firebase",Cw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new Td("@firebase/auth");function FC(i,...e){Jh.logLevel<=ze.WARN&&Jh.warn(`Auth (${Go}): ${i}`,...e)}function Ph(i,...e){Jh.logLevel<=ze.ERROR&&Jh.error(`Auth (${Go}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(i,...e){throw fp(i,...e)}function Yi(i,...e){return fp(i,...e)}function Iw(i,e,n){const s={...HC(),[e]:n};return new Sa("auth","Firebase",s).create(e,{appName:i.name})}function bs(i){return Iw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Nw.create(i,...e)}function Se(i,e,...n){if(!i)throw fp(e,...n)}function Er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ph(e),new Error(e)}function Rr(i,e){i||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function GC(){return ab()==="http:"||ab()==="https:"}function ab(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GC()||lp()||"connection"in navigator)?navigator.onLine:!0}function YC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rr(n>e,"Short delay should be less than long delay!"),this.isMobile=_2()||w2()}get(){return KC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i,e){Rr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XC=new Uc(3e4,6e4);function Ra(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Is(i,e,n,s,o={}){return Ow(i,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const m=Pc({key:i.config.apiKey,...u}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...c};return E2()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&Fo(i.emulatorConfig.host)&&(p.credentials="include"),Dw.fetch()(await kw(i,i.config.apiHost,n,m),p)})}async function Ow(i,e,n){i._canInitEmulator=!1;const s={...$C,...e};try{const o=new WC(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Rh(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(i,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Rh(i,"email-already-in-use",u);if(g==="USER_DISABLED")throw Rh(i,"user-disabled",u);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Iw(i,b,p);yi(i,b)}}catch(o){if(o instanceof Ei)throw o;yi(i,"network-request-failed",{message:String(o)})}}async function xd(i,e,n,s,o={}){const c=await Is(i,e,n,s,o);return"mfaPendingCredential"in c&&yi(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function kw(i,e,n,s){const o=`${e}${n}?${s}`,c=i,u=c.config.emulator?mp(i.config,o):`${i.config.apiScheme}://${o}`;return QC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function JC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Yi(this.auth,"network-request-failed")),XC.get())})}}function Rh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Yi(i,e,s);return o.customData._tokenResponse=n,o}function ob(i){return i!==void 0&&i.enterprise!==void 0}class ZC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eN(i,e){return Is(i,"GET","/v2/recaptchaConfig",Ra(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(i,e){return Is(i,"POST","/v1/accounts:delete",e)}async function Wh(i,e){return Is(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nN(i,e=!1){const n=St(i),s=await n.getIdToken(e),o=gp(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:vc(cg(o.auth_time)),issuedAtTime:vc(cg(o.iat)),expirationTime:vc(cg(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function cg(i){return Number(i)*1e3}function gp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=gw(n);return o?JSON.parse(o):(Ph("Failed to decode base64 JWT payload"),null)}catch(o){return Ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function lb(i){const e=gp(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ei&&iN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function iN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(i){var w;const e=i.auth,n=await i.getIdToken(),s=await Sc(i,Wh(e,{idToken:n}));Se(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=(w=o.providerUserInfo)!=null&&w.length?Mw(o.providerUserInfo):[],u=aN(i.providerData,c),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!(u!=null&&u.length),p=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Og(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,b)}async function sN(i){const e=St(i);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Mw(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(i,e){const n=await Ow(i,{},async()=>{const s=Pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await kw(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Fo(i.emulatorConfig.host)&&(g.credentials="include"),Dw.fetch()(u,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lN(i,e){return Is(i,"POST","/v2/accounts:revokeToken",Ra(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=lb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await oN(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,u=new Ro;return s&&(Se(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new rN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Og(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Sc(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nN(this,e)}reload(){return sN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Zh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Sc(this,tN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:k,providerData:G,stsTokenManager:B}=n;Se(w&&B,e,"internal-error");const V=Ro.fromJSON(this.name,B);Se(typeof w=="string",e,"internal-error"),us(s,e.name),us(o,e.name),Se(typeof x=="boolean",e,"internal-error"),Se(typeof k=="boolean",e,"internal-error"),us(c,e.name),us(u,e.name),us(m,e.name),us(g,e.name),us(p,e.name),us(b,e.name);const Z=new fi({uid:w,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:k,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:V,createdAt:p,lastLoginAt:b});return G&&Array.isArray(G)&&(Z.providerData=G.map(X=>({...X}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ro;o.updateFromServerResponse(n);const c=new fi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Zh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Mw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new Ro;m.updateFromIdToken(s);const g=new fi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Og(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;function wr(i){Rr(i instanceof Function,"Expected a class definition");let e=cb.get(i);return e?(Rr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,cb.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jw.type="NONE";const ub=jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(i,e,n){return`firebase:${i}:${e}:${n}`}class Co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Uh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Co(wr(ub),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||wr(ub);const u=Uh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const b=await p._get(u);if(b){let w;if(typeof b=="string"){const x=await Wh(e,{idToken:b}).catch(()=>{});if(!x)break;w=await fi._fromGetAccountInfoResponse(e,x,b)}else w=fi._fromJSON(e,b);p!==c&&(m=w),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Co(c,e,s):(c=g[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(u)}catch{}})),new Co(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bw(e))return"Blackberry";if(qw(e))return"Webos";if(Lw(e))return"Safari";if((e.includes("chrome/")||Pw(e))&&!e.includes("edge/"))return"Chrome";if(zw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Vw(i=on()){return/firefox\//i.test(i)}function Lw(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pw(i=on()){return/crios\//i.test(i)}function Uw(i=on()){return/iemobile/i.test(i)}function zw(i=on()){return/android/i.test(i)}function Bw(i=on()){return/blackberry/i.test(i)}function qw(i=on()){return/webos/i.test(i)}function pp(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function cN(i=on()){var e;return pp(i)&&!!((e=window.navigator)!=null&&e.standalone)}function uN(){return T2()&&document.documentMode===10}function Hw(i=on()){return pp(i)||zw(i)||qw(i)||Bw(i)||/windows phone/i.test(i)||Uw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(i,e=[]){let n;switch(i){case"Browser":n=hb(on());break;case"Worker":n=`${hb(on())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((u,m)=>{try{const g=e(c);u(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(i,e={}){return Is(i,"GET","/v2/passwordPolicy",Ra(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=6;class mN{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new db(this),this.idTokenSubscription=new db(this),this.beforeStateQueue=new hN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),s=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(di(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=s==null?void 0:s._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===m)&&(g!=null&&g.user)&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(bs(this));const n=e?St(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dN(this),n=new mN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sa("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{u=!0,g()}}else{const g=e.addObserver(n);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&FC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ko(i){return St(i)}class db{constructor(e){this.auth=e,this.observer=null,this.addObserver=N2(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pN(i){Sd=i}function Gw(i){return Sd.loadJS(i)}function yN(){return Sd.recaptchaEnterpriseScript}function vN(){return Sd.gapiScript}function _N(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class bN{constructor(){this.enterprise=new EN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wN="recaptcha-enterprise",Kw="NO_RECAPTCHA";class TN{constructor(e){this.type=wN,this.auth=Ko(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{eN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new ZC(g);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,u(p.siteKey)}}).catch(g=>{m(g)})})}function o(c,u,m){const g=window.grecaptcha;ob(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(p=>{u(p)}).catch(()=>{u(Kw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bN().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(m=>{if(!n&&ob(window.grecaptcha))o(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=yN();g.length!==0&&(g+=m),Gw(g).then(()=>{o(m,c,u)}).catch(p=>{u(p)})}}).catch(m=>{u(m)})})}}async function fb(i,e,n,s=!1,o=!1){const c=new TN(i);let u;if(o)u=Kw;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function mb(i,e,n,s,o){var c;if((c=i._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await fb(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await fb(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(i,e){const n=Aa(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ts(c,e??{}))return o;yi(o,"already-initialized")}return n.initialize({options:e})}function SN(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(wr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function AN(i,e,n){const s=Ko(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=Yw(e),{host:u,port:m}=RN(e),g=m===null?"":`:${m}`,p={url:`${c}//${u}${g}/`},b=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Ts(p,s.config.emulator)&&Ts(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Fo(u)?(_w(`${c}//${u}${g}`),bw("Auth",!0)):CN()}function Yw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function RN(i){const e=Yw(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:gb(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:gb(u)}}}function gb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function CN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function NN(i,e){return Is(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(i,e){return xd(i,"POST","/v1/accounts:signInWithPassword",Ra(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(i,e){return xd(i,"POST","/v1/accounts:signInWithEmailLink",Ra(i,e))}async function ON(i,e){return xd(i,"POST","/v1/accounts:signInWithEmailLink",Ra(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends yp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ac(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ac(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mb(e,n,"signInWithPassword",IN);case"emailLink":return DN(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mb(e,s,"signUpPassword",NN);case"emailLink":return ON(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(i,e){return xd(i,"POST","/v1/accounts:signInWithIdp",Ra(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="http://localhost";class ya extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const u=new ya(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,No(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:kN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jN(i){const e=hc(dc(i)).link,n=e?hc(dc(e)).deep_link_id:null,s=hc(dc(i)).deep_link_id;return(s?hc(dc(s)).link:null)||s||n||e||i}class vp{constructor(e){const n=hc(dc(e)),s=n.apiKey??null,o=n.oobCode??null,c=MN(n.mode??null);Se(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=jN(e);try{return new vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return Ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vp.parseLink(n);return Se(s,"argument-error"),Ac._fromEmailAndCode(e,s.code,s.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends $w{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends zc{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends zc{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends zc{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ps.credential(n,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await fi._fromIdTokenResponse(e,s,o),u=pb(s);return new Mo({user:c,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=pb(s);return new Mo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function pb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Ei{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ed(e,n,s,o)}}function Qw(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(i,c,e,s):c})}async function VN(i,e,n=!1){const s=await Sc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Mo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(i,e,n=!1){const{auth:s}=i;if(di(s.app))return Promise.reject(bs(s));const o="reauthenticate";try{const c=await Sc(i,Qw(s,o,e,i),n);Se(c.idToken,s,"internal-error");const u=gp(c.idToken);Se(u,s,"internal-error");const{sub:m}=u;return Se(i.uid===m,s,"user-mismatch"),Mo._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&yi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(i,e,n=!1){if(di(i.app))return Promise.reject(bs(i));const s="signIn",o=await Qw(i,s,e),c=await Mo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function PN(i,e){return Xw(Ko(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(i){const e=Ko(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function zN(i,e,n){return di(i.app)?Promise.reject(bs(i)):PN(St(i),Yo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&UN(i),s})}function BN(i,e,n,s){return St(i).onIdTokenChanged(e,n,s)}function qN(i,e,n){return St(i).beforeAuthStateChanged(e,n)}function HN(i,e,n,s){return St(i).onAuthStateChanged(e,n,s)}function FN(i){return St(i).signOut()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1e3,KN=10;class Ww extends Jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,g)=>{this.notifyListeners(u,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);uN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ww.type="LOCAL";const YN=Ww;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zw.type="SESSION";const eT=Zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ad(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(u).map(async p=>p(n.origin,c)),g=await $N(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,g)=>{const p=_p("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(w){const x=w;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(x.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(){return window}function XN(i){$i().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function JN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function ZN(){return tT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebaseLocalStorageDb",eI=1,nd="firebaseLocalStorage",iT="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(i,e){return i.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function tI(){const i=indexedDB.deleteDatabase(nT);return new Bc(i).toPromise()}function kg(){const i=indexedDB.open(nT,eI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(nd,{keyPath:iT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(nd)?e(s):(s.close(),await tI(),e(await kg()))})})}async function yb(i,e,n){const s=Rd(i,!0).put({[iT]:e,value:n});return new Bc(s).toPromise()}async function nI(i,e){const n=Rd(i,!1).get(e),s=await new Bc(n).toPromise();return s===void 0?null:s.value}function vb(i,e){const n=Rd(i,!0).delete(e);return new Bc(n).toPromise()}const iI=800,rI=3;class rT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(ZN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await JN(),!this.activeServiceWorker)return;this.sender=new QN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kg();return await yb(e,td,"1"),await vb(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>yb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Rd(o,!1).getAll();return new Bc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rT.type="LOCAL";const sI=rT;new Uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(i,e){return e?wr(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oI(i){return Xw(i.auth,new bp(i),i.bypassAuthState)}function lI(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),LN(n,new bp(i),i.bypassAuthState)}async function cI(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),VN(n,new bp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oI;case"linkViaPopup":case"linkViaRedirect":return cI;case"reauthViaPopup":case"reauthViaRedirect":return lI;default:yi(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new Uc(2e3,1e4);class Ao extends sT{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Rr(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uI.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="pendingRedirect",zh=new Map;class dI extends sT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const s=await fI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fI(i,e){const n=pI(e),s=gI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function mI(i,e){zh.set(i._key(),e)}function gI(i){return wr(i._redirectPersistence)}function pI(i){return Uh(hI,i.config.apiKey,i.name)}async function yI(i,e,n=!1){if(di(i.app))return Promise.reject(bs(i));const s=Ko(i),o=aI(s,e),u=await new dI(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=600*1e3;class _I{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!aT(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Yi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vI&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(e))}saveEventToCache(e){this.cachedEventUids.add(_b(e)),this.lastProcessedEventTime=Date.now()}}function _b(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function aT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(i,e={}){return Is(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TI=/^https?/;async function xI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await EI(i);for(const n of e)try{if(SI(n))return}catch{}yi(i,"unauthorized-domain")}function SI(i){const e=Dg(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!TI.test(n))return!1;if(wI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Uc(3e4,6e4);function bb(){const i=$i().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function RI(i){return new Promise((e,n)=>{var o,c,u;function s(){bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bb(),n(Yi(i,"network-request-failed"))},timeout:AI.get()})}if((c=(o=$i().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=$i().gapi)!=null&&u.load)s();else{const m=_N("iframefcb");return $i()[m]=()=>{gapi.load?s():n(Yi(i,"network-request-failed"))},Gw(`${vN()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function CI(i){return Bh=Bh||RI(i),Bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Uc(5e3,15e3),II="__/auth/iframe",DI="emulator/auth/iframe",OI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MI(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?mp(e,DI):`https://${i.config.authDomain}/${II}`,s={apiKey:e.apiKey,appName:i.name,v:Go},o=kI.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Pc(s).slice(1)}`}async function jI(i){const e=await CI(i),n=$i().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:MI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=Yi(i,"network-request-failed"),m=$i().setTimeout(()=>{c(u)},NI.get());function g(){$i().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LI=500,PI=600,UI="_blank",zI="http://localhost";class Eb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BI(i,e,n,s=LI,o=PI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...VI,width:s.toString(),height:o.toString(),top:c,left:u},p=on().toLowerCase();n&&(m=Pw(p)?UI:n),Vw(p)&&(e=e||zI,g.scrollbars="yes");const b=Object.entries(g).reduce((x,[k,G])=>`${x}${k}=${G},`,"");if(cN(p)&&m!=="_self")return qI(e||"",m),new Eb(null);const w=window.open(e||"",m,b);Se(w,i,"popup-blocked");try{w.focus()}catch{}return new Eb(w)}function qI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="__/auth/handler",FI="emulator/auth/handler",GI=encodeURIComponent("fac");async function wb(i,e,n,s,o,c){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Go,eventId:o};if(e instanceof $w){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",C2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))u[b]=w}if(e instanceof zc){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(u.scopes=b.join(","))}i.tenantId&&(u.tid=i.tenantId);const m=u;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await i._getAppCheckToken(),p=g?`#${GI}=${encodeURIComponent(g)}`:"";return`${KI(i)}?${Pc(m).slice(1)}${p}`}function KI({config:i}){return i.emulator?mp(i,FI):`https://${i.authDomain}/${HI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="webStorageSupport";class YI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eT,this._completeRedirectFn=yI,this._overrideRedirectResult=mI}async _openPopup(e,n,s,o){var u;Rr((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await wb(e,n,s,Dg(),o);return BI(e,c,_p())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await wb(e,n,s,Dg(),o);return XN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Rr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await jI(e),s=new _I(e);return n.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ug,{type:ug},o=>{var u;const c=(u=o==null?void 0:o[0])==null?void 0:u[ug];c!==void 0&&n(!!c),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hw()||Lw()||pp()}}const $I=YI;var Tb="@firebase/auth",xb="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JI(i){Wi(new pi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:u,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fw(i)},p=new gN(s,o,c,g);return SN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wi(new pi("auth-internal",e=>{const n=Ko(e.getProvider("auth").getImmediate());return(s=>new QI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(Tb,xb,XI(i)),Xn(Tb,xb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=300,ZI=vw("authIdTokenMaxAge")||WI;let Sb=null;const eD=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZI)return;const o=n==null?void 0:n.token;Sb!==o&&(Sb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tD(i=dp()){const e=Aa(i,"auth");if(e.isInitialized())return e.getImmediate();const n=xN(i,{popupRedirectResolver:$I,persistence:[sI,YN,eT]}),s=vw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=eD(c.toString());qN(n,u,()=>u(n.currentUser)),BN(n,m=>u(m))}}const o=pw("auth");return o&&AN(n,`http://${o}`),n}function nD(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}pN({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Yi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",nD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JI("Browser");var iD="firebase",rD="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(iD,rD,"app");const oT="@firebase/installations",Ep="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=1e4,cT=`w:${Ep}`,uT="FIS_v2",sD="https://firebaseinstallations.googleapis.com/v1",aD=3600*1e3,oD="installations",lD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},va=new Sa(oD,lD,cD);function hT(i){return i instanceof Ei&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT({projectId:i}){return`${sD}/projects/${i}/installations`}function fT(i){return{token:i.token,requestStatus:2,expiresIn:hD(i.expiresIn),creationTime:Date.now()}}async function mT(i,e){const s=(await e.json()).error;return va.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function gT({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function uD(i,{refreshToken:e}){const n=gT(i);return n.append("Authorization",dD(e)),n}async function pT(i){const e=await i();return e.status>=500&&e.status<600?i():e}function hD(i){return Number(i.replace("s","000"))}function dD(i){return`${uT} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=dT(i),o=gT(i),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const u={fid:n,authVersion:uT,appId:i.appId,sdkVersion:cT},m={method:"POST",headers:o,body:JSON.stringify(u)},g=await pT(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:fT(p.authToken)}}else throw await mT("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=/^[cdef][\w-]{21}$/,Mg="";function pD(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=yD(i);return gD.test(n)?n:Mg}catch{return Mg}}function yD(i){return mD(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;function _T(i,e){const n=Cd(i);bT(n,e),vD(n,e)}function bT(i,e){const n=vT.get(i);if(n)for(const s of n)s(e)}function vD(i,e){const n=_D();n&&n.postMessage({key:i,fid:e}),bD()}let ma=null;function _D(){return!ma&&"BroadcastChannel"in self&&(ma=new BroadcastChannel("[Firebase] FID Change"),ma.onmessage=i=>{bT(i.data.key,i.data.fid)}),ma}function bD(){vT.size===0&&ma&&(ma.close(),ma=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="firebase-installations-database",wD=1,_a="firebase-installations-store";let hg=null;function wp(){return hg||(hg=xw(ED,wD,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(_a)}}})),hg}async function id(i,e){const n=Cd(i),o=(await wp()).transaction(_a,"readwrite"),c=o.objectStore(_a),u=await c.get(n);return await c.put(e,n),await o.done,(!u||u.fid!==e.fid)&&_T(i,e.fid),e}async function ET(i){const e=Cd(i),s=(await wp()).transaction(_a,"readwrite");await s.objectStore(_a).delete(e),await s.done}async function Nd(i,e){const n=Cd(i),o=(await wp()).transaction(_a,"readwrite"),c=o.objectStore(_a),u=await c.get(n),m=e(u);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!u||u.fid!==m.fid)&&_T(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(i){let e;const n=await Nd(i.appConfig,s=>{const o=TD(s),c=xD(i,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Mg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function TD(i){const e=i||{fid:pD(),registrationStatus:0};return wT(e)}function xD(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(va.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=SD(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:AD(i)}:{installationEntry:e}}async function SD(i,e){try{const n=await fD(i,e);return id(i.appConfig,n)}catch(n){throw hT(n)&&n.customData.serverCode===409?await ET(i.appConfig):await id(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function AD(i){let e=await Ab(i.appConfig);for(;e.registrationStatus===1;)await yT(100),e=await Ab(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Tp(i);return s||n}return e}function Ab(i){return Nd(i,e=>{if(!e)throw va.create("installation-not-found");return wT(e)})}function wT(i){return RD(i)?{fid:i.fid,registrationStatus:0}:i}function RD(i){return i.registrationStatus===1&&i.registrationTime+lT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD({appConfig:i,heartbeatServiceProvider:e},n){const s=ND(i,n),o=uD(i,n),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const u={installation:{sdkVersion:cT,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(u)},g=await pT(()=>fetch(s,m));if(g.ok){const p=await g.json();return fT(p)}else throw await mT("Generate Auth Token",g)}function ND(i,{fid:e}){return`${dT(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(i,e=!1){let n;const s=await Nd(i.appConfig,c=>{if(!TT(c))throw va.create("not-registered");const u=c.authToken;if(!e&&OD(u))return c;if(u.requestStatus===1)return n=ID(i,e),c;{if(!navigator.onLine)throw va.create("app-offline");const m=MD(c);return n=DD(i,m),m}});return n?await n:s.authToken}async function ID(i,e){let n=await Rb(i.appConfig);for(;n.authToken.requestStatus===1;)await yT(100),n=await Rb(i.appConfig);const s=n.authToken;return s.requestStatus===0?xp(i,e):s}function Rb(i){return Nd(i,e=>{if(!TT(e))throw va.create("not-registered");const n=e.authToken;return jD(n)?{...e,authToken:{requestStatus:0}}:e})}async function DD(i,e){try{const n=await CD(i,e),s={...e,authToken:n};return await id(i.appConfig,s),n}catch(n){if(hT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ET(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await id(i.appConfig,s)}throw n}}function TT(i){return i!==void 0&&i.registrationStatus===2}function OD(i){return i.requestStatus===2&&!kD(i)}function kD(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+aD}function MD(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function jD(i){return i.requestStatus===1&&i.requestTime+lT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(i){const e=i,{installationEntry:n,registrationPromise:s}=await Tp(e);return s?s.catch(console.error):xp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(i,e=!1){const n=i;return await PD(n),(await xp(n,e)).token}async function PD(i){const{registrationPromise:e}=await Tp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(i){if(!i||!i.options)throw dg("App Configuration");if(!i.name)throw dg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw dg(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function dg(i){return va.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="installations",zD="installations-internal",BD=i=>{const e=i.getProvider("app").getImmediate(),n=UD(e),s=Aa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},qD=i=>{const e=i.getProvider("app").getImmediate(),n=Aa(e,xT).getImmediate();return{getId:()=>VD(n),getToken:o=>LD(n,o)}};function HD(){Wi(new pi(xT,BD,"PUBLIC")),Wi(new pi(zD,qD,"PRIVATE"))}HD();Xn(oT,Ep);Xn(oT,Ep,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="analytics",FD="firebase_id",GD="origin",KD=60*1e3,YD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Td("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new Sa("analytics","Analytics",$D);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i){if(!i.startsWith(Sp)){const e=kn.create("invalid-gtag-resource",{gtagURL:i});return dn.warn(e.message),""}return i}function ST(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function XD(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function JD(i,e){const n=XD("firebase-js-sdk-policy",{createScriptURL:QD}),s=document.createElement("script"),o=`${Sp}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function WD(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function ZD(i,e,n,s,o,c){const u=s[o];try{if(u)await e[u];else{const g=(await ST(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){dn.error(m)}i("config",o,c)}async function e4(i,e,n,s,o){try{let c=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const m=await ST(n);for(const g of u){const p=m.find(w=>w.measurementId===g),b=p&&e[p.appId];if(b)c.push(b);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",s,o||{})}catch(c){dn.error(c)}}function t4(i,e,n,s){async function o(c,...u){try{if(c==="event"){const[m,g]=u;await e4(i,e,n,m,g)}else if(c==="config"){const[m,g]=u;await ZD(i,e,n,s,m,g)}else if(c==="consent"){const[m,g]=u;i("consent",m,g)}else if(c==="get"){const[m,g,p]=u;i("get",m,g,p)}else if(c==="set"){const[m]=u;i("set",m)}else i(c,...u)}catch(m){dn.error(m)}}return o}function n4(i,e,n,s,o){let c=function(...u){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=t4(c,i,e,n),{gtagCore:c,wrappedGtag:window[o]}}function i4(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sp)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=30,s4=1e3;class a4{constructor(e={},n=s4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AT=new a4;function o4(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function l4(i){var u;const{appId:e,apiKey:n}=i,s={method:"GET",headers:o4(n)},o=YD.replace("{app-id}",e),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let m="";try{const g=await c.json();(u=g.error)!=null&&u.message&&(m=g.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function c4(i,e=AT,n){const{appId:s,apiKey:o,measurementId:c}=i.options;if(!s)throw kn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw kn.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new d4;return setTimeout(async()=>{m.abort()},KD),RT({appId:s,apiKey:o,measurementId:c},u,m,e)}async function RT(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=AT){var m;const{appId:c,measurementId:u}=i;try{await u4(s,e)}catch(g){if(u)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:u};throw g}try{const g=await l4(i);return o.deleteThrottleMetadata(c),g}catch(g){const p=g;if(!h4(p)){if(o.deleteThrottleMetadata(c),u)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:u};throw g}const b=Number((m=p==null?void 0:p.customData)==null?void 0:m.httpStatus)===503?J_(n,o.intervalMillis,r4):J_(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+b,backoffCount:n+1};return o.setThrottleMetadata(c,w),dn.debug(`Calling attemptFetch again in ${b} millis`),RT(i,w,s,o)}}function u4(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(c),s(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function h4(i){if(!(i instanceof Ei)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class d4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function f4(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const c=await e,u={...s,send_to:c};i("event",n,u)}}async function m4(i,e,n,s){if(s&&s.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(){if(cp())try{await up()}catch(i){return dn.warn(kn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return dn.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function p4(i,e,n,s,o,c,u){const m=c4(i);m.then(x=>{n[x.measurementId]=x.appId,i.options.measurementId&&x.measurementId!==i.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>dn.error(x)),e.push(m);const g=g4().then(x=>{if(x)return s.getId()}),[p,b]=await Promise.all([m,g]);i4(c)||JD(c,p.measurementId),o("js",new Date);const w=(u==null?void 0:u.config)??{};return w[GD]="firebase",w.update=!0,b!=null&&(w[FD]=b),o("config",p.measurementId,w),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.app=e}_delete(){return delete Io[this.app.options.appId],Promise.resolve()}}let Io={},Cb=[];const Nb={};let fg="dataLayer",v4="gtag",Ib,Ap,Db=!1;function _4(){const i=[];if(lp()&&i.push("This is a browser extension environment."),Ew()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});dn.warn(n.message)}}function b4(i,e,n){_4();const s=i.options.appId;if(!s)throw kn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(Io[s]!=null)throw kn.create("already-exists",{id:s});if(!Db){WD(fg);const{wrappedGtag:c,gtagCore:u}=n4(Io,Cb,Nb,fg,v4);Ap=c,Ib=u,Db=!0}return Io[s]=p4(i,Cb,Nb,e,Ib,fg,n),new y4(i)}function E4(i=dp()){i=St(i);const e=Aa(i,rd);return e.isInitialized()?e.getImmediate():w4(i)}function w4(i,e={}){const n=Aa(i,rd);if(n.isInitialized()){const o=n.getImmediate();if(Ts(e,n.getOptions()))return o;throw kn.create("already-initialized")}return n.initialize({options:e})}async function T4(){if(lp()||!Ew()||!cp())return!1;try{return await up()}catch{return!1}}function x4(i,e,n){i=St(i),m4(Ap,Io[i.app.options.appId],e,n).catch(s=>dn.error(s))}function S4(i,e,n,s){i=St(i),f4(Ap,Io[i.app.options.appId],e,n,s).catch(o=>dn.error(o))}const Ob="@firebase/analytics",kb="0.10.19";function A4(){Wi(new pi(rd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return b4(s,o,n)},"PUBLIC")),Wi(new pi("analytics-internal",i,"PRIVATE")),Xn(Ob,kb),Xn(Ob,kb,"esm2020");function i(e){try{const n=e.getProvider(rd).getImmediate();return{logEvent:(s,o,c)=>S4(n,s,o,c),setUserProperties:(s,o)=>x4(n,s,o)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}}}A4();var Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,CT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(L,M,P){for(var N=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)N[Qe-2]=arguments[Qe];return A.prototype[M].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const L=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)L[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;M<16;++M)L[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],M=C.g[2];let P=C.g[3],N;N=A+(P^R&(M^P))+L[0]+3614090360&4294967295,A=R+(N<<7&4294967295|N>>>25),N=P+(M^A&(R^M))+L[1]+3905402710&4294967295,P=A+(N<<12&4294967295|N>>>20),N=M+(R^P&(A^R))+L[2]+606105819&4294967295,M=P+(N<<17&4294967295|N>>>15),N=R+(A^M&(P^A))+L[3]+3250441966&4294967295,R=M+(N<<22&4294967295|N>>>10),N=A+(P^R&(M^P))+L[4]+4118548399&4294967295,A=R+(N<<7&4294967295|N>>>25),N=P+(M^A&(R^M))+L[5]+1200080426&4294967295,P=A+(N<<12&4294967295|N>>>20),N=M+(R^P&(A^R))+L[6]+2821735955&4294967295,M=P+(N<<17&4294967295|N>>>15),N=R+(A^M&(P^A))+L[7]+4249261313&4294967295,R=M+(N<<22&4294967295|N>>>10),N=A+(P^R&(M^P))+L[8]+1770035416&4294967295,A=R+(N<<7&4294967295|N>>>25),N=P+(M^A&(R^M))+L[9]+2336552879&4294967295,P=A+(N<<12&4294967295|N>>>20),N=M+(R^P&(A^R))+L[10]+4294925233&4294967295,M=P+(N<<17&4294967295|N>>>15),N=R+(A^M&(P^A))+L[11]+2304563134&4294967295,R=M+(N<<22&4294967295|N>>>10),N=A+(P^R&(M^P))+L[12]+1804603682&4294967295,A=R+(N<<7&4294967295|N>>>25),N=P+(M^A&(R^M))+L[13]+4254626195&4294967295,P=A+(N<<12&4294967295|N>>>20),N=M+(R^P&(A^R))+L[14]+2792965006&4294967295,M=P+(N<<17&4294967295|N>>>15),N=R+(A^M&(P^A))+L[15]+1236535329&4294967295,R=M+(N<<22&4294967295|N>>>10),N=A+(M^P&(R^M))+L[1]+4129170786&4294967295,A=R+(N<<5&4294967295|N>>>27),N=P+(R^M&(A^R))+L[6]+3225465664&4294967295,P=A+(N<<9&4294967295|N>>>23),N=M+(A^R&(P^A))+L[11]+643717713&4294967295,M=P+(N<<14&4294967295|N>>>18),N=R+(P^A&(M^P))+L[0]+3921069994&4294967295,R=M+(N<<20&4294967295|N>>>12),N=A+(M^P&(R^M))+L[5]+3593408605&4294967295,A=R+(N<<5&4294967295|N>>>27),N=P+(R^M&(A^R))+L[10]+38016083&4294967295,P=A+(N<<9&4294967295|N>>>23),N=M+(A^R&(P^A))+L[15]+3634488961&4294967295,M=P+(N<<14&4294967295|N>>>18),N=R+(P^A&(M^P))+L[4]+3889429448&4294967295,R=M+(N<<20&4294967295|N>>>12),N=A+(M^P&(R^M))+L[9]+568446438&4294967295,A=R+(N<<5&4294967295|N>>>27),N=P+(R^M&(A^R))+L[14]+3275163606&4294967295,P=A+(N<<9&4294967295|N>>>23),N=M+(A^R&(P^A))+L[3]+4107603335&4294967295,M=P+(N<<14&4294967295|N>>>18),N=R+(P^A&(M^P))+L[8]+1163531501&4294967295,R=M+(N<<20&4294967295|N>>>12),N=A+(M^P&(R^M))+L[13]+2850285829&4294967295,A=R+(N<<5&4294967295|N>>>27),N=P+(R^M&(A^R))+L[2]+4243563512&4294967295,P=A+(N<<9&4294967295|N>>>23),N=M+(A^R&(P^A))+L[7]+1735328473&4294967295,M=P+(N<<14&4294967295|N>>>18),N=R+(P^A&(M^P))+L[12]+2368359562&4294967295,R=M+(N<<20&4294967295|N>>>12),N=A+(R^M^P)+L[5]+4294588738&4294967295,A=R+(N<<4&4294967295|N>>>28),N=P+(A^R^M)+L[8]+2272392833&4294967295,P=A+(N<<11&4294967295|N>>>21),N=M+(P^A^R)+L[11]+1839030562&4294967295,M=P+(N<<16&4294967295|N>>>16),N=R+(M^P^A)+L[14]+4259657740&4294967295,R=M+(N<<23&4294967295|N>>>9),N=A+(R^M^P)+L[1]+2763975236&4294967295,A=R+(N<<4&4294967295|N>>>28),N=P+(A^R^M)+L[4]+1272893353&4294967295,P=A+(N<<11&4294967295|N>>>21),N=M+(P^A^R)+L[7]+4139469664&4294967295,M=P+(N<<16&4294967295|N>>>16),N=R+(M^P^A)+L[10]+3200236656&4294967295,R=M+(N<<23&4294967295|N>>>9),N=A+(R^M^P)+L[13]+681279174&4294967295,A=R+(N<<4&4294967295|N>>>28),N=P+(A^R^M)+L[0]+3936430074&4294967295,P=A+(N<<11&4294967295|N>>>21),N=M+(P^A^R)+L[3]+3572445317&4294967295,M=P+(N<<16&4294967295|N>>>16),N=R+(M^P^A)+L[6]+76029189&4294967295,R=M+(N<<23&4294967295|N>>>9),N=A+(R^M^P)+L[9]+3654602809&4294967295,A=R+(N<<4&4294967295|N>>>28),N=P+(A^R^M)+L[12]+3873151461&4294967295,P=A+(N<<11&4294967295|N>>>21),N=M+(P^A^R)+L[15]+530742520&4294967295,M=P+(N<<16&4294967295|N>>>16),N=R+(M^P^A)+L[2]+3299628645&4294967295,R=M+(N<<23&4294967295|N>>>9),N=A+(M^(R|~P))+L[0]+4096336452&4294967295,A=R+(N<<6&4294967295|N>>>26),N=P+(R^(A|~M))+L[7]+1126891415&4294967295,P=A+(N<<10&4294967295|N>>>22),N=M+(A^(P|~R))+L[14]+2878612391&4294967295,M=P+(N<<15&4294967295|N>>>17),N=R+(P^(M|~A))+L[5]+4237533241&4294967295,R=M+(N<<21&4294967295|N>>>11),N=A+(M^(R|~P))+L[12]+1700485571&4294967295,A=R+(N<<6&4294967295|N>>>26),N=P+(R^(A|~M))+L[3]+2399980690&4294967295,P=A+(N<<10&4294967295|N>>>22),N=M+(A^(P|~R))+L[10]+4293915773&4294967295,M=P+(N<<15&4294967295|N>>>17),N=R+(P^(M|~A))+L[1]+2240044497&4294967295,R=M+(N<<21&4294967295|N>>>11),N=A+(M^(R|~P))+L[8]+1873313359&4294967295,A=R+(N<<6&4294967295|N>>>26),N=P+(R^(A|~M))+L[15]+4264355552&4294967295,P=A+(N<<10&4294967295|N>>>22),N=M+(A^(P|~R))+L[6]+2734768916&4294967295,M=P+(N<<15&4294967295|N>>>17),N=R+(P^(M|~A))+L[13]+1309151649&4294967295,R=M+(N<<21&4294967295|N>>>11),N=A+(M^(R|~P))+L[4]+4149444226&4294967295,A=R+(N<<6&4294967295|N>>>26),N=P+(R^(A|~M))+L[11]+3174756917&4294967295,P=A+(N<<10&4294967295|N>>>22),N=M+(A^(P|~R))+L[2]+718787259&4294967295,M=P+(N<<15&4294967295|N>>>17),N=R+(P^(M|~A))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+P&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,L=this.C;let M=this.h,P=0;for(;P<A;){if(M==0)for(;P<=R;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<A;)if(L[M++]=C.charCodeAt(P++),M==this.blockSize){o(this,L),M=0;break}}else for(;P<A;)if(L[M++]=C[P++],M==this.blockSize){o(this,L),M=0;break}}this.h=M,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let L=0;L<32;L+=8)C[A++]=this.g[R]>>>L&255;return C};function c(C,A){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function u(C,A){this.h=A;const R=[];let L=!0;for(let M=C.length-1;M>=0;M--){const P=C[M]|0;L&&P==A||(R[M]=P,L=!1)}this.g=R}var m={};function g(C){return-128<=C&&C<128?c(C,function(A){return new u([A|0],A<0?-1:0)}):new u([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return V(p(-C));const A=[];let R=1;for(let L=0;C>=R;L++)A[L]=C/R|0,R*=4294967296;return new u(A,0)}function b(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return V(b(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let L=w;for(let P=0;P<C.length;P+=8){var M=Math.min(8,C.length-P);const N=parseInt(C.substring(P,P+M),A);M<8?(M=p(Math.pow(A,M)),L=L.j(M).add(p(N))):(L=L.j(R),L=L.add(p(N)))}return L}var w=g(0),x=g(1),k=g(16777216);i=u.prototype,i.m=function(){if(B(this))return-V(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const L=this.i(R);C+=(L>=0?L:4294967296+L)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(B(this))return"-"+V(this).toString(C);const A=p(Math.pow(C,6));var R=this;let L="";for(;;){const M=ce(R,A).g;R=Z(R,M.j(A));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,G(R))return P+L;for(;P.length<6;)P="0"+P;L=P+L}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function B(C){return C.h==-1}i.l=function(C){return C=Z(this,C),B(C)?-1:G(C)?0:1};function V(C){const A=C.g.length,R=[];for(let L=0;L<A;L++)R[L]=~C.g[L];return new u(R,~C.h).add(x)}i.abs=function(){return B(this)?V(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let L=0;for(let M=0;M<=A;M++){let P=L+(this.i(M)&65535)+(C.i(M)&65535),N=(P>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);L=N>>>16,P&=65535,N&=65535,R[M]=N<<16|P}return new u(R,R[R.length-1]&-2147483648?-1:0)};function Z(C,A){return C.add(V(A))}i.j=function(C){if(G(this)||G(C))return w;if(B(this))return B(C)?V(this).j(V(C)):V(V(this).j(C));if(B(C))return V(this.j(V(C)));if(this.l(k)<0&&C.l(k)<0)return p(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var L=0;L<2*A;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(let M=0;M<C.g.length;M++){const P=this.i(L)>>>16,N=this.i(L)&65535,Qe=C.i(M)>>>16,tt=C.i(M)&65535;R[2*L+2*M]+=N*tt,X(R,2*L+2*M),R[2*L+2*M+1]+=P*tt,X(R,2*L+2*M+1),R[2*L+2*M+1]+=N*Qe,X(R,2*L+2*M+1),R[2*L+2*M+2]+=P*Qe,X(R,2*L+2*M+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new u(R,0)};function X(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function U(C,A){this.g=C,this.h=A}function ce(C,A){if(G(A))throw Error("division by zero");if(G(C))return new U(w,w);if(B(C))return A=ce(V(C),A),new U(V(A.g),V(A.h));if(B(A))return A=ce(C,V(A)),new U(V(A.g),A.h);if(C.g.length>30){if(B(C)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var R=x,L=A;L.l(C)<=0;)R=fe(R),L=fe(L);var M=ge(R,1),P=ge(L,1);for(L=ge(L,2),R=ge(R,2);!G(L);){var N=P.add(L);N.l(C)<=0&&(M=M.add(R),P=N),L=ge(L,1),R=ge(R,1)}return A=Z(C,M.j(A)),new U(M,A)}for(M=w;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),P=p(R),N=P.j(A);B(N)||N.l(C)>0;)R-=L,P=p(R),N=P.j(A);G(P)&&(P=x),M=M.add(P),C=Z(C,N)}return new U(M,C)}i.B=function(C){return ce(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)&C.i(L);return new u(R,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)|C.i(L);return new u(R,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)^C.i(L);return new u(R,this.h^C.h)};function fe(C){const A=C.g.length+1,R=[];for(let L=0;L<A;L++)R[L]=C.i(L)<<1|C.i(L-1)>>>31;return new u(R,C.h)}function ge(C,A){const R=A>>5;A%=32;const L=C.g.length-R,M=[];for(let P=0;P<L;P++)M[P]=A>0?C.i(P+R)>>>A|C.i(P+R+1)<<32-A:C.i(P+R);return new u(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,CT=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=b,Es=u}).apply(typeof Mb<"u"?Mb:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NT,fc,IT,qh,jg,DT,OT,kT;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,v){if(v)e:{var E=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var q=h[S];if(!(q in E))break e;E=E[q]}h=h[h.length-1],S=E[h],v=v(S),v!=S&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var E=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&E.push([S,v[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,E){return h.call.apply(h.bind,arguments)}function p(h,v,E){return p=g,p.apply(null,arguments)}function b(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function w(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(S,q,Y){for(var le=Array(arguments.length-2),De=2;De<arguments.length;De++)le[De-2]=arguments[De];return v.prototype[q].apply(S,le)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function k(h){const v=h.length;if(v>0){const E=Array(v);for(let S=0;S<v;S++)E[S]=h[S];return E}return[]}function G(h,v){for(let S=1;S<arguments.length;S++){const q=arguments[S];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const Y=q.length||0;h.length=E+Y;for(let le=0;le<Y;le++)h[E+le]=q[le]}else h.push(q)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(h){u.setTimeout(()=>{throw h},0)}function Z(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,E){const S=U.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var U=new B(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ge=!1,C=new X,A=()=>{const h=Promise.resolve(void 0);fe=()=>{h.then(R)}};function R(){for(var h;h=Z();){try{h.h.call(h.g)}catch(E){V(E)}var v=U;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ge=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Qe(h,v){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}w(Qe,M),Qe.prototype.init=function(h,v){const E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(h,v,E,S,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=q,this.key=++Q,this.da=this.fa=!1}function te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ue(h,v,E){for(const S in h)v.call(E,h[S],S,h)}function se(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function O(h){const v={};for(const E in h)v[E]=h[E];return v}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,v){let E,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(E in S)h[E]=S[E];for(let Y=0;Y<W.length;Y++)E=W[Y],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,v,E,S,q){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const le=Ee(h,v,S,q);return le>-1?(v=h[le],E||(v.fa=!1)):(v=new oe(v,this.src,Y,!!S,q),v.fa=E,h.push(v)),v};function _e(h,v){const E=v.type;if(E in h.g){var S=h.g[E],q=Array.prototype.indexOf.call(S,v,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(S,q,1),Y&&(te(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ee(h,v,E,S){for(let q=0;q<h.length;++q){const Y=h[q];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==S)return q}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),pt={};function Ie(h,v,E,S,q){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)Ie(h,v[Y],E,S,q);return null}return E=il(E),h&&h[tt]?h.J(v,E,m(S)?!!S.capture:!1,q):Ti(h,v,E,!1,S,q)}function Ti(h,v,E,S,q,Y){if(!v)throw Error("Invalid event type");const le=m(q)?!!q.capture:!!q;let De=Ms(h);if(De||(h[Me]=De=new he(h)),E=De.add(v,E,S,le,Y),E.proxy)return E;if(S=Wn(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)P||(q=le),q===void 0&&(q=!1),h.addEventListener(v.toString(),S,q);else if(h.attachEvent)h.attachEvent(ln(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Wn(){function h(E){return v.call(h.src,h.listener,E)}const v=tl;return h}function Zn(h,v,E,S,q){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Zn(h,v[Y],E,S,q);else S=m(S)?!!S.capture:!!S,E=il(E),h&&h[tt]?(h=h.i,Y=String(v).toString(),Y in h.g&&(v=h.g[Y],E=Ee(v,E,S,q),E>-1&&(te(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Ms(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ee(v,E,S,q)),(E=h>-1?v[h]:null)&&xi(E))}function xi(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[tt])_e(v.i,h);else{var E=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(E,S,h.capture):v.detachEvent?v.detachEvent(ln(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=Ms(v))?(_e(E,h),E.h==0&&(E.src=null,v[Me]=null)):te(h)}}}function ln(h){return h in pt?pt[h]:pt[h]="on"+h}function tl(h,v){if(h.da)h=!0;else{v=new Qe(v,this);const E=h.listener,S=h.ha||h.src;h.fa&&xi(h),h=E.call(S,v)}return h}function Ms(h){return h=h[Me],h instanceof he?h:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function il(h){return typeof h=="function"?h:(h[nl]||(h[nl]=function(v){return h.handleEvent(v)}),h[nl])}function At(){L.call(this),this.i=new he(this),this.M=this,this.G=null}w(At,L),At.prototype[tt]=!0,At.prototype.removeEventListener=function(h,v,E,S){Zn(this,h,v,E,S)};function Pt(h,v){var E,S=h.G;if(S)for(E=[];S;S=S.G)E.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var q=v;v=new M(S,h),ae(v,q)}q=!0;let Y,le;if(E)for(le=E.length-1;le>=0;le--)Y=v.g=E[le],q=Dr(Y,S,!0,v)&&q;if(Y=v.g=h,q=Dr(Y,S,!0,v)&&q,q=Dr(Y,S,!1,v)&&q,E)for(le=0;le<E.length;le++)Y=v.g=E[le],q=Dr(Y,S,!1,v)&&q}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let S=0;S<E.length;S++)te(E[S]);delete h.g[v],h.h--}}this.G=null},At.prototype.J=function(h,v,E,S){return this.i.add(String(h),v,!1,E,S)},At.prototype.K=function(h,v,E,S){return this.i.add(String(h),v,!0,E,S)};function Dr(h,v,E,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Y=0;Y<v.length;++Y){const le=v[Y];if(le&&!le.da&&le.capture==E){const De=le.listener,bt=le.ha||le.src;le.fa&&_e(h.i,le),q=De.call(bt,S)!==!1&&q}}return q&&!S.defaultPrevented}function Xd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function Jc(h){h.g=Xd(()=>{h.g=null,h.i&&(h.i=!1,Jc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class cn extends L{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Jc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(h){L.call(this),this.h=h,this.g={}}w(js,L);var rl=[];function sl(h){ue(h.g,function(v,E){this.g.hasOwnProperty(E)&&xi(v)},h),h.g={}}js.prototype.N=function(){js.Z.N.call(this),sl(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Or=u.JSON.stringify,Jd=u.JSON.parse,Wc=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Zc(){}function eu(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){M.call(this,"d")}w(Yt,M);function Vn(){M.call(this,"c")}w(Vn,M);var _t={},tu=null;function Ma(){return tu=tu||new At}_t.Ia="serverreachability";function nu(h){M.call(this,_t.Ia,h)}w(nu,M);function Si(h){const v=Ma();Pt(v,new nu(v))}_t.STAT_EVENT="statevent";function Vs(h,v){M.call(this,_t.STAT_EVENT,h),this.stat=v}w(Vs,M);function Rt(h){const v=Ma();Pt(v,new Vs(v,h))}_t.Ja="timingevent";function Ai(h,v){M.call(this,_t.Ja,h),this.size=v}w(Ai,M);function Ri(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Wd(h,v,E,S,q,Y){h.info(function(){if(h.g)if(Y){var le="",De=Y.split("&");for(let Ye=0;Ye<De.length;Ye++){var bt=De[Ye].split("=");if(bt.length>1){const dt=bt[0];bt=bt[1];const zn=dt.split("_");le=zn.length>=2&&zn[1]=="type"?le+(dt+"="+bt+"&"):le+(dt+"=redacted&")}}}else le=null;else le=Y;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+E+`
`+le})}function iu(h,v,E,S,q,Y,le){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+E+`
`+Y+" "+le})}function Ci(h,v,E,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Zd(h,E)+(S?" "+S:"")})}function Ls(h,v){h.info(function(){return"TIMEOUT: "+v})}ti.prototype.info=function(){};function Zd(h,v){if(!h.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return Or(Y)}catch{return v}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function Us(){}w(Us,Zc),Us.prototype.g=function(){return new XMLHttpRequest},ol=new Us;function tr(h){return encodeURIComponent(String(h))}function ru(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ni(h,v,E,S){this.j=h,this.i=v,this.l=E,this.S=S||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Ct={},qt={};function Ni(h,v,E){h.M=1,h.A=zs(It(v)),h.u=E,h.R=!0,ja(h,null)}function ja(h,v){h.F=Date.now(),Ii(h),h.B=It(h.A);var E=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Ua(E.i,"t",S),h.C=0,E=h.j.L,h.h=new ii,h.g=_u(h.j,E?v:null,!h.u),h.P>0&&(h.O=new cn(p(h.Y,h,h.g),h.P)),v=h.V,E=h.g,S=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(rl[0]=q.toString()),q=rl);for(let Y=0;Y<q.length;Y++){const le=Ie(E,q[Y],S||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Si(),Wd(h.i,h.v,h.B,h.l,h.S,h.u)}ni.prototype.ba=function(h){h=h.target;const v=this.O;v&&ai(h)==3?v.j():this.Y(h)},ni.prototype.Y=function(h){try{if(h==this.g)e:{const De=ai(this.g),bt=this.g.ya(),Ye=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||De!=4||bt==7||(bt==8||Ye<=0?Si(3):Si(2)),Di(this);var v=this.g.ca();this.X=v;var E=ef(this);if(this.o=v==200,iu(this.i,this.v,this.B,this.l,this.S,De,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var Y=S;break t}}Y=null}if(h=Y)Ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,h);else{this.o=!1,this.m=3,Rt(12),Tn(this),Ln(this);break e}}if(this.R){h=!0;let dt;for(;!this.K&&this.C<E.length;)if(dt=au(this,E),dt==qt){De==4&&(this.m=4,Rt(14),h=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Ct){this.m=4,Rt(15),Ci(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ci(this.i,this.l,dt,null),Oi(this,dt);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||E.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Ci(this.i,this.l,E,"[Invalid Chunked Response]"),Tn(this),Ln(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),wl(le),le.P=!0,Rt(11))}}else Ci(this.i,this.l,E,null),Oi(this,E);De==4&&Tn(this),this.o&&!this.K&&(De==4?gu(this.j,this):(this.o=!1,Ii(this)))}else ir(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Tn(this),Ln(this)}}}catch{}finally{}};function ef(h){if(!su(h))return h.g.la();const v=$t(h.g);if(v==="")return"";let E="";const S=v.length,q=ai(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),Ln(h),"";h.h.i=new u.TextDecoder}for(let Y=0;Y<S;Y++)h.h.h=!0,E+=h.h.i.decode(v[Y],{stream:!(q&&Y==S-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function su(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function au(h,v){var E=h.C,S=v.indexOf(`
`,E);return S==-1?qt:(E=Number(v.substring(E,S)),isNaN(E)?Ct:(S+=1,S+E>v.length?qt:(v=v.slice(S,S+E),h.C=S+E,v)))}ni.prototype.cancel=function(){this.K=!0,Tn(this)};function Ii(h){h.T=Date.now()+h.H,Va(h,h.H)}function Va(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ri(p(h.aa,h),v)}function Di(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ni.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ls(this.i,this.B),this.M!=2&&(Si(),Rt(17)),Tn(this),this.m=2,Ln(this)):Va(this,this.T-h)};function Ln(h){h.j.I==0||h.K||gu(h.j,h)}function Tn(h){Di(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,sl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Oi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Mi(E.h,h))){if(!h.L&&Mi(E.h,h)&&E.I==3){try{var S=E.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Fa(E),zr(E);else break e;Ys(E),Rt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ri(p(E.Va,E),6e3));ki(E.h)<=1&&E.ta&&(E.ta=void 0)}else zi(E,11)}else if((h.L||E.g==h)&&Fa(E),!N(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Ye=q[v];const dt=Ye[0];if(!(dt<=E.K))if(E.K=dt,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const zn=Ye[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Bi=Ye[4];Bi!=null&&(E.za=Bi,E.j.info("SVER="+E.za));const oi=Ye[5];oi!=null&&typeof oi=="number"&&oi>0&&(S=1.5*oi,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const li=h.g;if(li){const $s=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var Y=S.h;Y.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ul(Y,Y.h),Y.h=null))}if(S.G){const Ga=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(S.wa=Ga,We(S.J,S.G,Ga))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var le=h;if(S.na=vu(S,S.L?S.ba:null,S.W),le.L){hl(S.h,le);var De=le,bt=S.O;bt&&(De.H=bt),De.D&&(Di(De),Ii(De)),S.g=le}else fu(S);E.i.length>0&&Ui(E)}else Ye[0]!="stop"&&Ye[0]!="close"||zi(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?zi(E,7):bl(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}Si(4)}catch{}}var Nt=class{constructor(h,v){this.g=h,this.map=v}};function ll(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ki(h){return h.h?1:h.g?h.g.size:0}function Mi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ul(h,v){h.g?h.g.add(v):h.h=v}function hl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ll.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function dl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return k(h.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const S=h[E].indexOf("=");let q,Y=null;S>=0?(q=h[E].substring(0,S),Y=h[E].substring(S+1)):q=h[E],v(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function xn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof xn?(this.l=h.l,Ht(this,h.j),this.o=h.o,this.g=h.g,kr(this,h.u),this.h=h.h,fl(this,hu(h.i)),this.m=h.m):h&&(v=String(h).match(ou))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=ji(v[2]||""),this.g=ji(v[3]||"",!0),kr(this,v[4]),this.h=ji(v[5]||"",!0),fl(this,v[6]||"",!0),this.m=ji(v[7]||"")):(this.l=!1,this.i=new jr(null,this.l))}xn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Bs(v,Pa,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Bs(v,Pa,!0),"@"),h.push(tr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Bs(E,E.charAt(0)=="/"?ml:lu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Bs(E,cu)),h.join("")},xn.prototype.resolve=function(h){const v=It(this);let E=!!h.j;E?Ht(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var S=h.h;if(E)kr(v,h.u);else if(E=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=v.h.lastIndexOf("/");q!=-1&&(S=v.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let le=0;le<q.length;){const De=q[le++];De=="."?S&&le==q.length&&Y.push(""):De==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&le==q.length&&Y.push("")):(Y.push(De),S=!0)}S=Y.join("/")}else S=q}return E?v.h=S:E=h.i.toString()!=="",E?fl(v,hu(h.i)):E=!!h.m,E&&(v.m=h.m),v};function It(h){return new xn(h)}function Ht(h,v,E){h.j=E?ji(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function kr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function fl(h,v,E){v instanceof jr?(h.i=v,za(h.i,h.l)):(E||(v=Bs(v,Mr)),h.i=new jr(v,h.l))}function We(h,v,E){h.i.set(v,E)}function zs(h){return We(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ji(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Bs(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,mn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Pa=/[#\/\?@]/g,lu=/[#\?:]/g,ml=/[#\?]/g,Mr=/[#\?@]/g,cu=/#/g;function jr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function gn(h){h.g||(h.g=new Map,h.h=0,h.i&&La(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}i=jr.prototype,i.add=function(h,v){gn(this),this.i=null,h=Vr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function uu(h,v){gn(h),v=Vr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function gl(h,v){return gn(h),v=Vr(h,v),h.g.has(v)}i.forEach=function(h,v){gn(this),this.g.forEach(function(E,S){E.forEach(function(q){h.call(v,q,S,this)},this)},this)};function pl(h,v){gn(h);let E=[];if(typeof v=="string")gl(h,v)&&(E=E.concat(h.g.get(Vr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}i.set=function(h,v){return gn(this),this.i=null,h=Vr(this,h),gl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=pl(this,h),h.length>0?String(h[0]):v):v};function Ua(h,v,E){uu(h,v),E.length>0&&(h.i=null,h.g.set(Vr(h,v),k(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var E=v[S];const q=tr(E);E=pl(this,E);for(let Y=0;Y<E.length;Y++){let le=q;E[Y]!==""&&(le+="="+tr(E[Y])),h.push(le)}}return this.i=h.join("&")};function hu(h){const v=new jr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Vr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function za(h,v){v&&!h.j&&(gn(h),h.i=null,h.g.forEach(function(E,S){const q=S.toLowerCase();S!=q&&(uu(this,S),Ua(this,q,E))},h)),h.j=v}function ri(h,v){const E=new ti;if(u.Image){const S=new Image;S.onload=b(Pn,E,"TestLoadImage: loaded",!0,v,S),S.onerror=b(Pn,E,"TestLoadImage: error",!1,v,S),S.onabort=b(Pn,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=b(Pn,E,"TestLoadImage: timeout",!1,v,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function yl(h,v){const E=new ti,S=new AbortController,q=setTimeout(()=>{S.abort(),Pn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(q),Y.ok?Pn(E,"TestPingServer: ok",!0,v):Pn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Pn(E,"TestPingServer: error",!1,v)})}function Pn(h,v,E,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(E)}catch{}}function Lr(){this.g=new Wc}function Vi(h){this.i=h.Sb||null,this.h=h.ab||!1}w(Vi,Zc),Vi.prototype.g=function(){return new qs(this.i,this.h)};function qs(h,v){At.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(qs,At),i=qs.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,si(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Pr(this):si(this),this.readyState==3&&Ba(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Pr(this))},i.Na=function(h){this.g&&(this.response=h,Pr(this))},i.ga=function(){this.g&&Pr(this)};function Pr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,si(h)}i.setRequestHeader=function(h,v){this.A.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let v="";return ue(h,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function Hs(h,v,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Un(E),typeof h=="string"?E!=null&&tr(E):We(h,v,E))}function nt(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(nt,At);var Li=/^https?$/i,vl=["POST","PUT"];i=nt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){Fs(this,Y);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)E.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())E.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(vl,v,void 0)>=0)||S||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Fs(this,Y)}};function Fs(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,_l(h),nr(h)}function _l(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Gs(this):this.Xa())},i.Xa=function(){Gs(this)};function Gs(h){if(h.h&&typeof c<"u"){if(h.v&&ai(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),ai(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var S;if(S=Y===0){let le=String(h.D).match(ou)[1]||null;!le&&u.self&&u.self.location&&(le=u.self.location.protocol.slice(0,-1)),S=!Li.test(le?le.toLowerCase():"")}E=S}if(E)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var q=ai(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",_l(h)}}finally{nr(h)}}}}function nr(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Pt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ai(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Jd(v)}};function $t(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(h){const v={};h=(h.g&&ai(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(N(h[S]))continue;var E=ru(h[S]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[q]||[];v[q]=Y,Y.push(E)}se(v,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ur(h){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,h),this.Za=Pi("retryDelaySeedMs",1e4,h),this.Ta=Pi("forwardChannelMaxRetries",2,h),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(h&&h.concurrentRequestLimit),this.Ba=new Lr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ur.prototype,i.ka=8,i.I=1,i.connect=function(h,v,E,S){Rt(0),this.W=h,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=vu(this,null,this.W),Ui(this)};function bl(h){if(qa(h),h.I==3){var v=h.V++,E=It(h.J);if(We(E,"SID",h.M),We(E,"RID",v),We(E,"TYPE","terminate"),Ks(h,E),v=new ni(h,h.j,v),v.M=2,v.A=zs(It(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.A,E=!0),E||(v.g=_u(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ii(v)}yu(h)}function zr(h){h.g&&(wl(h),h.g.cancel(),h.g=null)}function qa(h){zr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Fa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Ui(h){if(!cl(h.h)&&!h.m){h.m=!0;var v=h.Ea;fe||A(),ge||(fe(),ge=!0),C.add(v,h),h.D=0}}function Ha(h,v){return ki(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ri(p(h.Ea,h,v),pu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ni(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=O(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=du(this,q,v),E=It(this.J),We(E,"RID",h),We(E,"CVER",22),this.G&&We(E,"X-HTTP-Session-Id",this.G),Ks(this,E),Y&&(this.R?v="headers="+tr(Un(Y))+"&"+v:this.u&&Hs(E,this.u,Y)),ul(this.h,q),this.Ra&&We(E,"TYPE","init"),this.S?(We(E,"$req",v),We(E,"SID","null"),q.U=!0,Ni(q,E,null)):Ni(q,E,v),this.I=2}}else this.I==3&&(h?El(this,h):this.i.length==0||cl(this.h)||El(this))};function El(h,v){var E;v?E=v.l:E=h.V++;const S=It(h.J);We(S,"SID",h.M),We(S,"RID",E),We(S,"AID",h.K),Ks(h,S),h.u&&h.o&&Hs(S,h.u,h.o),E=new ni(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=du(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ul(h.h,E),Ni(E,S,v)}function Ks(h,v){h.H&&ue(h.H,function(E,S){We(v,S,E)}),h.l&&ue({},function(E,S){We(v,S,E)})}function du(h,v,E){E=Math.min(h.i.length,E);const S=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let De=-1;for(;;){const bt=["count="+E];De==-1?E>0?(De=q[0].g,bt.push("ofs="+De)):De=0:bt.push("ofs="+De);let Ye=!0;for(let dt=0;dt<E;dt++){var Y=q[dt].g;const zn=q[dt].map;if(Y-=De,Y<0)De=Math.max(0,q[dt].g-100),Ye=!1;else try{Y="req"+Y+"_"||"";try{var le=zn instanceof Map?zn:Object.entries(zn);for(const[Bi,oi]of le){let li=oi;m(oi)&&(li=Or(oi)),bt.push(Y+Bi+"="+encodeURIComponent(li))}}catch(Bi){throw bt.push(Y+"type="+encodeURIComponent("_badmap")),Bi}}catch{S&&S(zn)}}if(Ye){le=bt.join("&");break e}}le=void 0}return h=h.i.splice(0,E),v.G=h,le}function fu(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;fe||A(),ge||(fe(),ge=!0),C.add(v,h),h.A=0}}function Ys(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ri(p(h.Da,h),pu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ri(p(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),zr(this),mu(this))};function wl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function mu(h){h.g=new ni(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=It(h.na);We(v,"RID","rpc"),We(v,"SID",h.M),We(v,"AID",h.K),We(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&We(v,"TO",h.ia),We(v,"TYPE","xmlhttp"),Ks(h,v),h.u&&h.o&&Hs(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=zs(It(v)),E.u=null,E.R=!0,ja(E,h)}i.Va=function(){this.C!=null&&(this.C=null,zr(this),Ys(this),Rt(19))};function Fa(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function gu(h,v){var E=null;if(h.g==v){Fa(h),wl(h),h.g=null;var S=2}else if(Mi(h.h,v))E=v.G,hl(h.h,v),S=1;else return;if(h.I!=0){if(v.o)if(S==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;S=Ma(),Pt(S,new Ai(S,E)),Ui(h)}else fu(h);else if(q=v.m,q==3||q==0&&v.X>0||!(S==1&&Ha(h,v)||S==2&&Ys(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:zi(h,5);break;case 4:zi(h,10);break;case 3:zi(h,6);break;default:zi(h,2)}}}function pu(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function zi(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.bb,h),S=h.Ua;const q=!S;S=new xn(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ht(S,"https"),zs(S),q?ri(S.toString(),E):yl(S.toString(),E)}else Rt(2);h.I=0,h.l&&h.l.pa(v),yu(h),qa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function yu(h){if(h.I=0,h.ja=[],h.l){const v=dl(h.h);(v.length!=0||h.i.length!=0)&&(G(h.ja,v),G(h.ja,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.oa()}}function vu(h,v,E){var S=E instanceof xn?It(E):new xn(E);if(S.g!="")v&&(S.g=v+"."+S.g),kr(S,S.u);else{var q=u.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Y=new xn(null);S&&Ht(Y,S),v&&(Y.g=v),q&&kr(Y,q),E&&(Y.h=E),S=Y}return E=h.G,v=h.wa,E&&v&&We(S,E,v),We(S,"VER",h.ka),Ks(h,S),S}function _u(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new nt(new Vi({ab:E})):new nt(h.ma),v.Fa(h.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}i=bu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Br(){}Br.prototype.g=function(h,v){return new un(h,v)};function un(h,v){At.call(this),this.g=new Ur(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new rr(this)}w(un,At),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){bl(this.g)},un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Or(h),h=E);v.i.push(new Nt(v.Ya++,h)),v.I==3&&Ui(v)},un.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,un.Z.N.call(this)};function Eu(h){Yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}w(Eu,Yt);function wu(){Vn.call(this),this.status=1}w(wu,Vn);function rr(h){this.g=h}w(rr,bu),rr.prototype.ra=function(){Pt(this.g,"a")},rr.prototype.qa=function(h){Pt(this.g,new Eu(h))},rr.prototype.pa=function(h){Pt(this.g,new wu)},rr.prototype.oa=function(){Pt(this.g,"b")},Br.prototype.createWebChannel=Br.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,kT=function(){return new Br},OT=function(){return Ma()},DT=_t,jg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,qh=Ps,al.COMPLETE="complete",IT=al,eu.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",At.prototype.listen=At.prototype.J,fc=eu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,NT=nt}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="12.9.0";function R4(i){$o=i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Td("@firebase/firestore");function wo(){return ba.logLevel}function me(i,...e){if(ba.logLevel<=ze.DEBUG){const n=e.map(Rp);ba.debug(`Firestore (${$o}): ${i}`,...n)}}function Cr(i,...e){if(ba.logLevel<=ze.ERROR){const n=e.map(Rp);ba.error(`Firestore (${$o}): ${i}`,...n)}}function Ea(i,...e){if(ba.logLevel<=ze.WARN){const n=e.map(Rp);ba.warn(`Firestore (${$o}): ${i}`,...n)}}function Rp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,MT(i,s,n)}function MT(i,e,n){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Cr(s),new Error(s)}function Xe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||MT(e,o,s)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class N4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class I4{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new jT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class D4{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class O4{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new D4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=M4(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Be(i,e){return i<e?-1:i>e?1:0}function Vg(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return mg(o)===mg(c)?Be(o,c):mg(o)?1:-1}return Be(i.length,e.length)}const j4=55296,V4=57343;function mg(i){const e=i.charCodeAt(0);return e>=j4&&e<=V4}function jo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="__name__";class Ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Ki.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Be(e.length,n.length)}static compareSegments(e,n){const s=Ki.isNumericId(e),o=Ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ki.extractNumericId(e).compare(Ki.extractNumericId(n)):Vg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class lt extends Ki{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const L4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Ki{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return L4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vb}static keyField(){return new en([Vb])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(s+=m,o++):(c(),o++)}if(c(),u)throw new de(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(lt.fromString(e))}static fromName(e){return new Te(lt.fromString(e).popFirst(5))}static empty(){return new Te(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i,e,n){if(!n)throw new de(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function P4(i,e,n,s){if(e===!0&&s===!0)throw new de(ie.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Lb(i){if(!Te.isDocumentKey(i))throw new de(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Pb(i){if(Te.isDocumentKey(i))throw new de(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function LT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Id(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function vi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Id(i);throw new de(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(i,e){const n={typeString:i};return e&&(n.value=e),n}function qc(i,e){if(!LT(i))throw new de(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const u=i[s];if(o&&typeof u!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new de(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=-62135596800,zb=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*zb);return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ub)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zb}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qc(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ub;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Lt("string",ht._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ht(0,0))}static max(){return new Re(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function U4(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new xs(o,Te.empty(),e)}function z4(i){return new xs(i.readTime,i.key,Rc)}class xs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xs(Re.min(),Te.empty(),Rc)}static max(){return new xs(Re.max(),Te.empty(),Rc)}}function B4(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(i.documentKey,e.documentKey),n!==0?n:Be(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==q4)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&n()}),(g=>s(g)))})),u=!0,c===o&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((o=>o?re.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,o)=>{const c=e.length,u=new Array(c);let m=0;for(let g=0;g<c;g++){const p=g;n(e[p]).next((b=>{u[p]=b,++m,m===c&&s(u)}),(b=>o(b)))}}))}static doWhile(e,n){return new re(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function F4(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function Od(i){return i==null}function sd(i){return i===0&&1/i==-1/0}function G4(i){return typeof i=="number"&&Number.isInteger(i)&&!sd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="";function K4(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Bb(e)),e=Y4(i.get(n),e);return Bb(e)}function Y4(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case PT:n+="";break;default:n+=c}}return n}function Bb(i){return i+PT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ds(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function UT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Zt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hb(this.data.getIterator())}getIteratorFrom(e){return new Hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class Hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new On([])}unionWith(e){let n=new Bt(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new zT("Invalid base64 string: "+c):c}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const $4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=$4.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function As(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="server_timestamp",qT="__type__",HT="__previous_value__",FT="__local_write_time__";function Ip(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[qT])==null?void 0:s.stringValue)===BT}function kd(i){const e=i.mapValue.fields[HT];return Ip(e)?kd(e):e}function Cc(i){const e=Ss(i.mapValue.fields[FT].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,s,o,c,u,m,g,p,b,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=b,this.apiKey=w}}const ad="(default)";class Nc{constructor(e,n){this.projectId=e,this.database=n||ad}static empty(){return new Nc("","")}get isDefaultDatabase(){return this.database===ad}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}function X4(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new de(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(i.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__type__",J4="__max__",Ih={mapValue:{}},KT="__vector__",od="value";function Rs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ip(i)?4:Z4(i)?9007199254740991:W4(i)?10:11:Ae(28295,{value:i})}function Zi(i,e){if(i===e)return!0;const n=Rs(i);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Cc(i).isEqual(Cc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Ss(o.timestampValue),m=Ss(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return As(o.bytesValue).isEqual(As(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Tt(o.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Tt(o.integerValue)===Tt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Tt(o.doubleValue),m=Tt(c.doubleValue);return u===m?sd(u)===sd(m):isNaN(u)&&isNaN(m)}return!1})(i,e);case 9:return jo(i.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(qb(u)!==qb(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!Zi(u[g],m[g])))return!1;return!0})(i,e);default:return Ae(52216,{left:i})}}function Ic(i,e){return(i.values||[]).find((n=>Zi(n,e)))!==void 0}function Vo(i,e){if(i===e)return 0;const n=Rs(i),s=Rs(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=Tt(c.integerValue||c.doubleValue),g=Tt(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return Fb(i.timestampValue,e.timestampValue);case 4:return Fb(Cc(i),Cc(e));case 5:return Vg(i.stringValue,e.stringValue);case 6:return(function(c,u){const m=As(c),g=As(u);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),g=u.split("/");for(let p=0;p<m.length&&p<g.length;p++){const b=Be(m[p],g[p]);if(b!==0)return b}return Be(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=Be(Tt(c.latitude),Tt(u.latitude));return m!==0?m:Be(Tt(c.longitude),Tt(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Gb(i.arrayValue,e.arrayValue);case 10:return(function(c,u){var x,k,G,B;const m=c.fields||{},g=u.fields||{},p=(x=m[od])==null?void 0:x.arrayValue,b=(k=g[od])==null?void 0:k.arrayValue,w=Be(((G=p==null?void 0:p.values)==null?void 0:G.length)||0,((B=b==null?void 0:b.values)==null?void 0:B.length)||0);return w!==0?w:Gb(p,b)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Ih.mapValue&&u===Ih.mapValue)return 0;if(c===Ih.mapValue)return 1;if(u===Ih.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),p=u.fields||{},b=Object.keys(p);g.sort(),b.sort();for(let w=0;w<g.length&&w<b.length;++w){const x=Vg(g[w],b[w]);if(x!==0)return x;const k=Vo(m[g[w]],p[b[w]]);if(k!==0)return k}return Be(g.length,b.length)})(i.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function Fb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const n=Ss(i),s=Ss(e),o=Be(n.seconds,s.seconds);return o!==0?o:Be(n.nanos,s.nanos)}function Gb(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Vo(n[o],s[o]);if(c)return c}return Be(n.length,s.length)}function Lo(i){return Lg(i)}function Lg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Ss(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return As(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Te.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Lg(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${Lg(n.fields[u])}`;return o+"}"})(i.mapValue):Ae(61005,{value:i})}function Hh(i){switch(Rs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kd(i);return e?16+Hh(e):16;case 5:return 2*i.stringValue.length;case 6:return As(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Hh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ds(s.fields,((c,u)=>{o+=c.length+Hh(u)})),o})(i.mapValue);default:throw Ae(13486,{value:i})}}function Kb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Pg(i){return!!i&&"integerValue"in i}function Dp(i){return!!i&&"arrayValue"in i}function Yb(i){return!!i&&"nullValue"in i}function $b(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fh(i){return!!i&&"mapValue"in i}function W4(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[GT])==null?void 0:s.stringValue)===KT}function _c(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ds(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=_c(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(i.arrayValue.values[n]);return e}return{...i}}function Z4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===J4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=en.emptyPath(),s={},o=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}u?s[m.lastSegment()]=_c(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ds(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new wn(_c(this.value))}}function YT(i){const e=[];return Ds(i.fields,((n,s)=>{const o=new en([n]);if(Fh(s)){const c=YT(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,s,o,c,u,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Re.min(),Re.min(),Re.min(),wn.empty(),0)}static newFoundDocument(e,n,s,o){return new an(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new an(e,2,n,Re.min(),Re.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Re.min(),Re.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.position=e,this.inclusive=n}}function Qb(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?s=Te.comparator(Te.fromName(u.referenceValue),n.key):s=Vo(u,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n="asc"){this.field=e,this.dir=n}}function eO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{}class Vt extends $T{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new nO(e,n,s):n==="array-contains"?new sO(e,s):n==="in"?new aO(e,s):n==="not-in"?new oO(e,s):n==="array-contains-any"?new lO(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new iO(e,s):new rO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vo(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends $T{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _i(e,n)}matches(e){return QT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QT(i){return i.op==="and"}function XT(i){return tO(i)&&QT(i)}function tO(i){for(const e of i.filters)if(e instanceof _i)return!1;return!0}function Ug(i){if(i instanceof Vt)return i.field.canonicalString()+i.op.toString()+Lo(i.value);if(XT(i))return i.filters.map((e=>Ug(e))).join(",");{const e=i.filters.map((n=>Ug(n))).join(",");return`${i.op}(${e})`}}function JT(i,e){return i instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Zi(s.value,o.value)})(i,e):i instanceof _i?(function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,m)=>c&&JT(u,o.filters[m])),!0):!1})(i,e):void Ae(19439)}function WT(i){return i instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(i):i instanceof _i?(function(n){return n.op.toString()+" {"+n.getFilters().map(WT).join(" ,")+"}"})(i):"Filter"}class nO extends Vt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class iO extends Vt{constructor(e,n){super(e,"in",n),this.keys=ZT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class rO extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=ZT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZT(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Te.fromName(s.referenceValue)))}class sO extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&Ic(n.arrayValue,this.value)}}class aO extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ic(this.value.arrayValue,n)}}class oO extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ic(this.value.arrayValue,n)}}class lO extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ic(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n=null,s=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function Jb(i,e=null,n=[],s=[],o=null,c=null,u=null){return new cO(i,e,n,s,o,c,u)}function Op(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ug(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Lo(s))).join(",")),e.Te=n}return e.Te}function kp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!eO(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!JT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Xb(i.startAt,e.startAt)&&Xb(i.endAt,e.endAt)}function zg(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n=null,s=[],o=[],c=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uO(i,e,n,s,o,c,u,m){return new Hc(i,e,n,s,o,c,u,m)}function Mp(i){return new Hc(i)}function Wb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function hO(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function ex(i){return i.collectionGroup!==null}function bc(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Bt(en.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new cd(c,s))})),n.has(en.keyField().canonicalString())||e.Ie.push(new cd(en.keyField(),s))}return e.Ie}function Qi(i){const e=Ne(i);return e.Ee||(e.Ee=dO(e,bc(i))),e.Ee}function dO(i,e){if(i.limitType==="F")return Jb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new cd(o.field,c)}));const n=i.endAt?new ld(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ld(i.startAt.position,i.startAt.inclusive):null;return Jb(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Bg(i,e){const n=i.filters.concat([e]);return new Hc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function qg(i,e,n){return new Hc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Md(i,e){return kp(Qi(i),Qi(e))&&i.limitType===e.limitType}function tx(i){return`${Op(Qi(i))}|lt:${i.limitType}`}function To(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>WT(o))).join(", ")}]`),Od(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${s})`})(Qi(i))}; limitType=${i.limitType})`}function jd(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Te.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of bc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(u,m,g){const p=Qb(u,m,g);return u.inclusive?p<=0:p<0})(s.startAt,bc(s),o)||s.endAt&&!(function(u,m,g){const p=Qb(u,m,g);return u.inclusive?p>=0:p>0})(s.endAt,bc(s),o))})(i,e)}function fO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function nx(i){return(e,n)=>{let s=!1;for(const o of bc(i)){const c=mO(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function mO(i,e,n){const s=i.field.isKeyField()?Te.comparator(e.key,n.key):(function(c,u,m){const g=u.data.field(c),p=m.data.field(c);return g!==null&&p!==null?Vo(g,p):Ae(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new gt(Te.comparator);function Nr(){return gO}const ix=new gt(Te.comparator);function mc(...i){let e=ix;for(const n of i)e=e.insert(n.key,n);return e}function rx(i){let e=ix;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ga(){return Ec()}function sx(){return Ec()}function Ec(){return new Ca((i=>i.toString()),((i,e)=>i.isEqual(e)))}const pO=new gt(Te.comparator),yO=new Bt(Te.comparator);function qe(...i){let e=yO;for(const n of i)e=e.add(n);return e}const vO=new Bt(Be);function _O(){return vO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function ax(i){return{integerValue:""+i}}function bO(i,e){return G4(e)?ax(e):jp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function EO(i,e,n){return i instanceof ud?(function(o,c){const u={fields:{[qT]:{stringValue:BT},[FT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ip(c)&&(c=kd(c)),c&&(u.fields[HT]=c),{mapValue:u}})(n,e):i instanceof Dc?lx(i,e):i instanceof Oc?cx(i,e):(function(o,c){const u=ox(o,c),m=Zb(u)+Zb(o.Ae);return Pg(u)&&Pg(o.Ae)?ax(m):jp(o.serializer,m)})(i,e)}function wO(i,e,n){return i instanceof Dc?lx(i,e):i instanceof Oc?cx(i,e):n}function ox(i,e){return i instanceof hd?(function(s){return Pg(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class ud extends Vd{}class Dc extends Vd{constructor(e){super(),this.elements=e}}function lx(i,e){const n=ux(e);for(const s of i.elements)n.some((o=>Zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Oc extends Vd{constructor(e){super(),this.elements=e}}function cx(i,e){let n=ux(e);for(const s of i.elements)n=n.filter((o=>!Zi(o,s)));return{arrayValue:{values:n}}}class hd extends Vd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Zb(i){return Tt(i.integerValue||i.doubleValue)}function ux(i){return Dp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function TO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Dc&&o instanceof Dc||s instanceof Oc&&o instanceof Oc?jo(s.elements,o.elements,Zi):s instanceof hd&&o instanceof hd?Zi(s.Ae,o.Ae):s instanceof ud&&o instanceof ud})(i.transform,e.transform)}class xO{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ld{}function hx(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Vp(i.key,Jn.none()):new Fc(i.key,i.data,Jn.none());{const n=i.data,s=wn.empty();let o=new Bt(en.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new Os(i.key,s,new On(o.toArray()),Jn.none())}}function SO(i,e,n){i instanceof Fc?(function(o,c,u){const m=o.value.clone(),g=tE(o.fieldTransforms,c,u.transformResults);m.setAll(g),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Os?(function(o,c,u){if(!Gh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=tE(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(dx(o)),g.setAll(m),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(i,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function wc(i,e,n,s){return i instanceof Fc?(function(c,u,m,g){if(!Gh(c.precondition,u))return m;const p=c.value.clone(),b=nE(c.fieldTransforms,g,u);return p.setAll(b),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof Os?(function(c,u,m,g){if(!Gh(c.precondition,u))return m;const p=nE(c.fieldTransforms,g,u),b=u.data;return b.setAll(dx(c)),b.setAll(p),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(i,e,n,s):(function(c,u,m){return Gh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(i,e,n)}function AO(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=ox(s.transform,o||null);c!=null&&(n===null&&(n=wn.empty()),n.set(s.field,c))}return n||null}function eE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,((c,u)=>TO(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Fc extends Ld{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Os extends Ld{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dx(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function tE(i,e,n){const s=new Map;Xe(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const c=i[o],u=c.transform,m=e.data.field(c.field);s.set(c.field,wO(u,m,n[o]))}return s}function nE(i,e,n){const s=new Map;for(const o of i){const c=o.transform,u=n.data.field(o.field);s.set(o.field,EO(c,u,e))}return s}class Vp extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RO extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&SO(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=wc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=wc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=sx();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(o.key)?null:m;const g=hx(u,m);g!==null&&s.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((n,s)=>eE(n,s)))&&jo(this.baseMutations,e.baseMutations,((n,s)=>eE(n,s)))}}class Lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return pO})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new Lp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Fe;function DO(i){switch(i){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function fx(i){if(i===void 0)return Cr("GRPC error has no .code"),ie.UNKNOWN;switch(i){case jt.OK:return ie.OK;case jt.CANCELLED:return ie.CANCELLED;case jt.UNKNOWN:return ie.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ie.INTERNAL;case jt.UNAVAILABLE:return ie.UNAVAILABLE;case jt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case jt.NOT_FOUND:return ie.NOT_FOUND;case jt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case jt.ABORTED:return ie.ABORTED;case jt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case jt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:i})}}(Fe=jt||(jt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Es([4294967295,4294967295],0);function iE(i){const e=OO().encode(i),n=new CT;return n.update(e),new Uint8Array(n.digest())}function rE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Es([n,s],0),new Es([o,c],0)]}class Pp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new gc(`Invalid padding: ${n}`);if(s<0)throw new gc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new gc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new gc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Es.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Es.fromNumber(s)));return o.compare(kO)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iE(e),[s,o]=rE(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Pp(c,o,n);return s.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=iE(e),[s,o]=rE(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Pd(Re.min(),o,new gt(Be),Nr(),qe())}}class Gc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Gc(s,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class mx{constructor(e,n){this.targetId=e,this.Ce=n}}class gx{constructor(e,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class sE{constructor(){this.ve=0,this.Fe=aE(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:c})}})),new Gc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=aE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class MO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.He=Dh(),this.Je=Dh(),this.Ze=new gt(Be)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(zg(c))if(s===0){const u=new Te(c.path);this.et(n,u,an.newNoDocument(u,Re.min()))}else Xe(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let u,m;try{u=As(s).toUint8Array()}catch(g){if(g instanceof zT)return Ea("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Pp(u,o,c)}catch(g){return Ea(g instanceof gc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&zg(m.target)){const g=new Te(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,an.newNoDocument(g,e))}c.Be&&(n.set(u,c.ke()),c.Ke())}}));let s=qe();this.Je.forEach(((c,u)=>{let m=!0;u.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Pd(e,n,this.Ze,this.je,s);return this.je=Nr(),this.He=Dh(),this.Je=Dh(),this.Ze=new gt(Be),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new sE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Bt(Be),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Bt(Be),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dh(){return new gt(Te.comparator)}function aE(){return new gt(Te.comparator)}const jO={asc:"ASCENDING",desc:"DESCENDING"},VO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LO={and:"AND",or:"OR"};class PO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hg(i,e){return i.useProto3Json||Od(e)?e:{value:e}}function dd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function px(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function UO(i,e){return dd(i,e.toTimestamp())}function Xi(i){return Xe(!!i,49232),Re.fromTimestamp((function(n){const s=Ss(n);return new ht(s.seconds,s.nanos)})(i))}function Up(i,e){return Fg(i,e).canonicalString()}function Fg(i,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function yx(i){const e=lt.fromString(i);return Xe(wx(e),10190,{key:e.toString()}),e}function Gg(i,e){return Up(i.databaseId,e.path)}function gg(i,e){const n=yx(e);if(n.get(1)!==i.databaseId.projectId)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Te(_x(n))}function vx(i,e){return Up(i.databaseId,e)}function zO(i){const e=yx(i);return e.length===4?lt.emptyPath():_x(e)}function Kg(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _x(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function oE(i,e,n){return{name:Gg(i,e),fields:n.value.mapValue.fields}}function BO(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,b){return p.useProto3Json?(Xe(b===void 0||typeof b=="string",58123),tn.fromBase64String(b||"")):(Xe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),tn.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(p){const b=p.code===void 0?ie.UNKNOWN:fx(p.code);return new de(b,p.message||"")})(u);n=new gx(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gg(i,s.document.name),c=Xi(s.document.updateTime),u=s.document.createTime?Xi(s.document.createTime):Re.min(),m=new wn({mapValue:{fields:s.document.fields}}),g=an.newFoundDocument(o,c,u,m),p=s.targetIds||[],b=s.removedTargetIds||[];n=new Kh(p,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gg(i,s.document),c=s.readTime?Xi(s.readTime):Re.min(),u=an.newNoDocument(o,c),m=s.removedTargetIds||[];n=new Kh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gg(i,s.document),c=s.removedTargetIds||[];n=new Kh([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new IO(o,c),m=s.targetId;n=new mx(m,u)}}return n}function qO(i,e){let n;if(e instanceof Fc)n={update:oE(i,e.key,e.value)};else if(e instanceof Vp)n={delete:Gg(i,e.key)};else if(e instanceof Os)n={update:oE(i,e.key,e.data),updateMask:JO(e.fieldMask)};else{if(!(e instanceof RO))return Ae(16599,{dt:e.type});n={verify:Gg(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const m=u.transform;if(m instanceof ud)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Dc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Oc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hd)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:UO(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(i,e.precondition)),n}function HO(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((n=>(function(o,c){let u=o.updateTime?Xi(o.updateTime):Xi(c);return u.isEqual(Re.min())&&(u=Xi(c)),new xO(u,o.transformResults||[])})(n,e)))):[]}function FO(i,e){return{documents:[vx(i,e.path)]}}function GO(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vx(i,o);const c=(function(p){if(p.length!==0)return Ex(_i.create(p,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(p){if(p.length!==0)return p.map((b=>(function(x){return{field:xo(x.field),direction:$O(x.dir)}})(b)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Hg(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function KO(i){let e=zO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=(function(w){const x=bx(w);return x instanceof _i&&XT(x)?x.getFilters():[x]})(n.where));let u=[];n.orderBy&&(u=(function(w){return w.map((x=>(function(G){return new cd(So(G.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let x;return x=typeof w=="object"?w.value:w,Od(x)?null:x})(n.limit));let g=null;n.startAt&&(g=(function(w){const x=!!w.before,k=w.values||[];return new ld(k,x)})(n.startAt));let p=null;return n.endAt&&(p=(function(w){const x=!w.before,k=w.values||[];return new ld(k,x)})(n.endAt)),uO(e,o,u,c,m,"F",g,p)}function YO(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bx(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=So(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=So(n.unaryFilter.field);return Vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=So(n.unaryFilter.field);return Vt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Vt.create(So(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return _i.create(n.compositeFilter.filters.map((s=>bx(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(i):Ae(30097,{filter:i})}function $O(i){return jO[i]}function QO(i){return VO[i]}function XO(i){return LO[i]}function xo(i){return{fieldPath:i.canonicalString()}}function So(i){return en.fromServerFormat(i.fieldPath)}function Ex(i){return i instanceof Vt?(function(n){if(n.op==="=="){if($b(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(Yb(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($b(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(Yb(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:QO(n.op),value:n.value}}})(i):i instanceof _i?(function(n){const s=n.getFilters().map((o=>Ex(o)));return s.length===1?s[0]:{compositeFilter:{op:XO(n.op),filters:s}}})(i):Ae(54877,{filter:i})}function JO(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function wx(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function Tx(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,s,o,c=Re.min(),u=Re.min(),m=tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.yt=e}}function ZO(i){const e=KO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.Sn=new tk}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(xs.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class tk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Bt(lt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xx=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(xx,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Po(0)}static ar(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",nk=1048576;function uE([i,e],[n,s]){const o=Be(i,n);return o===0?Be(e,s):o}class ik{constructor(e){this.Pr=e,this.buffer=new Bt(uE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();uE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(cE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?me(cE,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Ar(3e5)}))}}class sk{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Dd.ce);const s=new ik(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(lE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,u,m,g,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(p=Date.now(),wo()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-b}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(p-g)+`ms
Total Duration: ${p-b}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function ak(i,e){return new sk(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.changes=new Ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&wc(s.mutation,o,On.empty(),ht.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=qe()){const o=ga();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let u=mc();return c.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=ga();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,qe())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,s,o){let c=Nr();const u=Ec(),m=(function(){return Ec()})();return n.forEach(((g,p)=>{const b=s.get(p.key);o.has(p.key)&&(b===void 0||b.mutation instanceof Os)?c=c.insert(p.key,p):b!==void 0?(u.set(p.key,b.mutation.getFieldMask()),wc(b.mutation,p,b.mutation.getFieldMask(),ht.now())):u.set(p.key,On.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((p,b)=>u.set(p,b))),n.forEach(((p,b)=>m.set(p,new lk(b,u.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ec();let o=new gt(((u,m)=>u-m)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let b=s.get(g)||On.empty();b=m.applyToLocalView(p,b),s.set(g,b);const w=(o.get(m.batchId)||qe()).add(g);o=o.insert(m.batchId,w)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,b=g.value,w=sx();b.forEach((x=>{if(!c.has(x)){const k=hx(n.get(x),s.get(x));k!==null&&w.set(x,k),c=c.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return re.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return hO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ex(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):re.resolve(ga());let m=Rc,g=c;return u.next((p=>re.forEach(p,((b,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(b)?re.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{g=g.insert(b,x)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,g,p,qe()))).next((b=>({batchId:m,changes:rx(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let o=mc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let u=mc();return this.indexManager.getCollectionParents(e,c).next((m=>re.forEach(m,(g=>{const p=(function(w,x){return new Hc(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((b=>{b.forEach(((w,x)=>{u=u.insert(w,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((u=>{c.forEach(((g,p)=>{const b=p.getKey();u.get(b)===null&&(u=u.insert(b,an.newInvalidDocument(b)))}));let m=mc();return u.forEach(((g,p)=>{const b=c.get(g);b!==void 0&&wc(b.mutation,p,On.empty(),ht.now()),jd(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Xi(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:ZO(o.bundledQuery),readTime:Xi(o.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.overlays=new gt(Te.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ga();return re.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=ga(),c=n.length+1,u=new Te(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new gt(((p,b)=>p-b));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let b=c.get(p.largestBatchId);b===null&&(b=ga(),c=c.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const m=ga(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,b)=>m.set(p,b))),!(m.size()>=o)););return re.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new NO(n,s));let c=this.Lr.get(n);c===void 0&&(c=qe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.kr=new Bt(Kt.Kr),this.qr=new Bt(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Kt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Kt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Te(new lt([])),s=new Kt(n,e),o=new Kt(n,e+1),c=[];return this.qr.forEachInRange([s,o],(u=>{this.Wr(u),c.push(u.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new lt([])),s=new Kt(n,e),o=new Kt(n,e+1);let c=qe();return this.qr.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new Kt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||Be(e.Hr,n.Hr)}static Ur(e,n){return Be(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Bt(Kt.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new CO(c,n,s,o);this.mutationQueue.push(u);for(const m of o)this.Jr=this.Jr.add(new Kt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Np:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Kt(n,0),o=new Kt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(u=>{const m=this.Zr(u.Hr);c.push(m)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(Be);return n.forEach((o=>{const c=new Kt(o,0),u=new Kt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,u],(m=>{s=s.add(m.Hr)}))})),re.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;Te.isDocumentKey(c)||(c=c.child(""));const u=new Kt(new Te(c),0);let m=new Bt(Be);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),u),re.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return re.forEach(n.mutations,(o=>{const c=new Kt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Kt(n,0),o=this.Jr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.ti=e,this.docs=(function(){return new gt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=Nr();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Nr();const u=n.path,m=new Te(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:b}}=g.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||B4(z4(b),s)<=0||(o.has(b.key)||jd(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ni(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new gk(this)}getSize(e){return re.resolve(this.size)}}class gk extends ok{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.persistence=e,this.ri=new Ca((n=>Op(n)),kp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new zp,this.targetCount=0,this.oi=Po._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((u,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(c).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),re.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this._i={},this.overlays={},this.ai=new Dd(0),this.ui=!1,this.ui=!0,this.ci=new dk,this.referenceDelegate=e(this),this.li=new pk(this),this.indexManager=new ek,this.remoteDocumentCache=(function(o){return new mk(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new WO(n),this.Pi=new uk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new fk(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new yk(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return re.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class yk extends H4{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Ri=new zp,this.Ai=null}static Vi(e){return new Bp(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(s=>{const o=Te.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Re.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.fi=new Ca((s=>K4(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ak(this,n)}static Vi(e,n){return new fd(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?re.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((m=>{m||(s++,c.removeEntry(u,Re.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hh(e.data.value)),n}wr(e,n,s){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=qe(),o=qe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new qp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return x2()?8:F4(on())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new vk;return this.ys(e,n,u).next((m=>{if(c.result=m,this.As)return this.ws(e,n,u,m.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(wo()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(wo()<=ze.DEBUG&&me("QueryEngine","Query:",To(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(wo()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):re.resolve())}gs(e,n){if(Wb(n))return re.resolve(null);let s=Qi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=qg(n,null,"F"),s=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=qe(...c);return this.fs.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,u,g.readTime)?this.gs(e,qg(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return Wb(n)||o.isEqual(Re.min())?re.resolve(null):this.fs.getDocuments(e,s).next((c=>{const u=this.bs(n,c);return this.Ss(n,u,s,o)?re.resolve(null):(wo()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(n)),this.Ds(e,u,n,U4(o,Rc)).next((m=>m)))}))}bs(e,n){let s=new Bt(nx(e));return n.forEach(((o,c)=>{jd(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return wo()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",To(n)),this.fs.getDocumentsMatchingQuery(e,n,xs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="LocalStore",bk=3e8;class Ek{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new gt(Be),this.Fs=new Ca((c=>Op(c)),kp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ck(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function wk(i,e,n,s){return new Ek(i,e,n,s)}async function Ax(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],m=[];let g=qe();for(const p of o){u.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}for(const p of c){m.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:m})))}))}))}function Tk(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,b){const w=p.batch,x=w.keys();let k=re.resolve();return x.forEach((G=>{k=k.next((()=>b.getEntry(g,G))).next((B=>{const V=p.docVersions.get(G);Xe(V!==null,48541),B.version.compareTo(V)<0&&(w.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),b.addEntry(B)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(g,w)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=qe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Rx(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function xk(i,e){const n=Ne(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((b,w)=>{const x=o.get(w);if(!x)return;m.push(n.li.removeMatchingKeys(c,b.removedDocuments,w).next((()=>n.li.addMatchingKeys(c,b.addedDocuments,w))));let k=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(tn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,s)),o=o.insert(w,k),(function(B,V,Z){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=bk?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(x,k,b)&&m.push(n.li.updateTargetData(c,k))}));let g=Nr(),p=qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))})),m.push(Sk(c,u,e.documentUpdates).next((b=>{g=b.Bs,p=b.Ls}))),!s.isEqual(Re.min())){const b=n.li.getLastRemoteSnapshotVersion(c).next((w=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(b)}return re.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,p))).next((()=>g))})).then((c=>(n.vs=o,c)))}function Sk(i,e,n){let s=qe(),o=qe();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let u=Nr();return n.forEach(((m,g)=>{const p=c.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):me(Hp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:u,Ls:o}}))}function Ak(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Rk(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,re.resolve(o)):n.li.allocateTargetId(s).next((u=>(o=new ys(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Yg(i,e,n){const s=Ne(i),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Xo(u))throw u;me(Hp,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function hE(i,e,n){const s=Ne(i);let o=Re.min(),c=qe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,p,b){const w=Ne(g),x=w.Fs.get(b);return x!==void 0?re.resolve(w.vs.get(x)):w.li.getTargetData(p,b)})(s,u,Qi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,m.targetId).next((g=>{c=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?o:Re.min(),n?c:qe()))).next((m=>(Ck(s,fO(e),m),{documents:m,ks:c})))))}function Ck(i,e,n){let s=i.Ms.get(e)||Re.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Ms.set(e,s)}class dE{constructor(){this.activeTargetIds=_O()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nk{constructor(){this.vo=new dE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new dE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="ConnectivityMonitor";class mE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(fE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh=null;function $g(){return Oh===null?Oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oh++,"0x"+Oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="RestConnection",Dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Ok{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===ad?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const u=$g(),m=this.Qo(e,n.toUriEncodedString());me(pg,`Sending RPC '${e}' ${u}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:p}=new URL(m),b=Fo(p);return this.zo(e,m,g,s,b).then((w=>(me(pg,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Ea(pg,`RPC '${e}' ${u} failed with error: `,w,"url: ",m,"request:",s),w}))}jo(e,n,s,o,c,u){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=Dk[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection",lc=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Do extends Ok{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Do.c_){const e=OT();lc(e,DT.STAT_EVENT,(n=>{n.stat===jg.PROXY?me(rn,"STAT_EVENT: detected buffering proxy"):n.stat===jg.NOPROXY&&me(rn,"STAT_EVENT: detected no buffering proxy")})),Do.c_=!0}}zo(e,n,s,o,c){const u=$g();return new Promise(((m,g)=>{const p=new NT;p.setWithCredentials(!0),p.listenOnce(IT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qh.NO_ERROR:const w=p.getResponseJson();me(rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),m(w);break;case qh.TIMEOUT:me(rn,`RPC '${e}' ${u} timed out`),g(new de(ie.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const x=p.getStatus();if(me(rn,`RPC '${e}' ${u} failed with status:`,x,"response text:",p.getResponseText()),x>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k==null?void 0:k.error;if(G&&G.status&&G.message){const B=(function(Z){const X=Z.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(X)>=0?X:ie.UNKNOWN})(G.status);g(new de(B,G.message))}else g(new de(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new de(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(rn,`RPC '${e}' ${u} completed.`)}}));const b=JSON.stringify(o);me(rn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=$g(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=c.join("");me(rn,`Creating RPC '${e}' stream ${o}: ${p}`,m);const b=u.createWebChannel(p,m);this.I_(b);let w=!1,x=!1;const k=new kk({Ho:G=>{x?me(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(w||(me(rn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),me(rn,`RPC '${e}' stream ${o} sending:`,G),b.send(G))},Jo:()=>b.close()});return lc(b,fc.EventType.OPEN,(()=>{x||(me(rn,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),lc(b,fc.EventType.CLOSE,(()=>{x||(x=!0,me(rn,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(b))})),lc(b,fc.EventType.ERROR,(G=>{x||(x=!0,Ea(rn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),k.o_(new de(ie.UNAVAILABLE,"The operation could not be completed")))})),lc(b,fc.EventType.MESSAGE,(G=>{var B;if(!x){const V=G.data[0];Xe(!!V,16349);const Z=V,X=(Z==null?void 0:Z.error)||((B=Z[0])==null?void 0:B.error);if(X){me(rn,`RPC '${e}' stream ${o} received error:`,X);const U=X.status;let ce=(function(C){const A=jt[C];if(A!==void 0)return fx(A)})(U),fe=X.message;U==="NOT_FOUND"&&fe.includes("database")&&fe.includes("does not exist")&&fe.includes(this.databaseId.database)&&Ea(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ce===void 0&&(ce=ie.INTERNAL,fe="Unknown error status: "+U+" with message "+X.message),x=!0,k.o_(new de(ce,fe)),b.close()}else me(rn,`RPC '${e}' stream ${o} received:`,V),k.__(V)}})),Do.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return kT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(i){return new Do(i)}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(i){return new PO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Do.c_=!1;class Cx{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="PersistentStream";class Nx{constructor(e,n,s,o,c,u,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new de(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(gE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jk extends Nx{constructor(e,n,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BO(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Re.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Xi(u.readTime):Re.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Kg(this.serializer),n.addTarget=(function(c,u){let m;const g=u.target;if(m=zg(g)?{documents:FO(c,g)}:{query:GO(c,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=px(c,u.resumeToken);const p=Hg(c,u.expectedCount);p!==null&&(m.expectedCount=p)}else if(u.snapshotVersion.compareTo(Re.min())>0){m.readTime=dd(c,u.snapshotVersion.toTimestamp());const p=Hg(c,u.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=YO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Kg(this.serializer),n.removeTarget=e,this.K_(n)}}class Vk extends Nx{constructor(e,n,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HO(e.writeResults,e.commitTime),s=Xi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Kg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>qO(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{}class Pk extends Lk{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Wo(e,Fg(n,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ie.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.jo(e,Fg(n,s),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Uk(i,e,n,s){return new Pk(i,e,n,s)}class zk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class Bk{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Na(this)&&(me(wa,"Restarting streams for network reachability change."),await(async function(g){const p=Ne(g);p.Ea.add(4),await Kc(p),p.Va.set("Unknown"),p.Ea.delete(4),await zd(p)})(this))}))})),this.Va=new zk(s,o)}}async function zd(i){if(Na(i))for(const e of i.Ra)await e(!0)}async function Kc(i){for(const e of i.Ra)await e(!1)}function Ix(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yp(n)?Kp(n):Jo(n).O_()&&Gp(n,e))}function Fp(i,e){const n=Ne(i),s=Jo(n);n.Ia.delete(e),s.O_()&&Dx(n,e),n.Ia.size===0&&(s.O_()?s.L_():Na(n)&&n.Va.set("Unknown"))}function Gp(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(i).Z_(e)}function Dx(i,e){i.da.$e(e),Jo(i).X_(e)}function Kp(i){i.da=new MO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Jo(i).start(),i.Va.ua()}function Yp(i){return Na(i)&&!Jo(i).x_()&&i.Ia.size>0}function Na(i){return Ne(i).Ea.size===0}function Ox(i){i.da=void 0}async function qk(i){i.Va.set("Online")}async function Hk(i){i.Ia.forEach(((e,n)=>{Gp(i,e)}))}async function Fk(i,e){Ox(i),Yp(i)?(i.Va.ha(e),Kp(i)):i.Va.set("Unknown")}async function Gk(i,e,n){if(i.Va.set("Online"),e instanceof gx&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){me(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await md(i,s)}else if(e instanceof Kh?i.da.Xe(e):e instanceof mx?i.da.st(e):i.da.tt(e),!n.isEqual(Re.min()))try{const s=await Rx(i.localStore);n.compareTo(s)>=0&&await(function(c,u){const m=c.da.Tt(u);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ia.get(p);b&&c.Ia.set(p,b.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,p)=>{const b=c.Ia.get(g);if(!b)return;c.Ia.set(g,b.withResumeToken(tn.EMPTY_BYTE_STRING,b.snapshotVersion)),Dx(c,g);const w=new ys(b.target,g,p,b.sequenceNumber);Gp(c,w)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){me(wa,"Failed to raise snapshot:",s),await md(i,s)}}async function md(i,e,n){if(!Xo(e))throw e;i.Ea.add(1),await Kc(i),i.Va.set("Offline"),n||(n=()=>Rx(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{me(wa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await zd(i)}))}function kx(i,e){return e().catch((n=>md(i,n,e)))}async function Bd(i){const e=Ne(i),n=Cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;Kk(e);)try{const o=await Ak(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Yk(e,o)}catch(o){await md(e,o)}Mx(e)&&jx(e)}function Kk(i){return Na(i)&&i.Ta.length<10}function Yk(i,e){i.Ta.push(e);const n=Cs(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function Mx(i){return Na(i)&&!Cs(i).x_()&&i.Ta.length>0}function jx(i){Cs(i).start()}async function $k(i){Cs(i).ra()}async function Qk(i){const e=Cs(i);for(const n of i.Ta)e.ea(n.mutations)}async function Xk(i,e,n){const s=i.Ta.shift(),o=Lp.from(s,e,n);await kx(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Bd(i)}async function Jk(i,e){e&&Cs(i).Y_&&await(async function(s,o){if((function(u){return DO(u)&&u!==ie.ABORTED})(o.code)){const c=s.Ta.shift();Cs(s).B_(),await kx(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Bd(s)}})(i,e),Mx(i)&&jx(i)}async function pE(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),me(wa,"RemoteStore received new credentials");const s=Na(n);n.Ea.add(3),await Kc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zd(n)}async function Wk(i,e){const n=Ne(i);e?(n.Ea.delete(2),await zd(n)):e||(n.Ea.add(2),await Kc(n),n.Va.set("Unknown"))}function Jo(i){return i.ma||(i.ma=(function(n,s,o){const c=Ne(n);return c.sa(),new jk(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:qk.bind(null,i),Yo:Hk.bind(null,i),t_:Fk.bind(null,i),J_:Gk.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Yp(i)?Kp(i):i.Va.set("Unknown")):(await i.ma.stop(),Ox(i))}))),i.ma}function Cs(i){return i.fa||(i.fa=(function(n,s,o){const c=Ne(n);return c.sa(),new Vk(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$k.bind(null,i),t_:Jk.bind(null,i),ta:Qk.bind(null,i),na:Xk.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Bd(i)):(await i.fa.stop(),i.Ta.length>0&&(me(wa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const u=Date.now()+s,m=new $p(e,n,u,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(i,e){if(Cr("AsyncQueue",`${e}: ${i}`),Xo(i))return new de(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=mc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.ga=new gt(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Uo{constructor(e,n,s,o,c,u,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new Uo(e,n,Oo.emptySet(n),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class eM{constructor(){this.queries=vE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ne(n),c=o.queries;o.queries=vE(),c.forEach(((u,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new de(ie.ABORTED,"Firestore shutting down"))}}function vE(){return new Ca((i=>tx(i)),Md)}async function Vx(i,e){const n=Ne(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new Zk,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const m=Qp(u,`Initialization of query '${To(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Xp(n)}async function Lx(i,e){const n=Ne(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const u=c.ba.indexOf(e);u>=0&&(c.ba.splice(u,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tM(i,e){const n=Ne(i);let s=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const m of u.ba)m.Fa(o)&&(s=!0);u.wa=o}}s&&Xp(n)}function nM(i,e,n){const s=Ne(i),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function Xp(i){i.Ca.forEach((e=>{e.next()}))}var Qg,_E;(_E=Qg||(Qg={})).Ma="default",_E.Cache="cache";class Px{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.key=e}}class zx{constructor(e){this.key=e}}class iM{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=nx(e),this.tu=new Oo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new yE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,w)=>{const x=o.get(b),k=jd(this.query,w)?w:null,G=!!x&&this.mutatedKeys.has(x.key),B=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;x&&k?x.data.isEqual(k.data)?G!==B&&(s.track({type:3,doc:k}),V=!0):this.su(x,k)||(s.track({type:2,doc:k}),V=!0,(g&&this.eu(k,g)>0||p&&this.eu(k,p)<0)&&(m=!0)):!x&&k?(s.track({type:0,doc:k}),V=!0):x&&!k&&(s.track({type:1,doc:x}),V=!0,(g||p)&&(m=!0)),V&&(k?(u=u.add(k),c=B?c.add(b):c.delete(b)):(u=u.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const b=this.query.limitType==="F"?u.last():u.first();u=u.delete(b.key),c=c.delete(b.key),s.track({type:1,doc:b})}return{tu:u,iu:s,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((b,w)=>(function(k,G){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:V})}};return B(k)-B(G)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,u.length!==0||p?{snapshot:new Uo(this.query,e.tu,c,u,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new zx(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new Ux(s))})),n}cu(e){this.Za=e.ks,this.Ya=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jp="SyncEngine";class rM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class sM{constructor(e){this.key=e,this.hu=!1}}class aM{constructor(e,n,s,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ca((m=>tx(m)),Md),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(Te.comparator),this.Au=new Map,this.Vu=new zp,this.du={},this.mu=new Map,this.fu=Po.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oM(i,e,n=!0){const s=Kx(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Bx(s,e,n,!0),o}async function lM(i,e){const n=Kx(i);await Bx(n,e,!0,!1)}async function Bx(i,e,n,s){const o=await Rk(i.localStore,Qi(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await cM(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ix(i.remoteStore,o),m}async function cM(i,e,n,s,o){i.pu=(w,x,k)=>(async function(B,V,Z,X){let U=V.view.ru(Z);U.Ss&&(U=await hE(B.localStore,V.query,!1).then((({documents:C})=>V.view.ru(C,U))));const ce=X&&X.targetChanges.get(V.targetId),fe=X&&X.targetMismatches.get(V.targetId)!=null,ge=V.view.applyChanges(U,B.isPrimaryClient,ce,fe);return EE(B,V.targetId,ge.au),ge.snapshot})(i,w,x,k);const c=await hE(i.localStore,e,!0),u=new iM(e,c.ks),m=u.ru(c.documents),g=Gc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=u.applyChanges(m,i.isPrimaryClient,g);EE(i,n,p.au);const b=new rM(e,n,u);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function uM(i,e,n){const s=Ne(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!Md(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Yg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fp(s.remoteStore,o.targetId),Xg(s,o.targetId)})).catch(Qo)):(Xg(s,o.targetId),await Yg(s.localStore,o.targetId,!0))}async function hM(i,e){const n=Ne(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fp(n.remoteStore,s.targetId))}async function dM(i,e,n){const s=_M(i);try{const o=await(function(u,m){const g=Ne(u),p=ht.now(),b=m.reduce(((k,G)=>k.add(G.key)),qe());let w,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let G=Nr(),B=qe();return g.xs.getEntries(k,b).next((V=>{G=V,G.forEach(((Z,X)=>{X.isValidDocument()||(B=B.add(Z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,G))).next((V=>{w=V;const Z=[];for(const X of m){const U=AO(X,w.get(X.key).overlayedDocument);U!=null&&Z.push(new Os(X.key,U,YT(U.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,p,Z,m)})).next((V=>{x=V;const Z=V.applyToLocalDocumentSet(w,B);return g.documentOverlayCache.saveOverlays(k,V.batchId,Z)}))})).then((()=>({batchId:x.batchId,changes:rx(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,m,g){let p=u.du[u.currentUser.toKey()];p||(p=new gt(Be)),p=p.insert(m,g),u.du[u.currentUser.toKey()]=p})(s,o.batchId,n),await Yc(s,o.changes),await Bd(s.remoteStore)}catch(o){const c=Qp(o,"Failed to persist write");n.reject(c)}}async function qx(i,e){const n=Ne(i);try{const s=await xk(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Xe(u.hu,14607):o.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await Yc(n,s,e)}catch(s){await Qo(s)}}function bE(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const g=Ne(u);g.onlineState=m;let p=!1;g.queries.forEach(((b,w)=>{for(const x of w.ba)x.va(m)&&(p=!0)})),p&&Xp(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fM(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new gt(Te.comparator);u=u.insert(c,an.newNoDocument(c,Re.min()));const m=qe().add(c),g=new Pd(Re.min(),new Map,new gt(Be),u,m);await qx(s,g),s.Ru=s.Ru.remove(c),s.Au.delete(e),Wp(s)}else await Yg(s.localStore,e,!1).then((()=>Xg(s,e,n))).catch(Qo)}async function mM(i,e){const n=Ne(i),s=e.batch.batchId;try{const o=await Tk(n.localStore,e);Fx(n,s,null),Hx(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yc(n,o)}catch(o){await Qo(o)}}async function gM(i,e,n){const s=Ne(i);try{const o=await(function(u,m){const g=Ne(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return g.mutationQueue.lookupMutationBatch(p,m).next((w=>(Xe(w!==null,37113),b=w.keys(),g.mutationQueue.removeMutationBatch(p,w)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>g.localDocuments.getDocuments(p,b)))}))})(s.localStore,e);Fx(s,e,n),Hx(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Yc(s,o)}catch(o){await Qo(o)}}function Hx(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Fx(i,e,n){const s=Ne(i);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Xg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||Gx(i,s)}))}function Gx(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Fp(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),Wp(i))}function EE(i,e,n){for(const s of n)s instanceof Ux?(i.Vu.addReference(s.key,e),pM(i,s)):s instanceof zx?(me(Jp,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||Gx(i,s.key)):Ae(19791,{wu:s})}function pM(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(me(Jp,"New document in limbo: "+n),i.Eu.add(s),Wp(i))}function Wp(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Te(lt.fromString(e)),s=i.fu.next();i.Au.set(s,new sM(n)),i.Ru=i.Ru.insert(n,s),Ix(i.remoteStore,new ys(Qi(Mp(n.path)),s,"TargetPurposeLimboResolution",Dd.ce))}}async function Yc(i,e,n){const s=Ne(i),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{u.push(s.pu(g,e,n).then((p=>{var b;if((p||n)&&s.isPrimaryClient){const w=p?!p.fromCache:(b=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(p){o.push(p);const w=qp.Es(g.targetId,p);c.push(w)}})))})),await Promise.all(u),s.Pu.J_(o),await(async function(g,p){const b=Ne(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>re.forEach(p,(x=>re.forEach(x.Ts,(k=>b.persistence.referenceDelegate.addReference(w,x.targetId,k))).next((()=>re.forEach(x.Is,(k=>b.persistence.referenceDelegate.removeReference(w,x.targetId,k)))))))))}catch(w){if(!Xo(w))throw w;me(Hp,"Failed to update sequence numbers: "+w)}for(const w of p){const x=w.targetId;if(!w.fromCache){const k=b.vs.get(x),G=k.snapshotVersion,B=k.withLastLimboFreeSnapshotVersion(G);b.vs=b.vs.insert(x,B)}}})(s.localStore,c))}async function yM(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){me(Jp,"User change. New user:",e.toKey());const s=await Ax(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new de(ie.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yc(n,s.Ns)}}function vM(i,e){const n=Ne(i),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let o=qe();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const m=n.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function Kx(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=qx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fM.bind(null,e),e.Pu.J_=tM.bind(null,e.eventManager),e.Pu.yu=nM.bind(null,e.eventManager),e}function _M(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gM.bind(null,e),e}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wk(this.persistence,new _k,e.initialUser,this.serializer)}Cu(e){return new Sx(Bp.Vi,this.serializer)}Du(e){return new Nk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class bM extends gd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof fd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Sx((s=>fd.Vi(s,n)),this.serializer)}}class Jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>bE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yM.bind(null,this.syncEngine),await Wk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eM})()}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),s=Mk(e.databaseInfo);return Uk(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,u,m){return new Bk(s,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>bE(this.syncEngine,n,0)),(function(){return mE.v()?new mE:new Ik})())}createSyncEngine(e,n){return(function(o,c,u,m,g,p,b){const w=new aM(o,c,u,m,g,p);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=Ne(o);me(wa,"RemoteStore shutting down."),c.Ea.add(5),await Kc(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Jg.provider={build:()=>new Jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class EM{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{me(Ns,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(me(Ns,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Qp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function vg(i,e){i.asyncQueue.verifyOperationInProgress(),me(Ns,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Ax(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function wE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await wM(i);me(Ns,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>pE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>pE(e.remoteStore,o))),i._onlineComponents=e}async function wM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(Ns,"Using user provided OfflineComponentProvider");try{await vg(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ea("Error using user provided cache. Falling back to memory cache: "+n),await vg(i,new gd)}}else me(Ns,"Using default OfflineComponentProvider"),await vg(i,new bM(void 0));return i._offlineComponents}async function $x(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(Ns,"Using user provided OnlineComponentProvider"),await wE(i,i._uninitializedComponentsProvider._online)):(me(Ns,"Using default OnlineComponentProvider"),await wE(i,new Jg))),i._onlineComponents}function TM(i){return $x(i).then((e=>e.syncEngine))}async function Qx(i){const e=await $x(i),n=e.eventManager;return n.onListen=oM.bind(null,e.syncEngine),n.onUnlisten=uM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hM.bind(null,e.syncEngine),n}function xM(i,e,n={}){const s=new xr;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,p){const b=new Yx({next:x=>{b.Nu(),u.enqueueAndForget((()=>Lx(c,w)));const k=x.docs.has(m);!k&&x.fromCache?p.reject(new de(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&x.fromCache&&g&&g.source==="server"?p.reject(new de(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new Px(Mp(m.path),b,{includeMetadataChanges:!0,Ka:!0});return Vx(c,w)})(await Qx(i),i.asyncQueue,e,n,s))),s.promise}function SM(i,e,n={}){const s=new xr;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,p){const b=new Yx({next:x=>{b.Nu(),u.enqueueAndForget((()=>Lx(c,w))),x.fromCache&&g.source==="server"?p.reject(new de(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new Px(m,b,{includeMetadataChanges:!0,Ka:!0});return Vx(c,w)})(await Qx(i),i.asyncQueue,e,n,s))),s.promise}function AM(i,e){const n=new xr;return i.asyncQueue.enqueueAndForget((async()=>dM(await TM(i),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="ComponentProvider",TE=new Map;function CM(i,e,n,s,o){return new Q4(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Xx(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firestore.googleapis.com",xE=!0;class SE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jx,this.ssl=xE}else this.host=e.host,this.ssl=e.ssl??xE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nk)throw new de(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new C4;switch(s.type){case"firstParty":return new O4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=TE.get(n);s&&(me(RM,"Removing Datastore"),TE.delete(n),s.terminate())})(this),Promise.resolve()}}function NM(i,e,n,s={}){var p;i=vi(i,qd);const o=Fo(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(_w(`https://${m}`),bw("Firestore",!0)),c.host!==Jx&&c.host!==m&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:s};if(!Ts(g,u)&&(i._setSettings(g),s.mockUserToken)){let b,w;if(typeof s.mockUserToken=="string")b=s.mockUserToken,w=sn.MOCK_USER;else{b=p2(s.mockUserToken,(p=i._app)==null?void 0:p.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new de(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new sn(x)}i._authCredentials=new N4(new jT(b,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wo(this.firestore,e,this._query)}}class xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(qc(n,xt._jsonSchema))return new xt(e,s||null,new Te(lt.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Lt("string",xt._jsonSchemaVersion),referencePath:Lt("string")};class ws extends Wo{constructor(e,n,s){super(e,n,Mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new Te(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function jn(i,e,...n){if(i=St(i),VT("collection","path",e),i instanceof qd){const s=lt.fromString(e,...n);return Pb(s),new ws(i,null,s)}{if(!(i instanceof xt||i instanceof ws))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...n));return Pb(s),new ws(i.firestore,null,s)}}function fn(i,e,...n){if(i=St(i),arguments.length===1&&(e=Cp.newId()),VT("doc","path",e),i instanceof qd){const s=lt.fromString(e,...n);return Lb(s),new xt(i,null,new Te(s))}{if(!(i instanceof xt||i instanceof ws))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...n));return Lb(s),new xt(i.firestore,i instanceof ws?i.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cx(this,"async_queue_retry"),this._c=()=>{const s=yg();s&&me(AE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;me(AE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",CE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=$p.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:CE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ia extends qd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new RE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function IM(i,e){const n=typeof i=="object"?i:dp(),s=typeof i=="string"?i:ad,o=Aa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=m2("firestore");c&&NM(o,...c)}return o}function Zp(i){if(i._terminated)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||DM(i),i._firestoreClient}function DM(i){var s,o,c,u;const e=i._freezeSettings(),n=CM(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,(o=i._app)==null?void 0:o.options.apiKey,e);i._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new EM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(tn.fromBase64String(e))}catch(n){throw new de(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qc(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Lt("string",Qn._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(qc(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Lt("string",Ji._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qc(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new mi(e.vectorValues);throw new de(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Lt("string",mi._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/^__.*__$/;class kM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fc(e,this.data,n,this.fieldTransforms)}}class Wx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:i})}}class ny{constructor(e,n,s,o,c,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ny({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return pd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Zx(this.dataSource)&&OM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class MM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ud(e)}createContext(e,n,s,o=!1){return new ny({dataSource:e,methodName:n,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(i){const e=i._freezeSettings(),n=Ud(i._databaseId);return new MM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function e1(i,e,n,s,o,c={}){const u=i.createContext(c.merge||c.mergeFields?2:0,e,n,o);iy("Data must be an object, but it was:",u,s);const m=t1(s,u);let g,p;if(c.merge)g=new On(u.fieldMask),p=u.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const x=zo(e,w,n);if(!u.contains(x))throw new de(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);r1(b,x)||b.push(x)}g=new On(b),p=u.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,p=u.fieldTransforms;return new kM(new wn(m),g,p)}class Fd extends ty{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function jM(i,e,n,s){const o=i.createContext(1,e,n);iy("Data must be an object, but it was:",o,s);const c=[],u=wn.empty();Ds(s,((g,p)=>{const b=i1(e,g,n);p=St(p);const w=o.childContextForFieldPath(b);if(p instanceof Fd)c.push(b);else{const x=$c(p,w);x!=null&&(c.push(b),u.set(b,x))}}));const m=new On(c);return new Wx(u,m,o.fieldTransforms)}function VM(i,e,n,s,o,c){const u=i.createContext(1,e,n),m=[zo(e,s,n)],g=[o];if(c.length%2!=0)throw new de(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)m.push(zo(e,c[x])),g.push(c[x+1]);const p=[],b=wn.empty();for(let x=m.length-1;x>=0;--x)if(!r1(p,m[x])){const k=m[x];let G=g[x];G=St(G);const B=u.childContextForFieldPath(k);if(G instanceof Fd)p.push(k);else{const V=$c(G,B);V!=null&&(p.push(k),b.set(k,V))}}const w=new On(p);return new Wx(b,w,u.fieldTransforms)}function LM(i,e,n,s=!1){return $c(n,i.createContext(s?4:3,e))}function $c(i,e){if(n1(i=St(i)))return iy("Unsupported field value:",e,i),t1(i,e);if(i instanceof ty)return(function(s,o){if(!Zx(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const m of s){let g=$c(m,o.childContextForArray(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=St(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ht.fromDate(s);return{timestampValue:dd(o.serializer,c)}}if(s instanceof ht){const c=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dd(o.serializer,c)}}if(s instanceof Ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:px(o.serializer,s._byteString)};if(s instanceof xt){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mi)return(function(u,m){const g=u instanceof mi?u.toArray():u;return{mapValue:{fields:{[GT]:{stringValue:KT},[od]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return jp(m.serializer,b)}))}}}}}})(s,o);if(Tx(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Id(s)}`)})(i,e)}function t1(i,e){const n={};return UT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(i,((s,o)=>{const c=$c(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function n1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ht||i instanceof Ji||i instanceof Qn||i instanceof xt||i instanceof ty||i instanceof mi||Tx(i))}function iy(i,e,n){if(!n1(n)||!LT(n)){const s=Id(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function zo(i,e,n){if((e=St(e))instanceof ey)return e._internalPath;if(typeof e=="string")return i1(i,e);throw pd("Field path arguments must be of type string or ",i,!1,void 0,n)}const PM=new RegExp("[~\\*/\\[\\]]");function i1(i,e,n){if(e.search(PM)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ey(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function pd(i,e,n,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${s}`),u&&(g+=` in document ${o}`),g+=")"),new de(ie.INVALID_ARGUMENT,m+i+g)}function r1(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ds(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){var s,o,c;const n=(c=(o=(s=e.fields)==null?void 0:s[od].arrayValue)==null?void 0:o.values)==null?void 0:c.map((u=>Tt(u.doubleValue)));return new mi(n)}convertGeoPoint(e){return new Ji(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=kd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);Xe(wx(s),9688,{name:e});const o=new Nc(s.get(1),s.get(3)),c=new Te(s.popFirst(5));return o.isEqual(n)||Cr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}const NE="@firebase/firestore",IE="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(zo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zM extends a1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class qM extends ry{}function HM(i,e,...n){let s=[];e instanceof ry&&s.push(e),s=s.concat(n),(function(c){const u=c.filter((g=>g instanceof sy)).length,m=c.filter((g=>g instanceof Gd)).length;if(u>1||u>0&&m>0)throw new de(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Gd extends qM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Gd(e,n,s)}_apply(e){const n=this._parse(e);return o1(e._query,n),new Wo(e.firestore,e.converter,Bg(e._query,n))}_parse(e){const n=Hd(e.firestore);return(function(c,u,m,g,p,b,w){let x;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new de(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){OE(w,b);const G=[];for(const B of w)G.push(DE(g,c,B));x={arrayValue:{values:G}}}else x=DE(g,c,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||OE(w,b),x=LM(m,u,w,b==="in"||b==="not-in");return Vt.create(p,b,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function FM(i,e,n){const s=e,o=zo("where",i);return Gd._create(o,s,n)}class sy extends ry{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sy(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:_i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const g of m)o1(u,g),u=Bg(u,g)})(e._query,n),new Wo(e.firestore,e.converter,Bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DE(i,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new de(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ex(e)&&n.indexOf("/")!==-1)throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!Te.isDocumentKey(s))throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Kb(i,new Te(s))}if(n instanceof xt)return Kb(i,n._key);throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(n)}.`)}function OE(i,e){if(!Array.isArray(i)||i.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o1(i,e){const n=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function l1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends a1{constructor(e,n,s,o,c,u){super(e,n,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Lt("string",pa._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Yh extends pa{data(e={}){return super.data(e)}}class ko{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new pc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Yh(this._firestore,this._userDataWriter,s.key,s,new pc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const g=new Yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,b=-1;return m.type!==0&&(p=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),b=u.indexOf(m.doc.key)),{type:GM(m.type),doc:g,oldIndex:p,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:Lt("string",ko._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(i){i=vi(i,xt);const e=vi(i.firestore,Ia),n=Zp(e);return xM(n,i._key).then((s=>YM(e,i,s)))}function Da(i){i=vi(i,Wo);const e=vi(i.firestore,Ia),n=Zp(e),s=new s1(e);return BM(i._query),SM(n,i._query).then((o=>new ko(e,s,i,o)))}function KM(i,e,n){i=vi(i,xt);const s=vi(i.firestore,Ia),o=l1(i.converter,e),c=Hd(s);return Kd(s,[e1(c,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Jn.none())])}function Qc(i,e,n,...s){i=vi(i,xt);const o=vi(i.firestore,Ia),c=Hd(o);let u;return u=typeof(e=St(e))=="string"||e instanceof ey?VM(c,"updateDoc",i._key,e,n,s):jM(c,"updateDoc",i._key,e),Kd(o,[u.toMutation(i._key,Jn.exists(!0))])}function Zo(i){return Kd(vi(i.firestore,Ia),[new Vp(i._key,Jn.none())])}function el(i,e){const n=vi(i.firestore,Ia),s=fn(i),o=l1(i.converter,e),c=Hd(i.firestore);return Kd(n,[e1(c,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function Kd(i,e){const n=Zp(i);return AM(n,e)}function YM(i,e,n){const s=n.docs.get(e._key),o=new s1(i);return new pa(i,o,e._key,s,new pc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){R4(Go),Wi(new pi("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),m=new Ia(new I4(s.getProvider("auth-internal")),new k4(u,s.getProvider("app-check-internal")),X4(u,o),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Xn(NE,IE,e),Xn(NE,IE,"esm2020")})();const $M={apiKey:"AIzaSyDV2NEJJhMeUcyAibp972Iz279O0f1yt4s",authDomain:"sprint-master-57675.firebaseapp.com",projectId:"sprint-master-57675",storageBucket:"sprint-master-57675.firebasestorage.app",messagingSenderId:"653613311116",appId:"1:653613311116:web:079f2a806273cba5cd07a9",measurementId:"G-8J1JB783C9"},ay=Sw($M);T4().then(i=>{i&&E4(ay)});const _g=tD(ay),ot=IM(ay),u1=D.createContext(void 0);function QM({children:i}){const[e,n]=D.useState(null),[s,o]=D.useState(!0);D.useEffect(()=>HN(_g,async g=>{if(g)try{const p=fn(ot,"users",g.uid),b=await c1(p);if(b.exists()){const w=b.data();b.id==="AAlznCj00vNpekjZpLc4a9f67E03"&&(w.role="admin"),n({id:b.id,...w})}else{console.log("User not found by UID, trying email lookup for:",g.email);let w=null;if(g.email){const x=HM(jn(ot,"users"),FM("email","==",g.email)),k=await Da(x);if(!k.empty){const G=k.docs[0];w={id:G.id,...G.data()},console.log("User found by email:",w)}}if(w)n(w);else{console.warn("User document not found in Firestore for UID or Email:",g.uid);let x="client",k="";g.uid==="AAlznCj00vNpekjZpLc4a9f67E03"?x="admin":g.uid==="laIe3SMHQjFOfEf7KPYl6YmdUlMQx2"&&(x="client",k="org-fiduciaire"),n({id:g.uid,name:g.displayName||"User",email:g.email||"",role:x,organizationId:k})}}}catch(p){console.error("Error fetching user data:",p),n(null)}else n(null);o(!1)}),[]);const c=async(m,g)=>{await zN(_g,m,g)},u=async()=>{await FN(_g),n(null)};return y.jsx(u1.Provider,{value:{currentUser:e,loading:s,login:c,logout:u},children:!s&&i})}function Oa(){const i=D.useContext(u1);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),kE=i=>{const e=JM(i);return e.charAt(0).toUpperCase()+e.slice(1)},h1=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),WM=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=D.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:u,...m},g)=>D.createElement("svg",{ref:g,...ZM,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:h1("lucide",o),...!c&&!WM(m)&&{"aria-hidden":"true"},...m},[...u.map(([p,b])=>D.createElement(p,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(i,e)=>{const n=D.forwardRef(({className:s,...o},c)=>D.createElement(e6,{ref:c,iconNode:e,className:h1(`lucide-${XM(kE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=kE(i),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],n6=Je("arrow-right",t6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],d1=Je("award",i6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],kc=Je("building-2",r6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],a6=Je("building",s6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mc=Je("calendar",o6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Wg=Je("chart-column",l6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],u6=Je("chevron-down",c6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],d6=Je("chevron-up",h6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],f1=Je("circle-alert",f6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],g6=Je("download",m6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],y6=Je("external-link",p6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ta=Je("file-text",v6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],b6=Je("hash",_6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ME=Je("layout-dashboard",E6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],T6=Je("link",w6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],S6=Je("lock",x6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],R6=Je("log-out",A6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],m1=Je("mail",C6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],I6=Je("menu",N6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jc=Je("plus",D6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],g1=Je("search",O6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],p1=Je("square-check-big",k6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Yd=Je("square-pen",M6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],V6=Je("star",j6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],xa=Je("timer",L6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xc=Je("trash-2",P6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],z6=Je("triangle-alert",U6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],q6=Je("trophy",B6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$d=Je("users",H6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ir=Je("x",F6);function y1(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(n=y1(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function G6(){for(var i,e,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(e=y1(i))&&(s&&(s+=" "),s+=e);return s}const K6=(i,e)=>{const n=new Array(i.length+e.length);for(let s=0;s<i.length;s++)n[s]=i[s];for(let s=0;s<e.length;s++)n[i.length+s]=e[s];return n},Y6=(i,e)=>({classGroupId:i,validator:e}),v1=(i=new Map,e=null,n)=>({nextPart:i,validators:e,classGroupId:n}),yd="-",jE=[],$6="arbitrary..",Q6=i=>{const e=J6(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=i;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return X6(u);const m=u.split(yd),g=m[0]===""&&m.length>1?1:0;return _1(m,g,e)},getConflictingClassGroupIds:(u,m)=>{if(m){const g=s[u],p=n[u];return g?p?K6(p,g):g:p||jE}return n[u]||jE}}},_1=(i,e,n)=>{if(i.length-e===0)return n.classGroupId;const o=i[e],c=n.nextPart.get(o);if(c){const p=_1(i,e+1,c);if(p)return p}const u=n.validators;if(u===null)return;const m=e===0?i.join(yd):i.slice(e).join(yd),g=u.length;for(let p=0;p<g;p++){const b=u[p];if(b.validator(m))return b.classGroupId}},X6=i=>i.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=i.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?$6+s:void 0})(),J6=i=>{const{theme:e,classGroups:n}=i;return W6(n,e)},W6=(i,e)=>{const n=v1();for(const s in i){const o=i[s];oy(o,n,s,e)}return n},oy=(i,e,n,s)=>{const o=i.length;for(let c=0;c<o;c++){const u=i[c];Z6(u,e,n,s)}},Z6=(i,e,n,s)=>{if(typeof i=="string"){ej(i,e,n);return}if(typeof i=="function"){tj(i,e,n,s);return}nj(i,e,n,s)},ej=(i,e,n)=>{const s=i===""?e:b1(e,i);s.classGroupId=n},tj=(i,e,n,s)=>{if(ij(i)){oy(i(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(Y6(n,i))},nj=(i,e,n,s)=>{const o=Object.entries(i),c=o.length;for(let u=0;u<c;u++){const[m,g]=o[u];oy(g,b1(e,m),n,s)}},b1=(i,e)=>{let n=i;const s=e.split(yd),o=s.length;for(let c=0;c<o;c++){const u=s[c];let m=n.nextPart.get(u);m||(m=v1(),n.nextPart.set(u,m)),n=m}return n},ij=i=>"isThemeGetter"in i&&i.isThemeGetter===!0,rj=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const o=(c,u)=>{n[c]=u,e++,e>i&&(e=0,s=n,n=Object.create(null))};return{get(c){let u=n[c];if(u!==void 0)return u;if((u=s[c])!==void 0)return o(c,u),u},set(c,u){c in n?n[c]=u:o(c,u)}}},Zg="!",VE=":",sj=[],LE=(i,e,n,s,o)=>({modifiers:i,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:o}),aj=i=>{const{prefix:e,experimentalParseClassName:n}=i;let s=o=>{const c=[];let u=0,m=0,g=0,p;const b=o.length;for(let B=0;B<b;B++){const V=o[B];if(u===0&&m===0){if(V===VE){c.push(o.slice(g,B)),g=B+1;continue}if(V==="/"){p=B;continue}}V==="["?u++:V==="]"?u--:V==="("?m++:V===")"&&m--}const w=c.length===0?o:o.slice(g);let x=w,k=!1;w.endsWith(Zg)?(x=w.slice(0,-1),k=!0):w.startsWith(Zg)&&(x=w.slice(1),k=!0);const G=p&&p>g?p-g:void 0;return LE(c,k,x,G)};if(e){const o=e+VE,c=s;s=u=>u.startsWith(o)?c(u.slice(o.length)):LE(sj,!1,u,void 0,!0)}if(n){const o=s;s=c=>n({className:c,parseClassName:o})}return s},oj=i=>{const e=new Map;return i.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let o=[];for(let c=0;c<n.length;c++){const u=n[c],m=u[0]==="[",g=e.has(u);m||g?(o.length>0&&(o.sort(),s.push(...o),o=[]),s.push(u)):o.push(u)}return o.length>0&&(o.sort(),s.push(...o)),s}},lj=i=>({cache:rj(i.cacheSize),parseClassName:aj(i),sortModifiers:oj(i),...Q6(i)}),cj=/\s+/,uj=(i,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],m=i.trim().split(cj);let g="";for(let p=m.length-1;p>=0;p-=1){const b=m[p],{isExternal:w,modifiers:x,hasImportantModifier:k,baseClassName:G,maybePostfixModifierPosition:B}=n(b);if(w){g=b+(g.length>0?" "+g:g);continue}let V=!!B,Z=s(V?G.substring(0,B):G);if(!Z){if(!V){g=b+(g.length>0?" "+g:g);continue}if(Z=s(G),!Z){g=b+(g.length>0?" "+g:g);continue}V=!1}const X=x.length===0?"":x.length===1?x[0]:c(x).join(":"),U=k?X+Zg:X,ce=U+Z;if(u.indexOf(ce)>-1)continue;u.push(ce);const fe=o(Z,V);for(let ge=0;ge<fe.length;++ge){const C=fe[ge];u.push(U+C)}g=b+(g.length>0?" "+g:g)}return g},hj=(...i)=>{let e=0,n,s,o="";for(;e<i.length;)(n=i[e++])&&(s=E1(n))&&(o&&(o+=" "),o+=s);return o},E1=i=>{if(typeof i=="string")return i;let e,n="";for(let s=0;s<i.length;s++)i[s]&&(e=E1(i[s]))&&(n&&(n+=" "),n+=e);return n},dj=(i,...e)=>{let n,s,o,c;const u=g=>{const p=e.reduce((b,w)=>w(b),i());return n=lj(p),s=n.cache.get,o=n.cache.set,c=m,m(g)},m=g=>{const p=s(g);if(p)return p;const b=uj(g,n);return o(g,b),b};return c=u,(...g)=>c(hj(...g))},fj=[],zt=i=>{const e=n=>n[i]||fj;return e.isThemeGetter=!0,e},w1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,T1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mj=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,gj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_j=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hs=i=>mj.test(i),je=i=>!!i&&!Number.isNaN(Number(i)),ds=i=>!!i&&Number.isInteger(Number(i)),bg=i=>i.endsWith("%")&&je(i.slice(0,-1)),br=i=>gj.test(i),x1=()=>!0,bj=i=>pj.test(i)&&!yj.test(i),ly=()=>!1,Ej=i=>vj.test(i),wj=i=>_j.test(i),Tj=i=>!ye(i)&&!ve(i),xj=i=>ks(i,R1,ly),ye=i=>w1.test(i),ua=i=>ks(i,C1,bj),PE=i=>ks(i,Oj,je),Sj=i=>ks(i,I1,x1),Aj=i=>ks(i,N1,ly),UE=i=>ks(i,S1,ly),Rj=i=>ks(i,A1,wj),kh=i=>ks(i,D1,Ej),ve=i=>T1.test(i),cc=i=>ka(i,C1),Cj=i=>ka(i,N1),zE=i=>ka(i,S1),Nj=i=>ka(i,R1),Ij=i=>ka(i,A1),Mh=i=>ka(i,D1,!0),Dj=i=>ka(i,I1,!0),ks=(i,e,n)=>{const s=w1.exec(i);return s?s[1]?e(s[1]):n(s[2]):!1},ka=(i,e,n=!1)=>{const s=T1.exec(i);return s?s[1]?e(s[1]):n:!1},S1=i=>i==="position"||i==="percentage",A1=i=>i==="image"||i==="url",R1=i=>i==="length"||i==="size"||i==="bg-size",C1=i=>i==="length",Oj=i=>i==="number",N1=i=>i==="family-name",I1=i=>i==="number"||i==="weight",D1=i=>i==="shadow",kj=()=>{const i=zt("color"),e=zt("font"),n=zt("text"),s=zt("font-weight"),o=zt("tracking"),c=zt("leading"),u=zt("breakpoint"),m=zt("container"),g=zt("spacing"),p=zt("radius"),b=zt("shadow"),w=zt("inset-shadow"),x=zt("text-shadow"),k=zt("drop-shadow"),G=zt("blur"),B=zt("perspective"),V=zt("aspect"),Z=zt("ease"),X=zt("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],fe=()=>[...ce(),ve,ye],ge=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],A=()=>[ve,ye,g],R=()=>[hs,"full","auto",...A()],L=()=>[ds,"none","subgrid",ve,ye],M=()=>["auto",{span:["full",ds,ve,ye]},ds,ve,ye],P=()=>[ds,"auto",ve,ye],N=()=>["auto","min","max","fr",ve,ye],Qe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],tt=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...A()],oe=()=>[hs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],te=()=>[hs,"screen","full","dvw","lvw","svw","min","max","fit",...A()],ue=()=>[hs,"screen","full","lh","dvh","lvh","svh","min","max","fit",...A()],se=()=>[i,ve,ye],O=()=>[...ce(),zE,UE,{position:[ve,ye]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",Nj,xj,{size:[ve,ye]}],he=()=>[bg,cc,ua],_e=()=>["","none","full",p,ve,ye],Ee=()=>["",je,cc,ua],Me=()=>["solid","dashed","dotted","double"],pt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ie=()=>[je,bg,zE,UE],Ti=()=>["","none",G,ve,ye],Wn=()=>["none",je,ve,ye],Zn=()=>["none",je,ve,ye],xi=()=>[je,ve,ye],ln=()=>[hs,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[br],breakpoint:[br],color:[x1],container:[br],"drop-shadow":[br],ease:["in","out","in-out"],font:[Tj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[br],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[br],shadow:[br],spacing:["px",je],text:[br],"text-shadow":[br],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",hs,ye,ve,V]}],container:["container"],columns:[{columns:[je,ye,ve,m]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:fe()}],overflow:[{overflow:ge()}],"overflow-x":[{"overflow-x":ge()}],"overflow-y":[{"overflow-y":ge()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{"inset-s":R(),start:R()}],end:[{"inset-e":R(),end:R()}],"inset-bs":[{"inset-bs":R()}],"inset-be":[{"inset-be":R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[ds,"auto",ve,ye]}],basis:[{basis:[hs,"full","auto",m,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,hs,"auto","initial","none",ye]}],grow:[{grow:["",je,ve,ye]}],shrink:[{shrink:["",je,ve,ye]}],order:[{order:[ds,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Qe(),"normal"]}],"justify-items":[{"justify-items":[...tt(),"normal"]}],"justify-self":[{"justify-self":["auto",...tt()]}],"align-content":[{content:["normal",...Qe()]}],"align-items":[{items:[...tt(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...tt(),{baseline:["","last"]}]}],"place-content":[{"place-content":Qe()}],"place-items":[{"place-items":[...tt(),"baseline"]}],"place-self":[{"place-self":["auto",...tt()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pbs:[{pbs:A()}],pbe:[{pbe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mbs:[{mbs:Q()}],mbe:[{mbe:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:oe()}],"inline-size":[{inline:["auto",...te()]}],"min-inline-size":[{"min-inline":["auto",...te()]}],"max-inline-size":[{"max-inline":["none",...te()]}],"block-size":[{block:["auto",...ue()]}],"min-block-size":[{"min-block":["auto",...ue()]}],"max-block-size":[{"max-block":["none",...ue()]}],w:[{w:[m,"screen",...oe()]}],"min-w":[{"min-w":[m,"screen","none",...oe()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[u]},...oe()]}],h:[{h:["screen","lh",...oe()]}],"min-h":[{"min-h":["screen","lh","none",...oe()]}],"max-h":[{"max-h":["screen","lh",...oe()]}],"font-size":[{text:["base",n,cc,ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Dj,Sj]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bg,ye]}],"font-family":[{font:[Cj,Aj,e]}],"font-features":[{"font-features":[ye]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ve,ye]}],"line-clamp":[{"line-clamp":[je,"none",ve,PE]}],leading:[{leading:[c,...A()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",ve,ua]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[je,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ds,ve,ye],radial:["",ve,ye],conic:[ds,ve,ye]},Ij,Rj]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:_e()}],"rounded-s":[{"rounded-s":_e()}],"rounded-e":[{"rounded-e":_e()}],"rounded-t":[{"rounded-t":_e()}],"rounded-r":[{"rounded-r":_e()}],"rounded-b":[{"rounded-b":_e()}],"rounded-l":[{"rounded-l":_e()}],"rounded-ss":[{"rounded-ss":_e()}],"rounded-se":[{"rounded-se":_e()}],"rounded-ee":[{"rounded-ee":_e()}],"rounded-es":[{"rounded-es":_e()}],"rounded-tl":[{"rounded-tl":_e()}],"rounded-tr":[{"rounded-tr":_e()}],"rounded-br":[{"rounded-br":_e()}],"rounded-bl":[{"rounded-bl":_e()}],"border-w":[{border:Ee()}],"border-w-x":[{"border-x":Ee()}],"border-w-y":[{"border-y":Ee()}],"border-w-s":[{"border-s":Ee()}],"border-w-e":[{"border-e":Ee()}],"border-w-bs":[{"border-bs":Ee()}],"border-w-be":[{"border-be":Ee()}],"border-w-t":[{"border-t":Ee()}],"border-w-r":[{"border-r":Ee()}],"border-w-b":[{"border-b":Ee()}],"border-w-l":[{"border-l":Ee()}],"divide-x":[{"divide-x":Ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-bs":[{"border-bs":se()}],"border-color-be":[{"border-be":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,ve,ye]}],"outline-w":[{outline:["",je,cc,ua]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",b,Mh,kh]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",w,Mh,kh]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:Ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[je,ua]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":Ee()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",x,Mh,kh]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[je,ve,ye]}],"mix-blend":[{"mix-blend":[...pt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[je]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ie()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":Ie()}],"mask-image-t-to-pos":[{"mask-t-to":Ie()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":Ie()}],"mask-image-r-to-pos":[{"mask-r-to":Ie()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":Ie()}],"mask-image-b-to-pos":[{"mask-b-to":Ie()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":Ie()}],"mask-image-l-to-pos":[{"mask-l-to":Ie()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":Ie()}],"mask-image-x-to-pos":[{"mask-x-to":Ie()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":Ie()}],"mask-image-y-to-pos":[{"mask-y-to":Ie()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ie()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ce()}],"mask-image-conic-pos":[{"mask-conic":[je]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ie()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:Ti()}],brightness:[{brightness:[je,ve,ye]}],contrast:[{contrast:[je,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",k,Mh,kh]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",je,ve,ye]}],"hue-rotate":[{"hue-rotate":[je,ve,ye]}],invert:[{invert:["",je,ve,ye]}],saturate:[{saturate:[je,ve,ye]}],sepia:[{sepia:["",je,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":Ti()}],"backdrop-brightness":[{"backdrop-brightness":[je,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[je,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",je,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[je,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[je,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",je,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",ve,ye]}],ease:[{ease:["linear","initial",Z,ve,ye]}],delay:[{delay:[je,ve,ye]}],animate:[{animate:["none",X,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[B,ve,ye]}],"perspective-origin":[{"perspective-origin":fe()}],rotate:[{rotate:Wn()}],"rotate-x":[{"rotate-x":Wn()}],"rotate-y":[{"rotate-y":Wn()}],"rotate-z":[{"rotate-z":Wn()}],scale:[{scale:Zn()}],"scale-x":[{"scale-x":Zn()}],"scale-y":[{"scale-y":Zn()}],"scale-z":[{"scale-z":Zn()}],"scale-3d":["scale-3d"],skew:[{skew:xi()}],"skew-x":[{"skew-x":xi()}],"skew-y":[{"skew-y":xi()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:fe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ln()}],"translate-x":[{"translate-x":ln()}],"translate-y":[{"translate-y":ln()}],"translate-z":[{"translate-z":ln()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mbs":[{"scroll-mbs":A()}],"scroll-mbe":[{"scroll-mbe":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pbs":[{"scroll-pbs":A()}],"scroll-pbe":[{"scroll-pbe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[je,cc,ua,PE]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Mj=dj(kj);function Eg(...i){return Mj(G6(i))}function jj({isOpen:i,closeSidebar:e}){const{currentUser:n}=Oa(),s=er(),m=(n==null?void 0:n.role)==="admin"?[{to:"/admin/dashboard",icon:ME,label:"Tableau de bord"},{to:"/admin/organizations",icon:kc,label:"Organisations"},{to:"/admin/users",icon:$d,label:"Utilisateurs"},{to:"/admin/sprints",icon:xa,label:"Sprints"},{to:"/admin/documents",icon:Ta,label:"Documents"},{to:"/admin/diagnostics",icon:Wg,label:"Diagnostics"}]:[{to:"/client/dashboard",icon:ME,label:"Tableau de bord"},{to:"/client/documents",icon:Ta,label:"Documents"},{to:"/client/diagnostics",icon:Wg,label:"Diagnostics"},{to:"/client/achievements",icon:d1,label:"Achievements"}];return y.jsxs(y.Fragment,{children:[i&&y.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 xl:hidden",onClick:e}),y.jsxs("aside",{className:Eg("fixed xl:static inset-y-0 left-0 z-30 bg-white border-r border-gray-200 transition-all duration-300 ease-in-out flex flex-col",i?"w-64 translate-x-0":"-translate-x-full xl:translate-x-0 xl:w-0 xl:border-none xl:overflow-hidden w-64"),children:[y.jsxs("div",{className:"h-16 flex items-center justify-between px-6 border-b border-gray-200 min-w-[16rem]",children:[y.jsxs("div",{className:"flex items-center gap-2 font-bold text-xl text-indigo-600",children:[y.jsx(xa,{className:"w-8 h-8"}),y.jsx("span",{children:"SprintMaster"})]}),y.jsx("button",{onClick:e,className:"xl:hidden text-gray-500",children:y.jsx(Ir,{className:"w-6 h-6"})})]}),y.jsx("nav",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 min-w-[16rem]",children:m.map(g=>{const p=g.icon,b=s.pathname.startsWith(g.to);return y.jsxs(fa,{to:g.to,onClick:()=>window.innerWidth<1280&&e(),className:Eg("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",b?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[y.jsx(p,{className:Eg("w-5 h-5",b?"text-indigo-600":"text-gray-500")}),g.label]},g.to)})}),y.jsx("div",{className:"p-4 border-t border-gray-200",children:y.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[y.jsx("h4",{className:"text-sm font-semibold text-indigo-900 mb-1",children:"Besoin d'aide ?"}),y.jsx("p",{className:"text-xs text-indigo-700 mb-3",children:"Contactez le support technique."}),y.jsx("button",{className:"w-full bg-indigo-600 text-white text-xs font-medium py-2 rounded-md hover:bg-indigo-700 transition-colors",children:"Contacter"})]})})]})]})}const wi=async()=>(await Da(jn(ot,"organizations"))).docs.map(e=>({id:e.id,...e.data()})),Vj=async i=>{const e=fn(ot,"organizations",i),n=await c1(e);return n.exists()?{id:n.id,...n.data()}:null},Lj=async i=>({id:(await el(jn(ot,"organizations"),i)).id,...i}),Pj=async(i,e)=>{const n=fn(ot,"organizations",i);await Qc(n,e)},Uj=async i=>{await Zo(fn(ot,"organizations",i))},O1=async i=>{let e=jn(ot,"users");return(await Da(e)).docs.map(s=>({id:s.id,...s.data()}))},zj=async(i,e)=>e?(await KM(fn(ot,"users",e),i),{id:e,...i}):{id:(await el(jn(ot,"users"),i)).id,...i},Bj=async(i,e)=>{const n=fn(ot,"users",i);await Qc(n,e)},qj=async i=>{await Zo(fn(ot,"users",i))},cy=async i=>{let e=jn(ot,"sprints");return(await Da(e)).docs.map(s=>({id:s.id,...s.data()}))},Hj=async i=>({id:(await el(jn(ot,"sprints"),i)).id,...i}),Fj=async(i,e)=>{const n=fn(ot,"sprints",i);await Qc(n,e)},Gj=async i=>{await Zo(fn(ot,"sprints",i))},k1=async i=>{let e=jn(ot,"tasks");return(await Da(e)).docs.map(s=>({id:s.id,...s.data()}))},Kj=async i=>({id:(await el(jn(ot,"tasks"),i)).id,...i}),M1=async(i,e)=>{const n=fn(ot,"tasks",i);await Qc(n,e)},BE=async i=>{await Zo(fn(ot,"tasks",i))},uy=async i=>{let e=jn(ot,"documents");return(await Da(e)).docs.map(s=>({id:s.id,...s.data()}))},Yj=async i=>({id:(await el(jn(ot,"documents"),i)).id,...i}),$j=async i=>{await Zo(fn(ot,"documents",i))},j1=async i=>{let e=jn(ot,"diagnostics");return(await Da(e)).docs.map(s=>({id:s.id,...s.data()}))},Qj=async i=>({id:(await el(jn(ot,"diagnostics"),i)).id,...i}),Xj=async(i,e)=>{const n=fn(ot,"diagnostics",i);await Qc(n,e)},Jj=async i=>{await Zo(fn(ot,"diagnostics",i))};function Wj({toggleSidebar:i}){const{currentUser:e,logout:n}=Oa();bd();const[s,o]=D.useState(!1),[c,u]=D.useState(null),[m,g]=D.useState(!1),p=D.useRef(null),b=D.useRef(null);D.useEffect(()=>{s&&(e!=null&&e.organizationId)&&!c&&(g(!0),Vj(e.organizationId).then(u).catch(console.error).finally(()=>g(!1)))},[s,e,c]),D.useEffect(()=>{const x=k=>{p.current&&!p.current.contains(k.target)&&b.current&&!b.current.contains(k.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]);const w=()=>{e!=null&&e.organizationId&&o(x=>!x)};return y.jsxs("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-6 sticky top-0 z-10",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-md",children:y.jsx(I6,{className:"w-6 h-6 text-gray-600"})}),y.jsx("h2",{className:"text-xl font-semibold text-gray-800 hidden sm:block",children:(e==null?void 0:e.role)==="admin"?"Espace Administrateur":"Espace Client"})]}),y.jsx("div",{className:"flex items-center gap-4",children:y.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200 relative",children:[y.jsxs("div",{className:"text-right hidden md:block",children:[y.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),y.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e==null?void 0:e.role})]}),y.jsx("div",{ref:b,className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold border border-indigo-200 cursor-pointer",onClick:w,children:e==null?void 0:e.name.charAt(0).toUpperCase()}),s&&(e==null?void 0:e.organizationId)&&y.jsxs("div",{ref:p,className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-lg py-2 z-20 top-full border border-gray-100",children:[y.jsx("div",{className:"px-4 py-2 text-sm font-semibold text-gray-800 border-b border-gray-100",children:"Dtails de l'Organisation"}),m?y.jsx("div",{className:"px-4 py-2 text-sm text-gray-600",children:"Chargement..."}):c?y.jsxs("div",{className:"p-4 space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[y.jsx(kc,{className:"w-4 h-4 text-indigo-600"}),y.jsx("span",{className:"font-medium",children:c.name})]}),y.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[y.jsx($d,{className:"w-4 h-4"}),y.jsxs("span",{children:["Employs: ",c.employeeCount]})]}),y.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[y.jsx(b6,{className:"w-4 h-4"}),y.jsxs("span",{children:["Numro de TVA: ",c.vatNumber]})]})]}):y.jsx("div",{className:"px-4 py-2 text-sm text-red-600",children:"Impossible de charger les dtails de l'organisation."})]}),y.jsx("button",{onClick:n,className:"ml-2 p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Se dconnecter",children:y.jsx(R6,{className:"w-5 h-5"})})]})})]})}function qE(){const[i,e]=D.useState(!1);return y.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[y.jsx(jj,{isOpen:i,closeSidebar:()=>e(!1)}),y.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[y.jsx(Wj,{toggleSidebar:()=>e(!i)}),y.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsx(xR,{})})})]})]})}function Zj(){const[i,e]=D.useState(""),[n,s]=D.useState(""),[o,c]=D.useState(""),[u,m]=D.useState(!1),[g,p]=D.useState(!1),{login:b,currentUser:w}=Oa(),x=bd();QE.useEffect(()=>{w&&(w.role==="admin"?x("/admin/dashboard"):x("/client/dashboard"))},[w,x]);const k=async G=>{G.preventDefault(),c(""),m(!0);try{await b(i,n)}catch(B){c("chec de la connexion. Vrifiez vos identifiants."),console.error(B)}finally{m(!1)}};return y.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[y.jsx("div",{className:"flex justify-center",children:y.jsx("div",{className:"rounded-full bg-indigo-100 p-3",children:y.jsx(xa,{className:"h-10 w-10 text-indigo-600"})})}),y.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"SprintMaster"}),y.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Connectez-vous  votre espace"})]}),y.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:y.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:y.jsxs("form",{className:"space-y-6",onSubmit:k,children:[o&&y.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:y.jsxs("div",{className:"flex",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx(f1,{className:"h-5 w-5 text-red-400"})}),y.jsx("div",{className:"ml-3",children:y.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse Email"}),y.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(m1,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:G=>e(G.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"vous@exemple.com"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),y.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(S6,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:G=>s(G.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:""})]})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Connexion...":"Se connecter"})})]})})})]})}function HE({children:i,allowedRoles:e}){const{currentUser:n,loading:s}=Oa(),o=er();return s?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n?e&&!e.includes(n.role)?n.role==="admin"?y.jsx(da,{to:"/admin/dashboard",replace:!0}):y.jsx(da,{to:"/client/dashboard",replace:!0}):y.jsx(y.Fragment,{children:i}):y.jsx(da,{to:"/login",state:{from:o},replace:!0})}function e3(){const[i,e]=D.useState([]),[n,s]=D.useState([]),[o,c]=D.useState([]),[u,m]=D.useState([]),[g,p]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const[x,k,G,B]=await Promise.all([O1(),wi(),cy(),uy()]);e(x),s(k),c(G),m(B)}catch(x){console.error("Error fetching dashboard data:",x)}finally{p(!1)}})()},[]);const b=[{label:"Utilisateurs",value:i.length,icon:$d,color:"bg-blue-500"},{label:"Organisations",value:n.length,icon:kc,color:"bg-indigo-500"},{label:"Sprints en cours",value:o.filter(w=>w.status==="En Cours").length,icon:xa,color:"bg-green-500"},{label:"Documents partags",value:u.length,icon:Ta,color:"bg-orange-500"}];return g?y.jsx("div",{className:"flex justify-center p-8",children:"Chargement..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tableau de bord"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:b.map(w=>y.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-gray-500",children:w.label}),y.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:w.value})]}),y.jsx("div",{className:`p-3 rounded-lg ${w.color} bg-opacity-10`,children:y.jsx(w.icon,{className:`w-6 h-6 ${w.color.replace("bg-","text-")}`})})]})},w.label))}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aperu des Sprints"}),y.jsxs(fa,{to:"/admin/sprints",className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium flex items-center gap-1",children:["Voir tout ",y.jsx(n6,{className:"w-4 h-4"})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organisation"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),y.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fin"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-200",children:o.slice(0,5).map(w=>{const x=n.find(k=>k.id===w.organizationId);return y.jsxs("tr",{children:[y.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:w.name}),y.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:(x==null?void 0:x.name)||"N/A"}),y.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                          ${w.status==="En Cours"?"bg-green-100 text-green-800":w.status==="Termin"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:w.status})}),y.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:w.endDate})]},w.id)})})]})})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Actions Rapides"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs(fa,{to:"/admin/organizations",className:"w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors text-left",children:[y.jsx("div",{className:"bg-indigo-100 p-2 rounded-md",children:y.jsx(kc,{className:"w-5 h-5 text-indigo-600"})}),y.jsx("span",{className:"font-medium text-gray-700",children:"Crer une organisation"})]}),y.jsxs(fa,{to:"/admin/sprints",className:"w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors text-left",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-md",children:y.jsx(xa,{className:"w-5 h-5 text-green-600"})}),y.jsx("span",{className:"font-medium text-gray-700",children:"Lancer un nouveau sprint"})]}),y.jsxs(fa,{to:"/admin/documents",className:"w-full flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors text-left",children:[y.jsx("div",{className:"bg-orange-100 p-2 rounded-md",children:y.jsx(Ta,{className:"w-5 h-5 text-orange-600"})}),y.jsx("span",{className:"font-medium text-gray-700",children:"Uploader un document"})]})]})]})]})]})}function t3({isOpen:i,onClose:e,onSave:n,organization:s}){const[o,c]=D.useState({name:"",type:"Client",employeeCount:0,vatNumber:""});if(D.useEffect(()=>{c(s||{name:"",type:"Client",employeeCount:0,vatNumber:""})},[s,i]),!i)return null;const u=m=>{m.preventDefault(),n({id:(s==null?void 0:s.id)||crypto.randomUUID(),...o}),e()};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 relative",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:y.jsx(Ir,{className:"w-5 h-5"})}),y.jsx("h2",{className:"text-xl font-bold mb-4",children:s?"Modifier l'organisation":"Nouvelle organisation"}),y.jsxs("form",{onSubmit:u,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),y.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.name,onChange:m=>c({...o,name:m.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),y.jsxs("select",{className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.type,onChange:m=>c({...o,type:m.target.value}),children:[y.jsx("option",{value:"Client",children:"Client"}),y.jsx("option",{value:"Prospect",children:"Prospect"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre d'employs"}),y.jsx("input",{type:"number",required:!0,min:"0",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.employeeCount,onChange:m=>c({...o,employeeCount:parseInt(m.target.value)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numro de TVA"}),y.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.vatNumber,onChange:m=>c({...o,vatNumber:m.target.value})})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),y.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Enregistrer"})]})]})]})})}function Qd({isOpen:i,onClose:e,onConfirm:n,title:s,message:o}){return i?y.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6 relative",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:y.jsx(Ir,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"bg-red-100 p-2 rounded-full flex-shrink-0",children:y.jsx(z6,{className:"w-6 h-6 text-red-600"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:s}),y.jsx("p",{className:"text-sm text-gray-500 mb-6",children:o})]})]}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),y.jsx("button",{type:"button",onClick:()=>{n(),e()},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Supprimer"})]})]})}):null}function n3(){const[i,e]=D.useState([]),[n,s]=D.useState(!0),[o,c]=D.useState(!1),[u,m]=D.useState(void 0),[g,p]=D.useState({isOpen:!1,id:""});D.useEffect(()=>{b()},[]);const b=async()=>{try{s(!0);const V=await wi();e(V)}catch(V){console.error("Error loading organizations:",V)}finally{s(!1)}},w=async V=>{try{if(u)await Pj(V.id,V),e(i.map(Z=>Z.id===V.id?V:Z));else{const{id:Z,...X}=V,U=await Lj(X);e([...i,U])}}catch(Z){console.error("Error saving organization:",Z),alert("Erreur lors de l'enregistrement de l'organisation")}},x=V=>{p({isOpen:!0,id:V})},k=async()=>{try{const V=g.id;await Uj(V),e(i.filter(Z=>Z.id!==V))}catch(V){console.error("Error deleting organization:",V),alert("Erreur lors de la suppression de l'organisation")}},G=()=>{m(void 0),c(!0)},B=V=>{m(V),c(!0)};return n?y.jsx("div",{className:"flex justify-center items-center h-64",children:"Chargement..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Organisations"}),y.jsxs("button",{onClick:G,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[y.jsx(jc,{className:"w-5 h-5 mr-2"}),"Crer une organisation"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(V=>y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"bg-indigo-50 p-3 rounded-lg",children:y.jsx(kc,{className:"w-6 h-6 text-indigo-600"})}),y.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${V.type==="Client"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:V.type})]}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:V.name}),y.jsxs("div",{className:"space-y-2 mb-6 flex-1",children:[y.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[y.jsx($d,{className:"w-4 h-4 mr-2"}),V.employeeCount," employs"]}),y.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[y.jsx("span",{className:"font-medium mr-2",children:"TVA:"}),V.vatNumber]})]}),y.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-100",children:[y.jsxs("button",{onClick:()=>B(V),className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:[y.jsx(Yd,{className:"w-4 h-4 mr-2"}),"Modifier"]}),y.jsx("button",{onClick:()=>x(V.id),className:"inline-flex justify-center items-center p-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none",children:y.jsx(Xc,{className:"w-4 h-4"})})]})]},V.id))}),y.jsx(t3,{isOpen:o,onClose:()=>c(!1),onSave:w,organization:u}),y.jsx(Qd,{isOpen:g.isOpen,onClose:()=>p({...g,isOpen:!1}),onConfirm:k,title:"Supprimer l'organisation",message:"tes-vous sr de vouloir supprimer cette organisation ? Cette action est irrversible."})]})}function i3({isOpen:i,onClose:e,onSave:n,user:s}){const[o,c]=D.useState({id:"",name:"",email:"",role:"client",organizationId:""}),[u,m]=D.useState([]);if(D.useEffect(()=>{i&&(async()=>{const b=await wi();m(b),!s&&!o.organizationId&&b.length>0&&c(w=>({...w,organizationId:b[0].id}))})()},[i]),D.useEffect(()=>{var p;c(s||{id:"",name:"",email:"",role:"client",organizationId:((p=u[0])==null?void 0:p.id)||""})},[s,i,u]),!i)return null;const g=p=>{p.preventDefault(),n({id:(s==null?void 0:s.id)||o.id||crypto.randomUUID(),name:o.name,email:o.email,role:o.role,organizationId:o.organizationId}),e()};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 relative",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:y.jsx(Ir,{className:"w-5 h-5"})}),y.jsx("h2",{className:"text-xl font-bold mb-4",children:s?"Modifier l'utilisateur":"Nouvel utilisateur"}),y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[!s&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID Utilisateur (Firebase UID)"}),y.jsx("input",{type:"text",required:!0,placeholder:"Coller l'UID Firebase ici",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.id||"",onChange:p=>c({...o,id:p.target.value})}),y.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Important: Copiez l'UID depuis la console Firebase Authentication pour lier ce compte."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),y.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.name,onChange:p=>c({...o,name:p.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),y.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.email,onChange:p=>c({...o,email:p.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rle"}),y.jsxs("select",{className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.role,onChange:p=>c({...o,role:p.target.value}),children:[y.jsx("option",{value:"client",children:"Client"}),y.jsx("option",{value:"admin",children:"Admin"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organisation"}),y.jsxs("select",{className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.organizationId,onChange:p=>c({...o,organizationId:p.target.value}),children:[y.jsx("option",{value:"",children:"Slectionner une organisation"}),u.map(p=>y.jsx("option",{value:p.id,children:p.name},p.id))]})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),y.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Enregistrer"})]})]})]})})}function r3(){const[i,e]=D.useState([]),[n,s]=D.useState([]),[o,c]=D.useState(!0),[u,m]=D.useState(!1),[g,p]=D.useState(void 0),[b,w]=D.useState({isOpen:!1,id:""});D.useEffect(()=>{x()},[]);const x=async()=>{try{c(!0);const[U,ce]=await Promise.all([O1(),wi()]);e(U),s(ce)}catch(U){console.error("Error loading data:",U)}finally{c(!1)}},k=U=>{var ce;return U?((ce=n.find(fe=>fe.id===U))==null?void 0:ce.name)||"Inconnu":"-"},G=async U=>{try{if(g)await Bj(U.id,U),e(i.map(ce=>ce.id===U.id?U:ce));else{const{id:ce,...fe}=U,ge=await zj(fe,ce);e([...i,ge])}}catch(ce){console.error("Error saving user:",ce),alert("Erreur lors de l'enregistrement de l'utilisateur")}},B=U=>{w({isOpen:!0,id:U})},V=async()=>{try{const U=b.id;await qj(U),e(i.filter(ce=>ce.id!==U))}catch(U){console.error("Error deleting user:",U),alert("Erreur lors de la suppression de l'utilisateur")}},Z=()=>{p(void 0),m(!0)},X=U=>{p(U),m(!0)};return o?y.jsx("div",{className:"flex justify-center items-center h-64",children:"Chargement..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Utilisateurs"}),y.jsxs("button",{onClick:Z,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[y.jsx(jc,{className:"w-5 h-5 mr-2"}),"Ajouter un utilisateur"]})]}),y.jsx("div",{className:"bg-white shadow-sm rounded-xl border border-gray-100 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organisation"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rle"}),y.jsx("th",{scope:"col",className:"relative px-6 py-3",children:y.jsx("span",{className:"sr-only",children:"Actions"})})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(U=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:y.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-sm",children:U.name.charAt(0).toUpperCase()})}),y.jsx("div",{className:"ml-4",children:y.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.name})})]})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[y.jsx(m1,{className:"w-4 h-4 mr-2 text-gray-400"}),U.email]})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[y.jsx(a6,{className:"w-4 h-4 mr-2 text-gray-400"}),k(U.organizationId)]})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U.role==="admin"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:U.role})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:y.jsxs("div",{className:"flex items-center justify-end gap-2",children:[y.jsx("button",{onClick:()=>X(U),className:"text-gray-400 hover:text-indigo-600",children:y.jsx(Yd,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>B(U.id),className:"text-gray-400 hover:text-red-600",children:y.jsx(Xc,{className:"w-4 h-4"})})]})})]},U.id))})]})})}),y.jsx(i3,{isOpen:u,onClose:()=>m(!1),onSave:G,user:g}),y.jsx(Qd,{isOpen:b.isOpen,onClose:()=>w({...b,isOpen:!1}),onConfirm:V,title:"Supprimer l'utilisateur",message:"tes-vous sr de vouloir supprimer cet utilisateur ?"})]})}function s3({isOpen:i,onClose:e,onSave:n,sprint:s}){const[o,c]=D.useState({name:"",organizationId:"",status:"Pas commenc",startDate:"",endDate:""}),[u,m]=D.useState([]);if(D.useEffect(()=>{i&&(async()=>{const b=await wi();m(b),!s&&!o.organizationId&&b.length>0&&c(w=>({...w,organizationId:b[0].id}))})()},[i]),D.useEffect(()=>{var p;c(s||{name:"",organizationId:((p=u[0])==null?void 0:p.id)||"",status:"Pas commenc",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]})},[s,i,u]),!i)return null;const g=p=>{p.preventDefault(),n({id:(s==null?void 0:s.id)||crypto.randomUUID(),...o}),e()};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 relative",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:y.jsx(Ir,{className:"w-5 h-5"})}),y.jsx("h2",{className:"text-xl font-bold mb-4",children:s?"Modifier le sprint":"Nouveau sprint"}),y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom du sprint"}),y.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.name,onChange:p=>c({...o,name:p.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organisation"}),y.jsxs("select",{className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.organizationId,onChange:p=>c({...o,organizationId:p.target.value}),children:[y.jsx("option",{value:"",children:"Slectionner une organisation"}),u.map(p=>y.jsx("option",{value:p.id,children:p.name},p.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),y.jsxs("select",{className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.status,onChange:p=>c({...o,status:p.target.value}),children:[y.jsx("option",{value:"Pas commenc",children:"Pas commenc"}),y.jsx("option",{value:"En Cours",children:"En Cours"}),y.jsx("option",{value:"Termin",children:"Termin"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date de dbut"}),y.jsx("input",{type:"date",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.startDate,onChange:p=>c({...o,startDate:p.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date de fin"}),y.jsx("input",{type:"date",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o.endDate,onChange:p=>c({...o,endDate:p.target.value})})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),y.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Enregistrer"})]})]})]})})}function a3({isOpen:i,onClose:e,onSave:n,sprintId:s}){const[o,c]=D.useState("");if(!i)return null;const u=m=>{m.preventDefault(),n({id:crypto.randomUUID(),sprintId:s,title:o,isCompleted:!1}),c(""),e()};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6 relative",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:y.jsx(Ir,{className:"w-5 h-5"})}),y.jsx("h2",{className:"text-xl font-bold mb-4",children:"Nouvelle tche"}),y.jsxs("form",{onSubmit:u,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Titre de la tche"}),y.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:o,onChange:m=>c(m.target.value),placeholder:"Ex: Valider les comptes..."})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),y.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Ajouter"})]})]})]})})}function o3(){const[i,e]=D.useState([]),[n,s]=D.useState([]),[o,c]=D.useState([]),[u,m]=D.useState(!0),[g,p]=D.useState(null),[b,w]=D.useState(!1),[x,k]=D.useState(void 0),[G,B]=D.useState(!1),[V,Z]=D.useState(null),[X,U]=D.useState({isOpen:!1,type:"sprint",id:""});D.useEffect(()=>{ce()},[]);const ce=async()=>{try{m(!0);const[te,ue,se]=await Promise.all([cy(),k1(),wi()]);e(te),s(ue),c(se)}catch(te){console.error("Error loading data:",te)}finally{m(!1)}},fe=te=>{var ue;return((ue=o.find(se=>se.id===te))==null?void 0:ue.name)||"Inconnu"},ge=te=>n.filter(ue=>ue.sprintId===te),C=te=>{p(g===te?null:te)},A=async te=>{try{if(x)await Fj(te.id,te),e(i.map(ue=>ue.id===te.id?te:ue));else{const{id:ue,...se}=te,O=await Hj(se);e([...i,O])}}catch(ue){console.error("Error saving sprint:",ue),alert("Erreur lors de l'enregistrement du sprint")}},R=(te,ue)=>{te.stopPropagation(),U({isOpen:!0,type:"sprint",id:ue})},L=async()=>{try{const te=X.id;await Gj(te);const ue=n.filter(se=>se.sprintId===te);await Promise.all(ue.map(se=>BE(se.id))),e(i.filter(se=>se.id!==te)),s(n.filter(se=>se.sprintId!==te))}catch(te){console.error("Error deleting sprint:",te),alert("Erreur lors de la suppression du sprint")}},M=()=>{k(void 0),w(!0)},P=(te,ue)=>{te.stopPropagation(),k(ue),w(!0)},N=async te=>{try{const{id:ue,...se}=te,O=await Kj(se);s([...n,O])}catch(ue){console.error("Error saving task:",ue),alert("Erreur lors de l'ajout de la tche")}},Qe=(te,ue)=>{te.stopPropagation(),U({isOpen:!0,type:"task",id:ue})},tt=async()=>{try{const te=X.id;await BE(te),s(n.filter(ue=>ue.id!==te))}catch(te){console.error("Error deleting task:",te),alert("Erreur lors de la suppression de la tche")}},Q=te=>{Z(te),B(!0)},oe=async te=>{const ue=n.find(O=>O.id===te);if(!ue)return;const se={...ue,isCompleted:!ue.isCompleted};s(n.map(O=>O.id===te?se:O));try{await M1(te,{isCompleted:se.isCompleted})}catch(O){console.error("Error updating task:",O),s(n.map(W=>W.id===te?ue:W)),alert("Erreur lors de la mise  jour de la tche")}};return u?y.jsx("div",{className:"flex justify-center items-center h-64",children:"Chargement..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Sprints"}),y.jsxs("button",{onClick:M,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[y.jsx(jc,{className:"w-5 h-5 mr-2"}),"Nouveau Sprint"]})]}),y.jsx("div",{className:"bg-white shadow-sm rounded-xl border border-gray-100 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sprint"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organisation"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priode"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tches"}),y.jsx("th",{className:"relative px-6 py-3",children:y.jsx("span",{className:"sr-only",children:"Actions"})})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(te=>{const ue=ge(te.id),se=ue.filter(ae=>ae.isCompleted).length,O=ue.length>0?Math.round(se/ue.length*100):0,W=g===te.id;return y.jsxs(QE.Fragment,{children:[y.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${W?"bg-gray-50":""}`,onClick:()=>C(te.id),children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:fe(te.organizationId)})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[y.jsx(Mc,{className:"w-4 h-4 mr-2 text-gray-400"}),te.startDate," - ",te.endDate]})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                          ${te.status==="En Cours"?"bg-green-100 text-green-800":te.status==="Termin"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:te.status})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"flex-1 w-24 bg-gray-200 rounded-full h-2 mr-2",children:y.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${O}%`}})}),y.jsxs("span",{className:"text-xs text-gray-500",children:[se,"/",ue.length]})]})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:y.jsxs("div",{className:"flex items-center justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:ae=>P(ae,te),className:"text-gray-400 hover:text-indigo-600 p-1 rounded-full hover:bg-indigo-50 transition-colors",children:y.jsx(Yd,{className:"w-4 h-4"})}),y.jsx("button",{type:"button",onClick:ae=>R(ae,te.id),className:"text-gray-400 hover:text-red-600 p-1 rounded-full hover:bg-red-50 transition-colors",children:y.jsx(Xc,{className:"w-4 h-4"})}),W?y.jsx(d6,{className:"w-5 h-5 text-gray-400"}):y.jsx(u6,{className:"w-5 h-5 text-gray-400"})]})})]}),W&&y.jsx("tr",{className:"bg-gray-50",children:y.jsx("td",{colSpan:6,className:"px-6 py-4",children:y.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h4",{className:"text-sm font-bold text-gray-900",children:"Tches du Sprint"}),y.jsxs("button",{onClick:()=>Q(te.id),className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium flex items-center",children:[y.jsx(jc,{className:"w-3 h-3 mr-1"})," Ajouter une tche"]})]}),ue.length>0?y.jsx("ul",{className:"space-y-2",children:ue.map(ae=>y.jsxs("li",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded-md border border-transparent hover:border-gray-100",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{onClick:()=>oe(ae.id),className:`w-5 h-5 rounded border flex items-center justify-center mr-3 cursor-pointer ${ae.isCompleted?"bg-green-500 border-green-500":"border-gray-300"}`,children:ae.isCompleted&&y.jsx(p1,{className:"w-3.5 h-3.5 text-white"})}),y.jsx("span",{onClick:()=>oe(ae.id),className:`text-sm cursor-pointer ${ae.isCompleted?"text-gray-400 line-through":"text-gray-700"}`,children:ae.title})]}),y.jsx("button",{type:"button",onClick:he=>Qe(he,ae.id),className:"text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-red-50 transition-colors",children:y.jsx(Ir,{className:"w-4 h-4"})})]},ae.id))}):y.jsx("p",{className:"text-sm text-gray-500 italic",children:"Aucune tche assigne  ce sprint."})]})})})]},te.id)})})]})})}),y.jsx(s3,{isOpen:b,onClose:()=>w(!1),onSave:A,sprint:x}),V&&y.jsx(a3,{isOpen:G,onClose:()=>B(!1),onSave:N,sprintId:V}),y.jsx(Qd,{isOpen:X.isOpen,onClose:()=>U({...X,isOpen:!1}),onConfirm:X.type==="sprint"?L:tt,title:X.type==="sprint"?"Supprimer le sprint":"Supprimer la tche",message:X.type==="sprint"?"tes-vous sr de vouloir supprimer ce sprint ? Cette action est irrversible et supprimera toutes les tches associes.":"tes-vous sr de vouloir supprimer cette tche ?"})]})}function l3({isOpen:i,onClose:e,onSave:n}){const[s,o]=D.useState([]),[c,u]=D.useState({title:"",description:"",organizationId:"",fileUrl:"#"});if(D.useEffect(()=>{i&&(async()=>{try{const p=await wi();o(p)}catch(p){console.error("Error fetching organizations:",p)}})()},[i]),!i)return null;const m=g=>{g.preventDefault(),n({id:crypto.randomUUID(),...c}),e()};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 relative",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:y.jsx(Ir,{className:"w-5 h-5"})}),y.jsx("h2",{className:"text-xl font-bold mb-4",children:"Partager un document"}),y.jsxs("form",{onSubmit:m,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Titre"}),y.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:c.title,onChange:g=>u({...c,title:g.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),y.jsx("textarea",{className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",rows:3,value:c.description,onChange:g=>u({...c,description:g.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organisation"}),y.jsxs("select",{className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:c.organizationId,onChange:g=>u({...c,organizationId:g.target.value}),children:[y.jsx("option",{value:"",children:"Slectionner une organisation"}),s.map(g=>y.jsx("option",{value:g.id,children:g.name},g.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lien du document (URL)"}),y.jsx("input",{type:"url",required:!0,placeholder:"https://...",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:c.fileUrl,onChange:g=>u({...c,fileUrl:g.target.value})})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),y.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Partager"})]})]})]})})}function c3(){const[i,e]=D.useState([]),[n,s]=D.useState([]),[o,c]=D.useState(!0),[u,m]=D.useState(""),[g,p]=D.useState(!1),[b,w]=D.useState({isOpen:!1,id:""});D.useEffect(()=>{x()},[]);const x=async()=>{try{c(!0);const[X,U]=await Promise.all([uy(),wi()]);e(X),s(U)}catch(X){console.error("Error loading data:",X)}finally{c(!1)}},k=X=>{var U;return((U=n.find(ce=>ce.id===X))==null?void 0:U.name)||"Inconnu"},G=i.filter(X=>X.title.toLowerCase().includes(u.toLowerCase())||k(X.organizationId).toLowerCase().includes(u.toLowerCase())),B=async X=>{try{const{id:U,...ce}=X,fe=await Yj(ce);e([...i,fe])}catch(U){console.error("Error saving document:",U),alert("Erreur lors de l'enregistrement du document")}},V=X=>{w({isOpen:!0,id:X})},Z=async()=>{try{const X=b.id;await $j(X),e(i.filter(U=>U.id!==X)),w({isOpen:!1,id:""})}catch(X){console.error("Error deleting document:",X),alert("Erreur lors de la suppression du document")}};return o?y.jsx("div",{className:"flex justify-center items-center h-64",children:"Chargement..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Documents"}),y.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[y.jsx(T6,{className:"w-5 h-5 mr-2"}),"Partager un lien"]})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(g1,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{type:"text",className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"Rechercher par titre ou organisation...",value:u,onChange:X=>m(X.target.value)})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(X=>y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"bg-orange-50 p-3 rounded-lg",children:y.jsx(Ta,{className:"w-6 h-6 text-orange-600"})}),y.jsx("span",{className:"text-xs font-medium text-gray-500 bg-gray-100 px-2 py-1 rounded",children:k(X.organizationId)})]}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:X.title}),y.jsx("p",{className:"text-sm text-gray-500 mb-6 flex-1",children:X.description}),y.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-100",children:[y.jsxs("a",{href:X.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:[y.jsx(y6,{className:"w-4 h-4 mr-2"}),"Ouvrir le lien"]}),y.jsx("button",{onClick:()=>V(X.id),className:"inline-flex justify-center items-center p-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none",children:y.jsx(Xc,{className:"w-4 h-4"})})]})]},X.id))}),y.jsx(l3,{isOpen:g,onClose:()=>p(!1),onSave:B}),y.jsx(Qd,{isOpen:b.isOpen,onClose:()=>w({...b,isOpen:!1}),onConfirm:Z,title:"Supprimer le document",message:"tes-vous sr de vouloir supprimer ce document ? Cette action est irrversible."})]})}function u3({isOpen:i,onClose:e,onSave:n,diagnostic:s}){const[o,c]=D.useState([]),[u,m]=D.useState({title:"",organizationId:"",date:new Date().toISOString().split("T")[0],globalScore:0,comment:"",scores:{esg:0,credit:0,cybersecurity:0,aml:0,digitalisation:0}});if(D.useEffect(()=>{i&&(async()=>{try{const w=await wi();c(w),!s&&w.length>0&&!u.organizationId&&m(x=>({...x,organizationId:w[0].id}))}catch(w){console.error("Error fetching organizations:",w)}})()},[i]),D.useEffect(()=>{m(s||(b=>({title:"",organizationId:b.organizationId||(o.length>0?o[0].id:""),date:new Date().toISOString().split("T")[0],globalScore:0,comment:"",scores:{esg:0,credit:0,cybersecurity:0,aml:0,digitalisation:0}})))},[s,i,o]),!i)return null;const g=(b,w)=>{const x={...u.scores,[b]:w},k=Object.values(x),G=Math.round(k.reduce((B,V)=>B+V,0)/k.length);m({...u,scores:x,globalScore:G})},p=b=>{b.preventDefault(),n({id:(s==null?void 0:s.id)||crypto.randomUUID(),...u}),e()};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 overflow-y-auto",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 relative my-8",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:y.jsx(Ir,{className:"w-5 h-5"})}),y.jsx("h2",{className:"text-xl font-bold mb-4",children:s?"Modifier le diagnostic":"Nouveau diagnostic"}),y.jsxs("form",{onSubmit:p,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Titre"}),y.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:u.title,onChange:b=>m({...u,title:b.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organisation"}),y.jsx("select",{className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:u.organizationId,onChange:b=>m({...u,organizationId:b.target.value}),children:o.map(b=>y.jsx("option",{value:b.id,children:b.name},b.id))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),y.jsx("input",{type:"date",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:u.date,onChange:b=>m({...u,date:b.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Score Global (Calcul)"}),y.jsx("input",{type:"number",readOnly:!0,className:"mt-1 block w-full rounded-md border border-gray-300 bg-gray-50 px-3 py-2 shadow-sm text-gray-500",value:u.globalScore})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Commentaire"}),y.jsx("textarea",{rows:3,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:u.comment,onChange:b=>m({...u,comment:b.target.value})})]}),y.jsxs("div",{className:"border-t pt-4",children:[y.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Scores par catgorie (0-100)"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.keys(u.scores||{}).map(b=>{var w;return y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:b}),y.jsx("input",{type:"number",min:"0",max:"100",required:!0,className:"block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",value:(w=u.scores)==null?void 0:w[b],onChange:x=>g(b,parseInt(x.target.value)||0)})]},b)})})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),y.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Enregistrer"})]})]})]})})}function h3(){const[i,e]=D.useState([]),[n,s]=D.useState([]),[o,c]=D.useState(!1),[u,m]=D.useState(void 0),[g,p]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const[V,Z]=await Promise.all([j1(),wi()]);e(V),s(Z)}catch(V){console.error("Error fetching diagnostics:",V)}finally{p(!1)}})()},[]);const b=B=>{var V;return((V=n.find(Z=>Z.id===B))==null?void 0:V.name)||"Inconnu"},w=async B=>{try{if(u)await Xj(B.id,B),e(i.map(V=>V.id===B.id?B:V));else{const{id:V,...Z}=B,X=await Qj(Z);e([...i,X])}c(!1)}catch(V){console.error("Error saving diagnostic:",V),alert("Erreur lors de la sauvegarde du diagnostic.")}},x=async B=>{if(confirm("tes-vous sr de vouloir supprimer ce diagnostic ?"))try{await Jj(B),e(i.filter(V=>V.id!==B))}catch(V){console.error("Error deleting diagnostic:",V),alert("Erreur lors de la suppression.")}},k=()=>{m(void 0),c(!0)},G=B=>{m(B),c(!0)};return g?y.jsx("div",{className:"flex justify-center p-8",children:"Chargement..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Diagnostics"}),y.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[y.jsx(jc,{className:"w-5 h-5 mr-2"}),"Nouveau Diagnostic"]})]}),y.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.map(B=>y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:B.title}),y.jsx("p",{className:"text-sm text-indigo-600 font-medium",children:b(B.organizationId)})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("div",{className:"flex items-center text-sm text-gray-500 mr-2",children:[y.jsx(Mc,{className:"w-4 h-4 mr-2"}),B.date]}),y.jsx("button",{onClick:()=>G(B),className:"text-gray-400 hover:text-indigo-600",children:y.jsx(Yd,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>x(B.id),className:"text-gray-400 hover:text-red-600",children:y.jsx(Xc,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Score Global"}),y.jsxs("span",{className:"text-2xl font-bold text-indigo-600",children:[B.globalScore,"/100"]})]}),y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:y.jsx("div",{className:"bg-indigo-600 h-3 rounded-full transition-all duration-500",style:{width:`${B.globalScore}%`}})}),y.jsxs("p",{className:"mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded-md italic",children:['"',B.comment,'"']})]}),y.jsxs("div",{className:"space-y-4 flex-1",children:[y.jsx("h4",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide",children:"Dtail par axe"}),Object.entries(B.scores).map(([V,Z])=>{const X=Z;return y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("span",{className:"text-sm text-gray-600 capitalize",children:V}),y.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[X,"%"]})]}),y.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:y.jsx("div",{className:`h-2 rounded-full ${X>=70?"bg-green-500":X>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${X}%`}})})]},V)})]})]},B.id))}),y.jsx(u3,{isOpen:o,onClose:()=>c(!1),onSave:w,diagnostic:u})]})}const d3=864e5,V1=6e4,L1=36e5,FE=Symbol.for("constructDateFrom");function hy(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&FE in i?i[FE](e):i instanceof Date?new i.constructor(e):new Date(e)}function vd(i,e){return hy(i,i)}function GE(i){const e=vd(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function P1(i,...e){const n=hy.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function KE(i,e){const n=vd(i);return n.setHours(0,0,0,0),n}function f3(i,e,n){const[s,o]=P1(n==null?void 0:n.in,i,e),c=KE(s),u=KE(o),m=+c-GE(c),g=+u-GE(u);return Math.round((m-g)/d3)}function wg(i,e,n){const[s,o]=P1(n==null?void 0:n.in,i,e),c=YE(s,o),u=Math.abs(f3(s,o));s.setDate(s.getDate()-c*u);const m=+(YE(s,o)===-c),g=c*(u-m);return g===0?0:g}function YE(i,e){const n=i.getFullYear()-e.getFullYear()||i.getMonth()-e.getMonth()||i.getDate()-e.getDate()||i.getHours()-e.getHours()||i.getMinutes()-e.getMinutes()||i.getSeconds()-e.getSeconds()||i.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function $E(i,e){const n=()=>hy(e==null?void 0:e.in,NaN),o=y3(i);let c;if(o.date){const p=v3(o.date,2);c=_3(p.restDateString,p.year)}if(!c||isNaN(+c))return n();const u=+c;let m=0,g;if(o.time&&(m=b3(o.time),isNaN(m)))return n();if(o.timezone){if(g=E3(o.timezone),isNaN(g))return n()}else{const p=new Date(u+m),b=vd(0);return b.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),b.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),b}return vd(u+m+g)}const jh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},m3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,g3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,p3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function y3(i){const e={},n=i.split(jh.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],jh.timeZoneDelimiter.test(e.date)&&(e.date=i.split(jh.timeZoneDelimiter)[0],s=i.substr(e.date.length,i.length))),s){const o=jh.timezone.exec(s);o?(e.time=s.replace(o[1],""),e.timezone=o[1]):e.time=s}return e}function v3(i,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=i.match(n);if(!s)return{year:NaN,restDateString:""};const o=s[1]?parseInt(s[1]):null,c=s[2]?parseInt(s[2]):null;return{year:c===null?o:c*100,restDateString:i.slice((s[1]||s[2]).length)}}function _3(i,e){if(e===null)return new Date(NaN);const n=i.match(m3);if(!n)return new Date(NaN);const s=!!n[4],o=uc(n[1]),c=uc(n[2])-1,u=uc(n[3]),m=uc(n[4]),g=uc(n[5])-1;if(s)return A3(e,m,g)?w3(e,m,g):new Date(NaN);{const p=new Date(0);return!x3(e,c,u)||!S3(e,o)?new Date(NaN):(p.setUTCFullYear(e,c,Math.max(o,u)),p)}}function uc(i){return i?parseInt(i):1}function b3(i){const e=i.match(g3);if(!e)return NaN;const n=Tg(e[1]),s=Tg(e[2]),o=Tg(e[3]);return R3(n,s,o)?n*L1+s*V1+o*1e3:NaN}function Tg(i){return i&&parseFloat(i.replace(",","."))||0}function E3(i){if(i==="Z")return 0;const e=i.match(p3);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return C3(s,o)?n*(s*L1+o*V1):NaN}function w3(i,e,n){const s=new Date(0);s.setUTCFullYear(i,0,4);const o=s.getUTCDay()||7,c=(e-1)*7+n+1-o;return s.setUTCDate(s.getUTCDate()+c),s}const T3=[31,null,31,30,31,30,31,31,30,31,30,31];function U1(i){return i%400===0||i%4===0&&i%100!==0}function x3(i,e,n){return e>=0&&e<=11&&n>=1&&n<=(T3[e]||(U1(i)?29:28))}function S3(i,e){return e>=1&&e<=(U1(i)?366:365)}function A3(i,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function R3(i,e,n){return i===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&i>=0&&i<25}function C3(i,e){return e>=0&&e<=59}function N3(){const{currentUser:i}=Oa(),[e,n]=D.useState(void 0),[s,o]=D.useState([]),[c,u]=D.useState([]),[m,g]=D.useState([]),[p,b]=D.useState(!0),[w,x]=D.useState("");D.useEffect(()=>{(async()=>{if(!(i!=null&&i.organizationId)){b(!1);return}try{const[ce,fe,ge]=await Promise.all([cy(),k1(),wi()]),C=ge.find(P=>P.id===i.organizationId);C&&x(C.name);const A=ce.filter(P=>P.organizationId===i.organizationId),R=A.find(P=>P.status==="En Cours"),L=A.filter(P=>P.status==="Pas commenc"),M=A.filter(P=>P.status==="Termin");n(R),o(L),u(M),R&&g(fe.filter(P=>P.sprintId===R.id))}catch(ce){console.error("Error fetching client dashboard data:",ce)}finally{b(!1)}})()},[i]);const k=async U=>{const ce=m.find(ge=>ge.id===U);if(!ce)return;const fe={...ce,isCompleted:!ce.isCompleted};g(m.map(ge=>ge.id===U?fe:ge));try{await M1(U,{isCompleted:fe.isCompleted})}catch(ge){console.error("Error updating task:",ge),g(m.map(C=>C.id===U?ce:C))}};if(p)return y.jsx("div",{className:"flex justify-center p-8",children:"Chargement..."});if(!e&&s.length===0&&c.length===0)return y.jsxs("div",{className:"text-center py-12",children:[w&&y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:w}),y.jsx("div",{className:"bg-indigo-50 rounded-full p-4 inline-block mb-4",children:y.jsx(xa,{className:"w-8 h-8 text-indigo-600"})}),y.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Aucun sprint"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Votre organisation n'a aucun sprint pour le moment."})]});const G=m.length,B=m.filter(U=>U.isCompleted).length,V=G>0?Math.round(B/G*100):0;let Z=0,X=0;if(e){const U=$E(e.startDate),ce=$E(e.endDate),fe=new Date,ge=wg(ce,U),C=wg(fe,U);X=wg(ce,fe),ge>0&&(Z=Math.min(100,Math.max(0,Math.round(C/ge*100))))}return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 sm:p-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bienvenue dans Sprint Master votre espace de gestion des Sprint !"}),w&&y.jsx("p",{className:"text-lg text-indigo-600 font-semibold mb-2",children:w}),y.jsxs("p",{className:"text-gray-500",children:["Transformez vos contraintes en opportunits : ",y.jsx("a",{href:"https://www.MasterYourMetrics.be",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"www.MasterYourMetrics.be"})]})]}),e?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Sprint Actif : ",e.name]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[y.jsx(xa,{className:"w-5 h-5 text-indigo-600"}),"Progression du temps"]}),y.jsxs("div",{className:"mb-2 flex justify-between text-sm",children:[y.jsxs("span",{className:"text-gray-500",children:["Dbut: ",e.startDate]}),y.jsxs("span",{className:"font-medium text-indigo-600",children:[X," jours restants"]}),y.jsxs("span",{className:"text-gray-500",children:["Fin: ",e.endDate]})]}),y.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4 overflow-hidden",children:y.jsx("div",{className:"bg-indigo-600 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${Z}%`}})})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[y.jsx(p1,{className:"w-5 h-5 text-green-600"}),"Tches accomplies"]}),y.jsxs("div",{className:"flex items-end gap-4 mb-4",children:[y.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:[V,"%"]}),y.jsxs("span",{className:"text-sm text-gray-500 mb-1.5",children:[B," sur ",G," tches"]})]}),y.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4 overflow-hidden",children:y.jsx("div",{className:"bg-green-500 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${V}%`}})})]})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Checklist du Sprint"}),y.jsxs("div",{className:"space-y-3",children:[m.map(U=>y.jsxs("label",{className:`flex items-start p-3 rounded-lg border cursor-pointer transition-all duration-200 ${U.isCompleted?"bg-gray-50 border-gray-200":"bg-white border-gray-200 hover:border-indigo-300 hover:shadow-sm"}`,children:[y.jsx("div",{className:"flex items-center h-5",children:y.jsx("input",{type:"checkbox",checked:U.isCompleted,onChange:()=>k(U.id),className:"h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),y.jsx("div",{className:"ml-3 text-sm",children:y.jsx("span",{className:`font-medium block ${U.isCompleted?"text-gray-500 line-through":"text-gray-900"}`,children:U.title})})]},U.id)),m.length===0&&y.jsxs("div",{className:"text-center py-8 text-gray-500",children:[y.jsx(f1,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),y.jsx("p",{children:"Aucune tche pour ce sprint."})]})]})]})]})]}):y.jsx("div",{className:"bg-indigo-50 rounded-xl p-6 text-center",children:y.jsx("h2",{className:"text-lg font-semibold text-indigo-900",children:"Aucun sprint actif pour le moment"})}),s.length>0&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Sprints  venir"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(U=>y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 opacity-75 hover:opacity-100 transition-opacity",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:U.name}),y.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pas commenc"})]}),y.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[y.jsx(Mc,{className:"w-4 h-4"}),U.startDate," - ",U.endDate]})]},U.id))})]}),c.length>0&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Sprints termins"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(U=>y.jsxs("div",{className:"bg-gray-50 rounded-xl shadow-sm border border-gray-200 p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"font-semibold text-gray-700",children:U.name}),y.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-gray-200 text-gray-700",children:"Termin"})]}),y.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[y.jsx(Mc,{className:"w-4 h-4"}),U.startDate," - ",U.endDate]})]},U.id))})]})]})}function I3(){const{currentUser:i}=Oa(),[e,n]=D.useState(""),[s,o]=D.useState([]),[c,u]=D.useState(!0);D.useEffect(()=>{(async()=>{if(!(i!=null&&i.organizationId)){u(!1);return}try{const b=(await uy()).filter(w=>w.organizationId===i.organizationId);o(b)}catch(p){console.error("Error fetching client documents:",p)}finally{u(!1)}})()},[i]);const m=s.filter(g=>g.title.toLowerCase().includes(e.toLowerCase()));return c?y.jsx("div",{className:"flex justify-center p-8",children:"Chargement..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Documents"})}),y.jsxs("div",{className:"relative max-w-md",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(g1,{className:"h-5 w-5 text-gray-400"})}),y.jsx("input",{type:"text",className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"Rechercher un document...",value:e,onChange:g=>n(g.target.value)})]}),m.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(g=>y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col hover:shadow-md transition-shadow",children:[y.jsx("div",{className:"flex items-start justify-between mb-4",children:y.jsx("div",{className:"bg-indigo-50 p-3 rounded-lg",children:y.jsx(Ta,{className:"w-6 h-6 text-indigo-600"})})}),y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:g.title}),y.jsx("p",{className:"text-sm text-gray-500 mb-6 flex-1",children:g.description}),y.jsxs("a",{href:g.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[y.jsx(g6,{className:"w-4 h-4 mr-2"}),"Ouvrir"]})]},g.id))}):y.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100",children:[y.jsx(Ta,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Aucun document disponible"}),y.jsx("p",{className:"text-gray-500",children:"Il n'y a pas encore de documents partags avec votre organisation."})]})]})}function D3(){const{currentUser:i}=Oa(),[e,n]=D.useState([]),[s,o]=D.useState(!0);return D.useEffect(()=>{(async()=>{if(!(i!=null&&i.organizationId)){o(!1);return}try{const m=(await j1()).filter(g=>g.organizationId===i.organizationId);n(m)}catch(u){console.error("Error fetching client diagnostics:",u)}finally{o(!1)}})()},[i]),s?y.jsx("div",{className:"flex justify-center p-8",children:"Chargement..."}):y.jsxs("div",{className:"space-y-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Diagnostics"}),e.length>0?y.jsx("div",{className:"grid grid-cols-1 gap-8",children:e.map(c=>y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:c.title}),y.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[y.jsx(Mc,{className:"w-4 h-4 mr-2"}),"Ralis le ",c.date]})]}),y.jsxs("div",{className:"flex items-center gap-3 bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm",children:[y.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Score Global"}),y.jsxs("span",{className:`text-2xl font-bold ${c.globalScore>=70?"text-green-600":c.globalScore>=40?"text-yellow-600":"text-red-600"}`,children:[c.globalScore,"/100"]})]})]}),y.jsxs("div",{className:"p-6 lg:p-8",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h4",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide mb-3",children:"Analyse Gnrale"}),y.jsx("p",{className:"text-gray-600 bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:c.comment})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6",children:Object.entries(c.scores).map(([u,m])=>{const g=m;return y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-base font-medium text-gray-700 capitalize",children:u}),y.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[g,"%"]})]}),y.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3",children:y.jsx("div",{className:`h-3 rounded-full transition-all duration-1000 ${g>=70?"bg-green-500":g>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${g}%`}})})]},u)})})]})]},c.id))}):y.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100",children:[y.jsx(Wg,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Aucun diagnostic disponible"}),y.jsx("p",{className:"text-gray-500",children:"Votre organisation n'a pas encore t value."})]})]})}function O3(){return y.jsxs("div",{className:"space-y-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes Rcompenses"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center opacity-50",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(q6,{className:"w-8 h-8 text-gray-400"})}),y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Sprint Master"}),y.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Complter 5 sprints conscutifs  100%"}),y.jsx("div",{className:"mt-4 w-full bg-gray-100 rounded-full h-2",children:y.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:"20%"}})}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"1/5"})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(V6,{className:"w-8 h-8 text-yellow-500"})}),y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Early Adopter"}),y.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Rejoindre la plateforme en 2026"}),y.jsx("span",{className:"inline-block mt-4 px-3 py-1 bg-green-100 text-green-800 text-xs font-bold rounded-full",children:"Obtenu"})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center opacity-50",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(d1,{className:"w-8 h-8 text-gray-400"})}),y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Document Hero"}),y.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Tlcharger tous les documents du trimestre"}),y.jsx("div",{className:"mt-4 w-full bg-gray-100 rounded-full h-2",children:y.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:"50%"}})}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"2/4"})]})]})]})}function k3(){return y.jsx(QM,{children:y.jsx(XR,{children:y.jsxs(AR,{children:[y.jsx(Gt,{path:"/login",element:y.jsx(Zj,{})}),y.jsx(Gt,{path:"/",element:y.jsx(da,{to:"/admin/dashboard",replace:!0})}),y.jsxs(Gt,{path:"/admin",element:y.jsx(HE,{allowedRoles:["admin"],children:y.jsx(qE,{})}),children:[y.jsx(Gt,{index:!0,element:y.jsx(da,{to:"dashboard",replace:!0})}),y.jsx(Gt,{path:"dashboard",element:y.jsx(e3,{})}),y.jsx(Gt,{path:"organizations",element:y.jsx(n3,{})}),y.jsx(Gt,{path:"users",element:y.jsx(r3,{})}),y.jsx(Gt,{path:"sprints",element:y.jsx(o3,{})}),y.jsx(Gt,{path:"documents",element:y.jsx(c3,{})}),y.jsx(Gt,{path:"diagnostics",element:y.jsx(h3,{})})]}),y.jsxs(Gt,{path:"/client",element:y.jsx(HE,{allowedRoles:["client"],children:y.jsx(qE,{})}),children:[y.jsx(Gt,{index:!0,element:y.jsx(da,{to:"dashboard",replace:!0})}),y.jsx(Gt,{path:"dashboard",element:y.jsx(N3,{})}),y.jsx(Gt,{path:"documents",element:y.jsx(I3,{})}),y.jsx(Gt,{path:"diagnostics",element:y.jsx(D3,{})}),y.jsx(Gt,{path:"achievements",element:y.jsx(O3,{})})]}),y.jsx(Gt,{path:"*",element:y.jsx(da,{to:"/login",replace:!0})})]})})})}AA.createRoot(document.getElementById("root")).render(y.jsx(D.StrictMode,{children:y.jsx(k3,{})}));
